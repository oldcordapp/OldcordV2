var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

webpackJsonp([113,0,1,2,5,114,116,119,120,123],Array(581).concat([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(1262)),s=a("path",{transform:"translate(18 0) scale(-1 1)",fill:"#FFFFFF",fillRule:"nonzero",d:"M11.5,9 C13.1575,9 14.5,7.6575 14.5,6 C14.5,4.3425 13.1575,3 11.5,3 C9.8425,3 8.5,4.3425 8.5,6 C8.5,7.6575 9.8425,9 11.5,9 Z M4,7 L4,5 L3,5 L3,7 L1,7 L1,8 L3,8 L3,10 L4,10 L4,8 L6,8 L6,7 L4,7 Z M11.5,10 C9.4975,10 6,11.005 6,13 L6,15 L17,15 L17,13 C17,11.005 13.5025,10 11.5,10 Z"}),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",onClick:this.props.onClick,className:o.default.icon},void 0,s)},t}(i.default.PureComponent);t.default=c,e.exports=t.default},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(1263)),s=a("path",{d:"M13.62,5.22666667 C13.8666667,5.88 14,6.59333333 14,7.33333333 L14,12.6666667 C14,13.7712362 12.6666667,14 12.6666667,14 L10,14 L10,8.84666667 L6,12.8466667 L6,14 L4.84666667,14 L3.18,15.6666667 L2.33333333,14.8133333 L14.1466667,3 L15,3.84666667 L13.62,5.22666667 Z M8,1.33333333 C9.68666667,1.33333333 11.2133333,2.02666667 12.3,3.14666667 L11.36,4.09333333 C10.5133333,3.21333333 9.33333333,2.66666667 8,2.66666667 C5.42267117,2.66666667 3.33333333,4.7560045 3.33333333,7.33333333 L3.33333333,8.66666667 L6,8.66666667 L6,9.45333333 L2.33333333,13.1133333 C2.12666667,12.7933333 2,12.4133333 2,12 L2,7.33333333 C2,4.01962483 4.6862915,1.33333333 8,1.33333333 L8,1.33333333 Z M12.6666667,8.66666667 L12.6666667,7.33333333 C12.6666667,6.97333333 12.6266667,6.62666667 12.5533333,6.29333333 L10.18,8.66666667 L12.6666667,8.66666667 Z",transform:"translate(16 0) scale(-1 1)"}),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",className:o.default.icon},void 0,s)},t}(i.default.PureComponent);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(1264)),s=a("path",{fill:"#FFFFFF",d:"M10.6666667,6 C10.6666667,6.79333333 10.44,7.53333333 10.0666667,8.18666667 L9.24666667,7.36666667 C9.42666667,6.95333333 9.53333333,6.49333333 9.53333333,6 L10.6666667,6 L10.6666667,6 Z M8,6.10666667 L4,2.12 L4,2 C4,0.8954305 4.8954305,2.96059473e-16 6,0 C7.1045695,0 8,0.8954305 8,2 L8,6 L8,6.10666667 L8,6.10666667 Z M0.846666667,0.666666667 L12,11.82 L11.1533333,12.6666667 L8.36,9.87333333 C7.84666667,10.18 7.27333333,10.3866667 6.66666667,10.48 L6.66666667,12.6666667 L5.33333333,12.6666667 L5.33333333,10.48 C3.14666667,10.1533333 1.33333333,8.27333333 1.33333333,6 L2.46666667,6 C2.46666667,8 4.16,9.4 6,9.4 C6.54,9.4 7.06666667,9.27333333 7.54,9.05333333 L6.43333333,7.94666667 L6,8 C4.8954305,8 4,7.1045695 4,6 L4,5.52 L0,1.51333333 L0.846666667,0.666666667 Z",transform:"translate(2 1.5)"}),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",className:o.default.icon},void 0,s)},t}(i.default.PureComponent);t.default=c,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){if(g.default.embedded)if(!I||A){var e=!!A&&I;e!==O&&("discord_overlay2"===A?(g.default.requireModule(A,!0),N=g.default.requireModule(A,!1),R=!1):(N=g.default.requireModule(A,!0),R=!0),null!=N?(e?(O=!0,N.setAttachCallback(function(e){var t="Unknown";N.getGraphicsApi&&(t=N.getGraphicsApi(e)||t),b.default.track(d.AnalyticEvents.OVERLAY_HOOKED,{nonce:e,graphics_api:t})}),C.forEach(i)):(C.forEach(o),O=!1,null!=D&&D.reset()),c()):console.warn("discord_overlay module is missing."))}else g.default.queryModule("discord_overlay2")}function i(e){if(O&&null!=N&&null!=M){var t=N.generateSession(e);b.default.track(d.AnalyticEvents.OVERLAY_HOOKING,l({nonce:t,game_name:v.default.getGameNameForPid(e)},N.getAnalyticsData()));var n=v.default.getOverlayOptionsForPid(e);N.setURL(M),R?N.attachToProcess(e,t):N.attachToProcess(e,t,n)}}function o(e){O&&null!=N&&null!=M&&N.detachFromProcess(e)}function s(){h.send({type:T,payload:{type:d.ActionTypes.UPDATE_TOKEN,token:_.default.getToken()}})}function c(){g.default.setBackgroundThrottling(!O||0===C.length)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(3);var u=r(n(549)),f=r(n(5)),d=n(4),p=r(n(27)),g=r(n(22)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1933)),m=r(n(212)),b=r(n(54)),v=r(n(1330)),_=r(n(24)),y=r(n(1340)),E=m.default.create("OverlayBridge"),S="ADD_CHANGE_LISTENER",x="REMOVE_CHANGE_LISTENER",w="STORES",T="DISPATCH",C=[],A=void 0,I=!1,O=!1,N=null,M=void 0,R=!1,D=null,P={},k=new p.default,L=void 0;g.default.embedded&&!__OVERLAY__&&_.default.addChangeListener(s);var U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stores=[n(1737),n(1738),n(1739),n(1740),n(1741),n(1742),n(1743),n(1472)].reduce(function(e,t){return e[t.getDispatchToken()]=t,e},{}),this.refs={},this.changeListeners={}}return e.prototype.reset=function(){var e=Object.keys(this.changeListeners),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r;this.stores[a].removeChangeListener(this.changeListeners[a])}this.refs={},this.changeListeners={}},e.prototype.connect=function(){var e=Object.values(this.changeListeners),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}r()}},e.prototype.listenTo=function(e){this.refs[e]=(this.refs[e]||0)+1;var t=this.changeListeners[e];if(null==t){var n=this.stores[e];null!=n&&(t=function(){P[e]=n.getState(),clearTimeout(L),L=setTimeout(function(){h.send({type:w,stores:P}),P={}},0)},this.changeListeners[e]=t,n.addChangeListener(t))}},e.prototype.stopListeningTo=function(e){if(this.refs[e]--,0===this.refs[e]){var t=this.stores[e];null!=t&&(t.removeChangeListener(this.changeListeners[e]),delete this.changeListeners[e])}},e}();h.setReceiveHandler(function(e){switch(e.type){case"CONNECT":__OVERLAY__||s(),(D=D||new U).connect(),E.info("Overlay instance connected.");break;case S:D.listenTo(e.dispatchToken),E.info("Overlay added a listener to "+e.dispatchToken+".");break;case x:D.stopListeningTo(e.dispatchToken),E.info("Overlay removed a listener from "+e.dispatchToken+".");break;case T:f.default.dispatch(e.payload);break;case w:var t=e.stores;P=l({},P,t);var n=Object.keys(t),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(a>=n.length)break;i=n[a++]}else{if((a=n.next()).done)break;i=a.value}var o=i;k.emit(o)}}}),__OVERLAY__?(h.connect(),h.send({type:"CONNECT"})):g.default.embedded&&(g.default.on("MODULE_INSTALLED",function(e,t,n){"discord_overlay2"===t?n?(A="discord_overlay2",a()):g.default.installModule("discord_overlay"):"discord_overlay"===t&&(n&&(A="discord_overlay"),y.default.setInstallProgress(n?1:0),a())}),g.default.on("MODULE_INSTALL_PROGRESS",function(e,t,n){t.startsWith("discord_overlay")&&y.default.setInstallProgress(n)})),t.default={sync:function(e,t){return t._render=t.render,delete t.render,l({mixins:[u.default,function(e){var t=e.getDispatchToken();return{componentDidMount:function(){k.on(t,this.handleBridgedStoreUpdate),h.send({type:S,dispatchToken:t})},componentWillUnmount:function(){k.removeListener(t,this.handleBridgedStoreUpdate),h.send({type:x,dispatchToken:t})},handleBridgedStoreUpdate:function(){this.setState(this.getBridgedStoreState())},getInitialState:function(){return this.getBridgedStoreState()},getBridgedStoreState:function(){var e=P[t];return l({__ready:null!=e},e)},isReady:function(){return this.state.__ready}}}(e)]},t,{render:function(){return this.isReady()?this._render():null}})},interceptDispatcher:function(){var e=new Set([d.ActionTypes.GUILD_SELECT,d.ActionTypes.CHANNEL_COLLAPSE,d.ActionTypes.VOICE_CHANNEL_SELECT,d.ActionTypes.AUDIO_TOGGLE_SELF_MUTE,d.ActionTypes.AUDIO_TOGGLE_SELF_DEAF,d.ActionTypes.AUDIO_TOGGLE_LOCAL_MUTE,d.ActionTypes.AUDIO_SET_LOCAL_VOLUME,d.ActionTypes.OVERLAY_SELECT_GUILD,d.ActionTypes.OVERLAY_SELECT_CALL,d.ActionTypes.OVERLAY_OPEN_USER_POPOUT,d.ActionTypes.OVERLAY_SET_DISPLAY_NAME_MODE,d.ActionTypes.OVERLAY_SET_DISPLAY_USER_MODE,d.ActionTypes.OVERLAY_SET_AVATAR_SIZE_MODE,d.ActionTypes.OVERLAY_SET_POSITION,d.ActionTypes.OVERLAY_SET_LOCKED,d.ActionTypes.CALL_DELETE]);f.default.setInterceptor(function(t){var n=e.has(t.type);return n&&h.send({type:T,payload:t}),n})},setURL:function(e){if(null!=M)throw new Error("overlayURL already set");M=e,C.forEach(i)},enable:function(){I=!0,a()},disable:function(){I=!1,a()},get isAvailable(){return!!A},attach:function(e){e.filter(function(e){return-1===C.indexOf(e)}).forEach(i),C.filter(function(t){return-1===e.indexOf(t)}).forEach(o),0===(C=e).length&&null!=D&&D.reset(),c()},setLocked:function(e){null!=N&&N.setInputLocked(e)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=(r(n(547)),r(n(3))),o=r(n(548)),s=r(n(549)),c=r(n(15)),l=r(n(26)),u=r(n(7)),f=n(4),d=r(n(58)),p=r(n(21)),g=n(1485),h=r(n(199)),m=r(n(1449)),b=r(n(54));n(1617);var v=r(n(40)),_=n(1581),y=(0,o.default)({displayName:"DownloadApps",mixins:[s.default,u.default.StoreListenerMixin(d.default)],statics:{modalConfig:{key:"download-apps",backdropStyle:m.default.LIGHT}},getInitialState:function(){return{ptb:!1,desktop:{key:"desktop",platforms:[{os:p.default.Messages.PLATFORM_OSX,icon:"apple",url:function(e){return(0,_.makeDesktopDownloadURL)("osx",e)}},{os:p.default.Messages.PLATFORM_WINDOWS,icon:"windows",url:function(e){return(0,_.makeDesktopDownloadURL)("win",e)}},{os:p.default.Messages.PLATFORM_LINUX,icon:"linux",url:[{url:function(e){return(0,_.makeDesktopDownloadURL)("linux",e,"deb")},text:p.default.Messages.DEB},{url:function(e){return(0,_.makeDesktopDownloadURL)("linux",e,"tar.gz")},text:p.default.Messages.TAR_GZ}]}]},mobile:{key:"mobile",platforms:[{os:p.default.Messages.PLATFORM_IOS,icon:"ios",url:function(){return f.DownloadLinks.IOS}},{os:p.default.Messages.PLATFORM_ANDROID,icon:"android",url:function(){return f.DownloadLinks.ANDROID}}]}}},getStateFromStores:function(){var e=d.default.getCurrentUser();return{claimed:null==e||e.isClaimed()}},getDefaultProps:function(){return{source:"Unspecified"}},componentWillMount:function(){this.detectActiveOS()},detectActiveOS:function(){switch(l.default.os.family){case"OS X":return this.handleMouseEnter(this.state.desktop.key+0);case"Windows":return this.handleMouseEnter(this.state.desktop.key+1);case"Ubuntu":case"Debian":case"Fedora":case"Red Hat":case"SuSE":case"Linux":return this.handleMouseEnter(this.state.desktop.key+2);case"iOS":return this.handleMouseEnter(this.state.mobile.key+0);case"Android":return this.handleMouseEnter(this.state.mobile.key+1);default:return null}},renderPlatforms:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.map(function(e,i){var o=e.os,s=e.icon,l=e.url,u=t+i,f=(0,c.default)({platform:!0,active:n.state.active===u});return a(S,{os:o,icon:s,url:l,claimed:n.state.claimed,className:f,onClick:n.handleClick.bind(n,o,r),onMouseEnter:n.handleMouseEnter.bind(n,u),ptb:r},u)},this)},render:function(){var e=void 0;return e=this.state.ptb?p.default.Messages.DOWNLOAD_DESKTOP_PTB_FOOTER.format({onClick:this.showStable}):p.default.Messages.DOWNLOAD_DESKTOP_STABLE_FOOTER.format({onClick:this.showPTB}),a("div",{className:"download-apps",onClick:function(){return h.default.pop()}},void 0,a("div",{className:"inner"},void 0,a("div",{className:"platforms-wrap",onClick:function(e){return e.stopPropagation()}},void 0,a("p",{className:"header"},void 0,p.default.Messages.DOWNLOAD_DESKTOP_TITLE),a("ul",{className:"platforms"},void 0,this.renderPlatforms(this.state.desktop.platforms,this.state.desktop.key,this.state.ptb)),a("p",{className:"footer"},void 0,e)),a("div",{className:"platforms-wrap"},void 0,a("p",{className:"header"},void 0,p.default.Messages.DOWNLOAD_MOBILE_TITLE),a("ul",{className:"platforms"},void 0,this.renderPlatforms(this.state.mobile.platforms,this.state.mobile.key)))))},showStable:function(){this.setState({ptb:!1})},showPTB:function(){this.setState({ptb:!0})},handleClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(v.default.get("token")||v.default.get("fingerprint"))&&b.default.track(f.AnalyticEvents.DOWNLOAD_APP,{platform:e,ptb:t,released:!0,has_e_mail:this.state.claimed,referring_location:this.props.source}),this.state.claimed||(h.default.pop(),(0,g.open)())},handleMouseEnter:function(e){this.setState({active:e})}}),E=function(e){var t=e.url,n=e.ptb,r=e.text,i=e.onClick;return a("a",{href:t,target:"_blank",className:"download-button",onClick:i},void 0,r,n?" PTB":"")},S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.ptb,r=e.url,i=e.onClick,o=e.onMouseEnter,s=e.className,l=e.claimed,u=e.os,f=(0,c.default)("icon",t),d=void 0,g=void 0;if(Array.isArray(r))g="list",d=r.map(function(e,t){var r=l?e.url(n):null;return a(E,{ptb:n,url:r,onClick:i,text:e.text},r+"-"+t)});else{var h=l?r(n):null;d=a(E,{ptb:n,url:h,onClick:i,text:p.default.Messages.DOWNLOAD})}return a("li",{className:s,onMouseEnter:o},void 0,a("div",{className:"content-wrapper"},void 0,a("div",{className:"icon-wrap"},void 0,a("div",{className:f}),a("div",{className:"active "+f})),a("p",{},void 0,u),a("div",{className:(0,c.default)("download-buttons",g)},void 0,d)))},t}(i.default.PureComponent);t.default=y,e.exports=t.default},function(e,t){e.exports={icon:"icon-3dhTrw"}},function(e,t){e.exports={icon:"icon-33Frxe"}},function(e,t){e.exports={icon:"icon-1NXYub"}},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),s=r(n(3)),c=r(n(548)),l=n(204),u=r(n(1839)),f=r(n(1932)),d=r(n(4971)),p=r(n(4973)),g=r(n(5011)),h=r(n(1340)),m=r(n(1307)),b=r(n(1260)),v=r(n(1743)),_=r(n(22)),y=r(n(5013)),E=r(n(1750)),S=r(n(1754)),x=void 0;_.default.embedded;var w=function(e){function t(){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(s))),r._setGuildPanelRef=function(e){r._guildPanel=e},i=n,a(r,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(){var e=(0,l.findDOMNode)(this),t=e.clientHeight;if(this.props.locked)e.style.height=t+"px";else if(null!=this._guildPanel){var n=(0,l.findDOMNode)(this._guildPanel).clientHeight;e.style.height=Math.max(t,n)+"px"}},t.prototype.render=function(){var e=this.props,t=e.flipped,n=e.locked;return o("div",{className:t?y.default.draggableFlipped:y.default.draggable},void 0,n?s.default.createElement(d.default,this.props):s.default.createElement(p.default,i({ref:this._setGuildPanelRef},this.props)),s.default.createElement(f.default,this.props))},t}(s.default.Component),T=(0,c.default)(b.default.sync(v.default,{handleDragStart:function(){m.default.close()},handleMovedTo:function(e,t){m.default.close(),h.default.setPosition(e,t)},handleLock:function(e){e.target===this.refs.OVERLAY_REF&&h.default.setLocked(!0)},handleWindowResize:function(){this.forceUpdate()},disableContextMenu:function(e){e.preventDefault()},componentDidMount:function(){window.addEventListener("resize",this.handleWindowResize),window.addEventListener("contextmenu",this.disableContextMenu,!1)},componentWillUpdate:function(e,t){if(!this.state.locked&&t.locked){var n=this.refs.DRAGGABLE_REF;null!=n&&n.handleMouseUp()}},componentWillUnmount:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("contextmenu",this.disableContextMenu,!1)},render:function(){var e=this.state,t=e.position,n=e.disabled,r=e.locked,a=e.keybind;return n||0===window.innerWidth||0===window.innerHeight?null:s.default.createElement("div",{className:y.default.overlay,ref:"OVERLAY_REF",onMouseDown:this.handleLock},x,o(g.default,{keybind:a,locked:r}),s.default.createElement(u.default,{ref:"DRAGGABLE_REF",selector:"."+S.default.guildPanelHeader+", ."+E.default.wrapper,className:y.default.container,initialX:t.x,initialY:t.y,maxX:window.innerWidth,maxY:window.innerHeight,onDragStart:this.handleDragStart,onDragEnd:this.handleMovedTo,onRelocated:this.handleMovedTo},s.default.createElement(w,i({},this.props,{locked:r,keybind:a}))))}}));t.default=T,e.exports=t.default},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=n(103),s=r(n(7)),c=r(n(22)),l=n(623);n(1269),n(1486),n(5423),n(142),n(5533),n(5424),n(5534),n(652),n(1840),n(5535),n(5536),n(1402),n(5425),s.default.initialize();var u=(0,l.makeLazy)(function(){return n.e(127).then(n.bind(null,5426))}),f=(0,l.makeLazy)(function(){return n.e(127).then(n.bind(null,5538))}),d=(0,l.makeLazy)(function(){return n.e(132).then(n.bind(null,5015))}),p=(0,l.makeLazy)(function(){return n.e(130).then(n.bind(null,5542))}),g=(0,l.makeLazy)(function(){return n.e(129).then(n.bind(null,5650))},l.darkLoader);c.default.embedded?n.e(128).then(n.bind(null,5531)).then(function(e){return window.addEventListener("contextmenu",e.contextMenuCallbackNative,!1)}):n.e(128).then(n.bind(null,5531)).then(function(e){return window.addEventListener("contextmenu",e.contextMenuCallbackWeb,!1)});var h=a(o.Route,{path:"/login",component:u}),m=a(o.Route,{path:"/register",component:d}),b=a(o.Route,{path:"/invite/:code",component:f}),v=a(p,{},"modals"),_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return[a(o.Switch,{},"switch",h,m,b,a(o.Route,{path:"/invite-proxy/:channelId",component:f.Proxy}),a(o.Route,{component:g,theme:this.props.theme})),v]},t}(i.default.PureComponent);t.default=_,e.exports=t.default},,,function(e,t,n){"use strict";function r(e){if(!r.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}var a=n(1345);(r.prototype=Object.create(Error.prototype)).constructor=r,r.types=a(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),r.findRootError=function(e){return e instanceof r&&e.details&&e.details.originalError?r.findRootError(e.details.originalError):e},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=(r(n(3)),r(n(15)));t.default=function(e){var t=e.styles,n=e.label,r=e.hint,o=e.action,s=e.danger,c=void 0!==s&&s,l=e.disabled,u=void 0!==l&&l,f=e.children,d=void 0===f?null:f;return a("div",{className:(0,i.default)("item",{danger:c,disabled:u}),style:t,onClick:u?null:o},void 0,a("span",{},void 0,n),a("div",{className:"hint"},void 0,r),d)},e.exports=t.default},,function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),a=n(4);t.default={open:function(e){r.default.dispatch({type:a.ActionTypes.CONTEXT_MENU_OPEN,contextMenu:e})},close:function(){r.default.dispatch({type:a.ActionTypes.CONTEXT_MENU_CLOSE})}},e.exports=t.default},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e){return function(){var t,n=Array.prototype.slice.call(arguments);return"function"==typeof n[n.length-1]&&(t=n.pop(),t=i(a(t))),o(e.apply(this,n),t)}}var a=n(4708),i=n(4709),o=n(4710);r.wrapPrototype=function(e,t){var n,a;return t=t||{},n=t.ignoreMethods||[],a=!0===t.transformPrivateMethods,Object.getOwnPropertyNames(e.prototype).filter(function(t){var r,i="constructor"!==t&&"function"==typeof e.prototype[t],o=-1===n.indexOf(t);return r=!!a||"_"!==t.charAt(0),i&&r&&o}).forEach(function(t){var n=e.prototype[t];e.prototype[t]=r(n)}),e},e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.__esModule=!0,t.ComponentDispatch=void 0;var a=function(e){function t(){var n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=a=r(this,e.call.apply(e,[this].concat(s))),a._savedDispatches={},i=n,r(a,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.safeDispatch=function(e,t){if(!this.hasSubscribers(e))return this._savedDispatches[e]||(this._savedDispatches[e]=[]),void this._savedDispatches[e].push(t);this.dispatch(e,t)},t.prototype.dispatch=function(e,t){return this.emit(e,t),this},t.prototype.dispatchToLastSubscribed=function(e,t){var n=this.listeners(e);return n.length&&n[n.length-1](t),this},t.prototype.dispatchToFirst=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.hasSubscribers(r)){this.dispatch(r,t);break}}return this},t.prototype.hasSubscribers=function(e){return this.listenerCount(e)>0},t.prototype._checkSavedDispatches=function(e){var t=this;this._savedDispatches[e]&&(this._savedDispatches[e].forEach(function(n){return t.dispatch(e,n)}),this._savedDispatches[e]=void 0)},t.prototype.subscribe=function(e,t){return this.listeners(e).indexOf(t)>=0?(console.warn("ComponentDispatch.subscribe: Attempting to add a duplicate listener",e),this):(this.on(e,t),this._checkSavedDispatches(e),this)},t.prototype.subscribeOnce=function(e,t){return this.once(e,t),this._checkSavedDispatches(e),this},t.prototype.unsubscribe=function(e,t){return this.removeListener(e,t),this},t.prototype.reset=function(){return this.removeAllListeners(),this},t}(function(e){return e&&e.__esModule?e:{default:e}}(n(27)).default),i=t.ComponentDispatch=new a;t.default={ComponentDispatch:i}},function(e,t,n){"use strict";(function(t){var r=t.Promise||n(4707);e.exports=r}).call(t,n(13))},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}var i=n(201),o=i.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=i:(r(i,t),t.Buffer=a),r(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){d=Object.values(f).filter(function(e){return e===u.RelationshipTypes.PENDING_INCOMING}).length}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(7)),s=r(n(5)),c=r(n(58)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1974)),u=n(4),f={},d=0,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default)},t.prototype.isFriend=function(e){return f[e]===u.RelationshipTypes.FRIEND},t.prototype.isBlocked=function(e){return f[e]===u.RelationshipTypes.BLOCKED},t.prototype.getPendingCount=function(){return d},t.prototype.getRelationships=function(){return f},t.prototype.getRelationshipType=function(e){var t=f[e];return null!=t?t:u.RelationshipTypes.NONE},t.prototype.getFriendIDs=function(){return Object.keys(f).filter(function(e){return f[e]===u.RelationshipTypes.FRIEND})},t}(o.default.Store);t.default=new p(s.default,{CONNECTION_OPEN:function(e){f={},e.relationships.forEach(function(e){return f[e.id]=e.type}),a()},RELATIONSHIP_ADD:function(e){var t,n=f[e.relationship.id];f=i({},f,(t={},t[e.relationship.id]=e.relationship.type,t)),a(),e.relationship.type===u.RelationshipTypes.PENDING_INCOMING?l.showPendingNotification(e.relationship.user):e.relationship.type===u.RelationshipTypes.FRIEND&&n==u.RelationshipTypes.PENDING_OUTGOING&&l.showAcceptedNotification(e.relationship.user)},RELATIONSHIP_REMOVE:function(e){delete(f=i({},f))[e.relationship.id],a()}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){u.default.track("streamer_mode_toggle",{enabled:e,automatic:t})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(7)),c=r(n(5)),l=n(4),u=r(n(54)),f={enabled:!1,autoToggle:!0,hideInstantInvites:!0,hidePersonalInformation:!0,disableSounds:!0,disableNotifications:!0},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSettings=function(){var e=i({},f);for(var t in e)e[t]=this.get(t);return e},o(t,[{key:"enabled",get:function(){return this.get("enabled")}},{key:"autoToggle",get:function(){return this.get("autoToggle")}},{key:"hideInstantInvites",get:function(){return this.enabled&&this.get("hideInstantInvites")}},{key:"hidePersonalInformation",get:function(){return this.enabled&&this.get("hidePersonalInformation")}},{key:"disableSounds",get:function(){return this.enabled&&this.get("disableSounds")}},{key:"disableNotifications",get:function(){return this.enabled&&this.get("disableNotifications")}}]),t}(s.default.CachedStore);t.default=new d(c.default,"StreamerModeStore",l.ActionTypes.STREAMER_MODE_UPDATE,f,function(e,t){switch(t.type){case l.ActionTypes.STREAMER_MODE_UPDATE:return"enabled"===t.key?a(t.value,!1):u.default.track("update_streamer_mode_settings",{enabled:e.get("enabled"),automatic:e.get("autoToggle"),disable_notifications:e.get("disableNotifications"),disable_sounds:e.get("disableSounds"),hide_instant_invites:e.get("hideInstantInvites"),hide_personal_info:e.get("hidePersonalInformation")}),!1;case l.ActionTypes.RUNNING_STREAMER_TOOLS_CHANGE:if(e.autoToggle){var n=t.count>0;return e.set("enabled",n),a(n,!0),!0}return!1;default:return!1}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Types=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(3)),o=r(n(15)),s=r(n(84)),c=r(n(4649)),l=t.Types={DEFAULT:"default",INPUT_PLACEHOLDER:"placeholder",DESCRIPTION:"description",LABEL_BOLD:"labelBold",LABEL_SELECTED:"labelSelected",LABEL_DESCRIPTOR:"labelDescriptor"},u="modeDefault",f="modeDisabled",d="modeSelectable",p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.className,r=e.disabled,l=e.selectable,p=e.children,g=e.style,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","className","disabled","selectable","children","style"]),m=u;return r?m=f:l&&(m=d),i.default.createElement(s.default,a({className:(0,o.default)(c.default[t],n,c.default[m]),color:s.default.Colors.PRIMARY,style:g},h),p)},t}(i.default.PureComponent);p.Types=l,p.defaultProps={type:l.DEFAULT},t.default=p},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){var a=t.offsetX,o=void 0===a?0:a,c=t.offsetY,l=void 0===c?0:c,u=e;if(u instanceof Element||(u=s.default.findDOMNode(e)),!(u instanceof Element))return null;var d=0,p=u.getBoundingClientRect(),g=p.top,h=p.left,m=p.right,b=p.bottom;null!=r&&(d=r.pageX-h);var v=i({key:n,targetWidth:m-h,targetHeight:b-g,x:h+o,y:g+l,clickPos:d,target:u},t);f.default.open(v)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.openPopout=a;var o=r(n(3)),s=r(n(204)),c=r(n(15)),l=r(n(216)),u=r(n(1408)),f=r(n(1307)),d=n(1280),p=n(4),g={TOP:"top",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",BOTTOM_RIGHT:"bottom-right",BOTTOM_LEFT:"bottom-left"},h={position:g.TOP,backdrop:!1,animationType:"default",closeOnScroll:!0,toggleClose:!0,shadow:!0,preventInvert:!1,zIndexBoost:0,offsetX:0,offsetY:0},m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={uniqueId:n.uniqueId||l.default.v4(),isOpen:!1},r.getStateFromStores=r.getStateFromStores.bind(r),r.toggle=r.toggle.bind(r),r.close=r.close.bind(r),r.handleOnClick=r.handleOnClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStateFromStores=function(){this.setState({isOpen:u.default.isOpen(this.state.uniqueId)})},t.prototype.componentWillMount=function(){u.default.addChangeListener(this.getStateFromStores);var e=this.props.subscribeTo;null!=e&&d.ComponentDispatch.subscribe(e,this.toggle)},t.prototype.componentDidUpdate=function(e,t){e.position!==this.props.position&&this.state.isOpen?this.open():t.isOpen&&!this.state.isOpen&&this.close()},t.prototype.componentWillUnmount=function(){var e=this.props.subscribeTo;null!=e&&d.ComponentDispatch.unsubscribe(e,this.toggle),u.default.removeChangeListener(this.getStateFromStores),this.close()},t.prototype.toggle=function(e){var t=this.state.isOpen;t&&this.props.toggleClose?this.close():t||this.open(e)},t.prototype.open=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=t.position,r=t.animationType,i=t.preventInvert,o=t.zIndexBoost,s=t.offsetX,c=t.offsetY,l=t.closeOnScroll,u=t.containerClass,f=t.dependsOn,g=t.shadow,h=t.backdrop,m=t.render,b=t.onOpen;if(null==m)return null;var v={position:n,offsetX:s,offsetY:c,animationType:r,preventInvert:i,zIndexBoost:o,closeOnScroll:l,containerClass:u,dependsOn:f,shadow:g,backdrop:h,render:m};d.ComponentDispatch.subscribe(p.ComponentActions.POPOUT_CLOSE,this.close);a(null!=e&&e.currentTarget instanceof Element?e.currentTarget:this,v,this.state.uniqueId,e),b&&b()},t.prototype.close=function(){var e=this.state,t=e.isOpen,n=e.uniqueId,r=this.props.onClose;t&&f.default.close(n),d.ComponentDispatch.unsubscribe(p.ComponentActions.POPOUT_CLOSE,this.close),r&&r()},t.prototype.render=function(){var e=this.props.children;if(null!=e){var t=o.default.Children.only(e);return o.default.cloneElement(t,{onClick:this.handleOnClick,className:(0,c.default)(t.props.className,{"popout-open":this.state.isOpen})})}return null},t.prototype.handleOnClick=function(e){var t=this.props,n=t.children;if(null!=t.render){e.preventDefault(),e.stopPropagation();var r=o.default.Children.only(n).props.onClick;this.toggle(e),r&&r(e)}},t}(o.default.PureComponent);m.Positions=g,m.Animations={DEFAULT:"default",SPRING:"spring",NONE:"none"},m.defaultProps=h,t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=v[e];return null!=n?n[t]:null}function i(e,t,n,r){if(t!==p.default.getId()){null==r||"Spotify"!==r.name||h.default.canUseSpotify()||(r={type:d.ActivityTypes.PLAYING,name:r.name});var a=v[t];if(null==a){if(n===d.StatusTypes.OFFLINE)return!1;a=v[t]={}}if(n===d.StatusTypes.OFFLINE)delete a[e],0===Object.keys(a).length&&delete v[t],e===d.ME&&S.delete(t);else{var i=a[e];null!=i&&(0,m.default)(i.activity,r)&&(r=i.activity),a[e]={status:n,activity:r},e===d.ME&&S.add(t)}delete E[t],function(e){if(null==v[e])delete _[e],delete y[e];else{_[e]=d.StatusTypes.OFFLINE,delete y[e];for(var t in v[e]){var n=v[e][t],r=n.status,a=n.activity;b[r]>b[_[e]]&&(_[e]=r),null!=a&&(y[e]=a)}}}(t)}}function o(e){var t=Object.keys(v),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a;null!=v[o][e]&&i(e,o,d.StatusTypes.OFFLINE)}}function s(e){var t=e.guild;t.presences.forEach(function(e){var n=e.user,r=e.status,a=e.game;i(t.id,n.id,r,a)})}function c(){var e=p.default.getId();_[e]=g.default.getStatus(),y[e]=g.default.getActivity()}t.__esModule=!0;var l,u=r(n(7)),f=r(n(5)),d=n(4),p=r(n(24)),g=r(n(1371)),h=r(n(1505)),m=r(n(147)),b=(l={},l[d.StatusTypes.ONLINE]=4,l[d.StatusTypes.IDLE]=3,l[d.StatusTypes.DND]=2,l[d.StatusTypes.INVISIBLE]=1,l[d.StatusTypes.OFFLINE]=0,l),v={},_={},y={},E={},S=new Set,x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,g.default),this.syncWith([g.default],c)},t.prototype.getStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.StatusTypes.OFFLINE;if(null==t)return _[e]||n;var r=a(e,t);return r&&r.status||n},t.prototype.getStatuses=function(){return _},t.prototype.getActivity=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t)return y[e];var n=a(e,t);return n&&n.activity||null},t.prototype.getActivityMetadata=function(e){return E[e]},t.prototype.getActivities=function(){return y},t.prototype.getOnlineFriendCount=function(){return S.size},t}(u.default.Store);t.default=new x(f.default,{CONNECTION_OPEN:function(e){var t,n,r=e.guilds,a=e.user,o=e.presences;v={},E={},(t={})[a.id]=g.default.getStatus(),_=t,(n={})[a.id]=g.default.getActivity(),y=n,S.clear(),r.forEach(function(e){return s({guild:e})}),o.forEach(function(e){var t=e.user,n=e.status,r=e.game;return i(d.ME,t.id,n,r)})},GUILD_CREATE:s,GUILD_SYNC:function(e){var t=e.guild;o(t.id),s({guild:t})},GUILD_DELETE:function(e){o(e.guild.id)},GUILD_MEMBER_REMOVE:function(e){return i(e.guildId,e.user.id,d.StatusTypes.OFFLINE)},PRESENCE_UPDATE:function(e){var t=e.guildId,n=e.user,r=e.status,a=e.game;i(t||d.ME,n.id,r,a)},PRESENCES_REPLACE:function(e){var t=e.presences;o(d.ME),t.forEach(function(e){var t=e.user,n=e.status,r=e.game;return i(d.ME,t.id,n,r)})},ACTIVITY_METADATA_UPDATE:function(e){var t=e.userId,n=e.metadata;return E[t]=n,!1}}),e.exports=t.default},function(e,t,n){"use strict";var r=n(1347),a=n(1658);e.exports={sendEvent:function(e,t,n){var i=e.getConfiguration(),o=e._request,s=function(e){return Math.floor(e/1e3)}(Date.now()),c=i.gatewayConfiguration.analytics.url,l={analytics:[{kind:r.ANALYTICS_PREFIX+t,timestamp:s}]};o({url:c,method:"post",data:a(i,l),timeout:r.ANALYTICS_REQUEST_TIMEOUT_MS},n)}}},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}function o(e,t,n){for(var r=0,a=Math.min(e.length,n),i=t;i<a;i++){var o=e.charCodeAt(i)-48;r<<=4,r|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return r}function s(e,t,n,r){for(var a=0,i=Math.min(e.length,n),o=t;o<i;o++){var s=e.charCodeAt(o)-48;a*=r,a+=s>=49?s-49+10:s>=17?s-17+10:s}return a}function c(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var a=0|e.words[0],i=0|t.words[0],o=a*i,s=67108863&o,c=o/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var u=c>>>26,f=67108863&c,d=Math.min(l,t.length-1),p=Math.max(0,l-e.length+1);p<=d;p++){var g=l-p|0;u+=(o=(a=0|e.words[g])*(i=0|t.words[p])+f)/67108864|0,f=67108863&o}n.words[l]=0|f,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n.strip()}function l(e,t,n){return(new u).mulp(e,t,n)}function u(e,t){this.x=e,this.y=t}function f(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function d(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function p(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function g(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function h(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function m(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function b(e){m.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var v;try{v=n(4769).Buffer}catch(e){}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===t?this._parseHex(e,a):this._parseBase(e,t,a),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,o,s=0;if("be"===n)for(a=e.length-1,i=0;a>=0;a-=3)o=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);else if("le"===n)for(a=0,i=0;a<e.length;a+=3)o=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,a,i=0;for(n=e.length-6,r=0;n>=t;n-=6)a=o(e,n,n+6),this.words[r]|=a<<i&67108863,this.words[r+1]|=a>>>26-i&4194303,(i+=24)>=26&&(i-=26,r++);n+6!==t&&(a=o(e,t,n+6),this.words[r]|=a<<i&67108863,this.words[r+1]|=a>>>26-i&4194303),this.strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,a=1;a<=67108863;a*=t)r++;r--,a=a/t|0;for(var i=e.length-n,o=i%r,c=Math.min(i,i-o)+n,l=0,u=n;u<c;u+=r)l=s(e,u,u+r,t),this.imuln(a),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var f=1;for(l=s(e,u,e.length,t),u=0;u<o;u++)f*=t;this.imuln(f),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){e=e||10,t=0|t||1;var n;if(16===e||"hex"===e){n="";for(var a=0,i=0,o=0;o<this.length;o++){var s=this.words[o],c=(16777215&(s<<a|i)).toString(16);n=0!==(i=s>>>24-a&16777215)||o!==this.length-1?_[6-c.length]+c+n:c+n,(a+=2)>=26&&(a-=26,o--)}for(0!==i&&(n=i.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=y[e],u=E[e];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var d=f.modn(u).toString(e);n=(f=f.idivn(u)).isZero()?d+n:_[l-d.length]+d+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==v),this.toArrayLike(v,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var a=this.byteLength(),i=n||Math.max(1,a);r(a<=i,"byte array longer than desired length"),r(i>0,"Requested array length <= 0"),this.strip();var o,s,c="le"===t,l=new e(i),u=this.clone();if(c){for(s=0;!u.isZero();s++)o=u.andln(255),u.iushrn(8),l[s]=o;for(;s<i;s++)l[s]=0}else{for(s=0;s<i-a;s++)l[s]=0;for(s=0;!u.isZero();s++)o=u.andln(255),u.iushrn(8),l[i-s-1]=o}return l},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,a=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<a:this.words[n]&~(1<<a),this.strip()},i.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var n,r;this.length>e.length?(n=this,r=e):(n=e,r=this);for(var a=0,i=0;i<r.length;i++)t=(0|n.words[i])+(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<n.length;i++)t=(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=n.length,0!==a)this.words[this.length]=a,this.length++;else if(n!==this)for(;i<n.length;i++)this.words[i]=n.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,a;n>0?(r=this,a=e):(r=e,a=this);for(var i=0,o=0;o<a.length;o++)i=(t=(0|r.words[o])-(0|a.words[o])+i)>>26,this.words[o]=67108863&t;for(;0!==i&&o<r.length;o++)i=(t=(0|r.words[o])+i)>>26,this.words[o]=67108863&t;if(0===i&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var S=function(e,t,n){var r,a,i,o=e.words,s=t.words,c=n.words,l=0,u=0|o[0],f=8191&u,d=u>>>13,p=0|o[1],g=8191&p,h=p>>>13,m=0|o[2],b=8191&m,v=m>>>13,_=0|o[3],y=8191&_,E=_>>>13,S=0|o[4],x=8191&S,w=S>>>13,T=0|o[5],C=8191&T,A=T>>>13,I=0|o[6],O=8191&I,N=I>>>13,M=0|o[7],R=8191&M,D=M>>>13,P=0|o[8],k=8191&P,L=P>>>13,U=0|o[9],F=8191&U,B=U>>>13,G=0|s[0],j=8191&G,H=G>>>13,z=0|s[1],V=8191&z,q=z>>>13,W=0|s[2],K=8191&W,Y=W>>>13,$=0|s[3],Z=8191&$,Q=$>>>13,X=0|s[4],J=8191&X,ee=X>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ae=0|s[6],ie=8191&ae,oe=ae>>>13,se=0|s[7],ce=8191&se,le=se>>>13,ue=0|s[8],fe=8191&ue,de=ue>>>13,pe=0|s[9],ge=8191&pe,he=pe>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(l+(r=Math.imul(f,j))|0)+((8191&(a=(a=Math.imul(f,H))+Math.imul(d,j)|0))<<13)|0;l=((i=Math.imul(d,H))+(a>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(g,j),a=(a=Math.imul(g,H))+Math.imul(h,j)|0,i=Math.imul(h,H);var be=(l+(r=r+Math.imul(f,V)|0)|0)+((8191&(a=(a=a+Math.imul(f,q)|0)+Math.imul(d,V)|0))<<13)|0;l=((i=i+Math.imul(d,q)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(b,j),a=(a=Math.imul(b,H))+Math.imul(v,j)|0,i=Math.imul(v,H),r=r+Math.imul(g,V)|0,a=(a=a+Math.imul(g,q)|0)+Math.imul(h,V)|0,i=i+Math.imul(h,q)|0;var ve=(l+(r=r+Math.imul(f,K)|0)|0)+((8191&(a=(a=a+Math.imul(f,Y)|0)+Math.imul(d,K)|0))<<13)|0;l=((i=i+Math.imul(d,Y)|0)+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(y,j),a=(a=Math.imul(y,H))+Math.imul(E,j)|0,i=Math.imul(E,H),r=r+Math.imul(b,V)|0,a=(a=a+Math.imul(b,q)|0)+Math.imul(v,V)|0,i=i+Math.imul(v,q)|0,r=r+Math.imul(g,K)|0,a=(a=a+Math.imul(g,Y)|0)+Math.imul(h,K)|0,i=i+Math.imul(h,Y)|0;var _e=(l+(r=r+Math.imul(f,Z)|0)|0)+((8191&(a=(a=a+Math.imul(f,Q)|0)+Math.imul(d,Z)|0))<<13)|0;l=((i=i+Math.imul(d,Q)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(x,j),a=(a=Math.imul(x,H))+Math.imul(w,j)|0,i=Math.imul(w,H),r=r+Math.imul(y,V)|0,a=(a=a+Math.imul(y,q)|0)+Math.imul(E,V)|0,i=i+Math.imul(E,q)|0,r=r+Math.imul(b,K)|0,a=(a=a+Math.imul(b,Y)|0)+Math.imul(v,K)|0,i=i+Math.imul(v,Y)|0,r=r+Math.imul(g,Z)|0,a=(a=a+Math.imul(g,Q)|0)+Math.imul(h,Z)|0,i=i+Math.imul(h,Q)|0;var ye=(l+(r=r+Math.imul(f,J)|0)|0)+((8191&(a=(a=a+Math.imul(f,ee)|0)+Math.imul(d,J)|0))<<13)|0;l=((i=i+Math.imul(d,ee)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(C,j),a=(a=Math.imul(C,H))+Math.imul(A,j)|0,i=Math.imul(A,H),r=r+Math.imul(x,V)|0,a=(a=a+Math.imul(x,q)|0)+Math.imul(w,V)|0,i=i+Math.imul(w,q)|0,r=r+Math.imul(y,K)|0,a=(a=a+Math.imul(y,Y)|0)+Math.imul(E,K)|0,i=i+Math.imul(E,Y)|0,r=r+Math.imul(b,Z)|0,a=(a=a+Math.imul(b,Q)|0)+Math.imul(v,Z)|0,i=i+Math.imul(v,Q)|0,r=r+Math.imul(g,J)|0,a=(a=a+Math.imul(g,ee)|0)+Math.imul(h,J)|0,i=i+Math.imul(h,ee)|0;var Ee=(l+(r=r+Math.imul(f,ne)|0)|0)+((8191&(a=(a=a+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;l=((i=i+Math.imul(d,re)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(O,j),a=(a=Math.imul(O,H))+Math.imul(N,j)|0,i=Math.imul(N,H),r=r+Math.imul(C,V)|0,a=(a=a+Math.imul(C,q)|0)+Math.imul(A,V)|0,i=i+Math.imul(A,q)|0,r=r+Math.imul(x,K)|0,a=(a=a+Math.imul(x,Y)|0)+Math.imul(w,K)|0,i=i+Math.imul(w,Y)|0,r=r+Math.imul(y,Z)|0,a=(a=a+Math.imul(y,Q)|0)+Math.imul(E,Z)|0,i=i+Math.imul(E,Q)|0,r=r+Math.imul(b,J)|0,a=(a=a+Math.imul(b,ee)|0)+Math.imul(v,J)|0,i=i+Math.imul(v,ee)|0,r=r+Math.imul(g,ne)|0,a=(a=a+Math.imul(g,re)|0)+Math.imul(h,ne)|0,i=i+Math.imul(h,re)|0;var Se=(l+(r=r+Math.imul(f,ie)|0)|0)+((8191&(a=(a=a+Math.imul(f,oe)|0)+Math.imul(d,ie)|0))<<13)|0;l=((i=i+Math.imul(d,oe)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(R,j),a=(a=Math.imul(R,H))+Math.imul(D,j)|0,i=Math.imul(D,H),r=r+Math.imul(O,V)|0,a=(a=a+Math.imul(O,q)|0)+Math.imul(N,V)|0,i=i+Math.imul(N,q)|0,r=r+Math.imul(C,K)|0,a=(a=a+Math.imul(C,Y)|0)+Math.imul(A,K)|0,i=i+Math.imul(A,Y)|0,r=r+Math.imul(x,Z)|0,a=(a=a+Math.imul(x,Q)|0)+Math.imul(w,Z)|0,i=i+Math.imul(w,Q)|0,r=r+Math.imul(y,J)|0,a=(a=a+Math.imul(y,ee)|0)+Math.imul(E,J)|0,i=i+Math.imul(E,ee)|0,r=r+Math.imul(b,ne)|0,a=(a=a+Math.imul(b,re)|0)+Math.imul(v,ne)|0,i=i+Math.imul(v,re)|0,r=r+Math.imul(g,ie)|0,a=(a=a+Math.imul(g,oe)|0)+Math.imul(h,ie)|0,i=i+Math.imul(h,oe)|0;var xe=(l+(r=r+Math.imul(f,ce)|0)|0)+((8191&(a=(a=a+Math.imul(f,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((i=i+Math.imul(d,le)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(k,j),a=(a=Math.imul(k,H))+Math.imul(L,j)|0,i=Math.imul(L,H),r=r+Math.imul(R,V)|0,a=(a=a+Math.imul(R,q)|0)+Math.imul(D,V)|0,i=i+Math.imul(D,q)|0,r=r+Math.imul(O,K)|0,a=(a=a+Math.imul(O,Y)|0)+Math.imul(N,K)|0,i=i+Math.imul(N,Y)|0,r=r+Math.imul(C,Z)|0,a=(a=a+Math.imul(C,Q)|0)+Math.imul(A,Z)|0,i=i+Math.imul(A,Q)|0,r=r+Math.imul(x,J)|0,a=(a=a+Math.imul(x,ee)|0)+Math.imul(w,J)|0,i=i+Math.imul(w,ee)|0,r=r+Math.imul(y,ne)|0,a=(a=a+Math.imul(y,re)|0)+Math.imul(E,ne)|0,i=i+Math.imul(E,re)|0,r=r+Math.imul(b,ie)|0,a=(a=a+Math.imul(b,oe)|0)+Math.imul(v,ie)|0,i=i+Math.imul(v,oe)|0,r=r+Math.imul(g,ce)|0,a=(a=a+Math.imul(g,le)|0)+Math.imul(h,ce)|0,i=i+Math.imul(h,le)|0;var we=(l+(r=r+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;l=((i=i+Math.imul(d,de)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(F,j),a=(a=Math.imul(F,H))+Math.imul(B,j)|0,i=Math.imul(B,H),r=r+Math.imul(k,V)|0,a=(a=a+Math.imul(k,q)|0)+Math.imul(L,V)|0,i=i+Math.imul(L,q)|0,r=r+Math.imul(R,K)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(D,K)|0,i=i+Math.imul(D,Y)|0,r=r+Math.imul(O,Z)|0,a=(a=a+Math.imul(O,Q)|0)+Math.imul(N,Z)|0,i=i+Math.imul(N,Q)|0,r=r+Math.imul(C,J)|0,a=(a=a+Math.imul(C,ee)|0)+Math.imul(A,J)|0,i=i+Math.imul(A,ee)|0,r=r+Math.imul(x,ne)|0,a=(a=a+Math.imul(x,re)|0)+Math.imul(w,ne)|0,i=i+Math.imul(w,re)|0,r=r+Math.imul(y,ie)|0,a=(a=a+Math.imul(y,oe)|0)+Math.imul(E,ie)|0,i=i+Math.imul(E,oe)|0,r=r+Math.imul(b,ce)|0,a=(a=a+Math.imul(b,le)|0)+Math.imul(v,ce)|0,i=i+Math.imul(v,le)|0,r=r+Math.imul(g,fe)|0,a=(a=a+Math.imul(g,de)|0)+Math.imul(h,fe)|0,i=i+Math.imul(h,de)|0;var Te=(l+(r=r+Math.imul(f,ge)|0)|0)+((8191&(a=(a=a+Math.imul(f,he)|0)+Math.imul(d,ge)|0))<<13)|0;l=((i=i+Math.imul(d,he)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(F,V),a=(a=Math.imul(F,q))+Math.imul(B,V)|0,i=Math.imul(B,q),r=r+Math.imul(k,K)|0,a=(a=a+Math.imul(k,Y)|0)+Math.imul(L,K)|0,i=i+Math.imul(L,Y)|0,r=r+Math.imul(R,Z)|0,a=(a=a+Math.imul(R,Q)|0)+Math.imul(D,Z)|0,i=i+Math.imul(D,Q)|0,r=r+Math.imul(O,J)|0,a=(a=a+Math.imul(O,ee)|0)+Math.imul(N,J)|0,i=i+Math.imul(N,ee)|0,r=r+Math.imul(C,ne)|0,a=(a=a+Math.imul(C,re)|0)+Math.imul(A,ne)|0,i=i+Math.imul(A,re)|0,r=r+Math.imul(x,ie)|0,a=(a=a+Math.imul(x,oe)|0)+Math.imul(w,ie)|0,i=i+Math.imul(w,oe)|0,r=r+Math.imul(y,ce)|0,a=(a=a+Math.imul(y,le)|0)+Math.imul(E,ce)|0,i=i+Math.imul(E,le)|0,r=r+Math.imul(b,fe)|0,a=(a=a+Math.imul(b,de)|0)+Math.imul(v,fe)|0,i=i+Math.imul(v,de)|0;var Ce=(l+(r=r+Math.imul(g,ge)|0)|0)+((8191&(a=(a=a+Math.imul(g,he)|0)+Math.imul(h,ge)|0))<<13)|0;l=((i=i+Math.imul(h,he)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(F,K),a=(a=Math.imul(F,Y))+Math.imul(B,K)|0,i=Math.imul(B,Y),r=r+Math.imul(k,Z)|0,a=(a=a+Math.imul(k,Q)|0)+Math.imul(L,Z)|0,i=i+Math.imul(L,Q)|0,r=r+Math.imul(R,J)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(D,J)|0,i=i+Math.imul(D,ee)|0,r=r+Math.imul(O,ne)|0,a=(a=a+Math.imul(O,re)|0)+Math.imul(N,ne)|0,i=i+Math.imul(N,re)|0,r=r+Math.imul(C,ie)|0,a=(a=a+Math.imul(C,oe)|0)+Math.imul(A,ie)|0,i=i+Math.imul(A,oe)|0,r=r+Math.imul(x,ce)|0,a=(a=a+Math.imul(x,le)|0)+Math.imul(w,ce)|0,i=i+Math.imul(w,le)|0,r=r+Math.imul(y,fe)|0,a=(a=a+Math.imul(y,de)|0)+Math.imul(E,fe)|0,i=i+Math.imul(E,de)|0;var Ae=(l+(r=r+Math.imul(b,ge)|0)|0)+((8191&(a=(a=a+Math.imul(b,he)|0)+Math.imul(v,ge)|0))<<13)|0;l=((i=i+Math.imul(v,he)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(F,Z),a=(a=Math.imul(F,Q))+Math.imul(B,Z)|0,i=Math.imul(B,Q),r=r+Math.imul(k,J)|0,a=(a=a+Math.imul(k,ee)|0)+Math.imul(L,J)|0,i=i+Math.imul(L,ee)|0,r=r+Math.imul(R,ne)|0,a=(a=a+Math.imul(R,re)|0)+Math.imul(D,ne)|0,i=i+Math.imul(D,re)|0,r=r+Math.imul(O,ie)|0,a=(a=a+Math.imul(O,oe)|0)+Math.imul(N,ie)|0,i=i+Math.imul(N,oe)|0,r=r+Math.imul(C,ce)|0,a=(a=a+Math.imul(C,le)|0)+Math.imul(A,ce)|0,i=i+Math.imul(A,le)|0,r=r+Math.imul(x,fe)|0,a=(a=a+Math.imul(x,de)|0)+Math.imul(w,fe)|0,i=i+Math.imul(w,de)|0;var Ie=(l+(r=r+Math.imul(y,ge)|0)|0)+((8191&(a=(a=a+Math.imul(y,he)|0)+Math.imul(E,ge)|0))<<13)|0;l=((i=i+Math.imul(E,he)|0)+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(F,J),a=(a=Math.imul(F,ee))+Math.imul(B,J)|0,i=Math.imul(B,ee),r=r+Math.imul(k,ne)|0,a=(a=a+Math.imul(k,re)|0)+Math.imul(L,ne)|0,i=i+Math.imul(L,re)|0,r=r+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,oe)|0)+Math.imul(D,ie)|0,i=i+Math.imul(D,oe)|0,r=r+Math.imul(O,ce)|0,a=(a=a+Math.imul(O,le)|0)+Math.imul(N,ce)|0,i=i+Math.imul(N,le)|0,r=r+Math.imul(C,fe)|0,a=(a=a+Math.imul(C,de)|0)+Math.imul(A,fe)|0,i=i+Math.imul(A,de)|0;var Oe=(l+(r=r+Math.imul(x,ge)|0)|0)+((8191&(a=(a=a+Math.imul(x,he)|0)+Math.imul(w,ge)|0))<<13)|0;l=((i=i+Math.imul(w,he)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(F,ne),a=(a=Math.imul(F,re))+Math.imul(B,ne)|0,i=Math.imul(B,re),r=r+Math.imul(k,ie)|0,a=(a=a+Math.imul(k,oe)|0)+Math.imul(L,ie)|0,i=i+Math.imul(L,oe)|0,r=r+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,le)|0)+Math.imul(D,ce)|0,i=i+Math.imul(D,le)|0,r=r+Math.imul(O,fe)|0,a=(a=a+Math.imul(O,de)|0)+Math.imul(N,fe)|0,i=i+Math.imul(N,de)|0;var Ne=(l+(r=r+Math.imul(C,ge)|0)|0)+((8191&(a=(a=a+Math.imul(C,he)|0)+Math.imul(A,ge)|0))<<13)|0;l=((i=i+Math.imul(A,he)|0)+(a>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(F,ie),a=(a=Math.imul(F,oe))+Math.imul(B,ie)|0,i=Math.imul(B,oe),r=r+Math.imul(k,ce)|0,a=(a=a+Math.imul(k,le)|0)+Math.imul(L,ce)|0,i=i+Math.imul(L,le)|0,r=r+Math.imul(R,fe)|0,a=(a=a+Math.imul(R,de)|0)+Math.imul(D,fe)|0,i=i+Math.imul(D,de)|0;var Me=(l+(r=r+Math.imul(O,ge)|0)|0)+((8191&(a=(a=a+Math.imul(O,he)|0)+Math.imul(N,ge)|0))<<13)|0;l=((i=i+Math.imul(N,he)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(F,ce),a=(a=Math.imul(F,le))+Math.imul(B,ce)|0,i=Math.imul(B,le),r=r+Math.imul(k,fe)|0,a=(a=a+Math.imul(k,de)|0)+Math.imul(L,fe)|0,i=i+Math.imul(L,de)|0;var Re=(l+(r=r+Math.imul(R,ge)|0)|0)+((8191&(a=(a=a+Math.imul(R,he)|0)+Math.imul(D,ge)|0))<<13)|0;l=((i=i+Math.imul(D,he)|0)+(a>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(F,fe),a=(a=Math.imul(F,de))+Math.imul(B,fe)|0,i=Math.imul(B,de);var De=(l+(r=r+Math.imul(k,ge)|0)|0)+((8191&(a=(a=a+Math.imul(k,he)|0)+Math.imul(L,ge)|0))<<13)|0;l=((i=i+Math.imul(L,he)|0)+(a>>>13)|0)+(De>>>26)|0,De&=67108863;var Pe=(l+(r=Math.imul(F,ge))|0)+((8191&(a=(a=Math.imul(F,he))+Math.imul(B,ge)|0))<<13)|0;return l=((i=Math.imul(B,he))+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,c[0]=me,c[1]=be,c[2]=ve,c[3]=_e,c[4]=ye,c[5]=Ee,c[6]=Se,c[7]=xe,c[8]=we,c[9]=Te,c[10]=Ce,c[11]=Ae,c[12]=Ie,c[13]=Oe,c[14]=Ne,c[15]=Me,c[16]=Re,c[17]=De,c[18]=Pe,0!==l&&(c[19]=l,n.length++),n};Math.imul||(S=c),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?S(this,e,t):n<63?c(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,a=0,i=0;i<n.length-1;i++){var o=a;a=0;for(var s=67108863&r,c=Math.min(i,t.length-1),l=Math.max(0,i-e.length+1);l<=c;l++){var u=i-l,f=(0|e.words[u])*(0|t.words[l]),d=67108863&f;s=67108863&(d=d+s|0),a+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[i]=s,r=o,o=a}return 0!==r?n.words[i]=r:n.length--,n.strip()}(this,e,t):l(this,e,t)},u.prototype.makeRBT=function(e){for(var t=new Array(e),n=i.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},u.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,a=0;a<t;a++)r|=(1&e)<<t-a-1,e>>=1;return r},u.prototype.permute=function(e,t,n,r,a,i){for(var o=0;o<i;o++)r[o]=t[e[o]],a[o]=n[e[o]]},u.prototype.transform=function(e,t,n,r,a,i){this.permute(i,e,t,n,r,a);for(var o=1;o<a;o<<=1)for(var s=o<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<a;u+=s)for(var f=c,d=l,p=0;p<o;p++){var g=n[u+p],h=r[u+p],m=n[u+p+o],b=r[u+p+o],v=f*m-d*b;b=f*b+d*m,m=v,n[u+p]=g+m,r[u+p]=h+b,n[u+p+o]=g-m,r[u+p+o]=h-b,p!==s&&(v=c*f-l*d,d=c*d+l*f,f=v)}},u.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,a=0;for(n=n/2|0;n;n>>>=1)a++;return 1<<a+1+r},u.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var a=e[r];e[r]=e[n-r-1],e[n-r-1]=a,a=t[r],t[r]=-t[n-r-1],t[n-r-1]=-a}},u.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var a=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&a,n=a<67108864?0:a/67108864|0}return e},u.prototype.convert13b=function(e,t,n,a){for(var i=0,o=0;o<t;o++)i+=0|e[o],n[2*o]=8191&i,i>>>=13,n[2*o+1]=8191&i,i>>>=13;for(o=2*t;o<a;++o)n[o]=0;r(0===i),r(0==(-8192&i))},u.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},u.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(r),i=this.stub(r),o=new Array(r),s=new Array(r),c=new Array(r),l=new Array(r),u=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,l,r),this.transform(o,i,s,c,r,a),this.transform(l,i,u,f,r,a);for(var p=0;p<r;p++){var g=s[p]*u[p]-c[p]*f[p];c[p]=s[p]*f[p]+c[p]*u[p],s[p]=g}return this.conjugate(s,c,r),this.transform(s,c,d,i,r,a),this.conjugate(d,i,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),l(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var a=(0|this.words[n])*e,i=(67108863&a)+(67108863&t);t>>=26,t+=a/67108864|0,t+=i>>>26,this.words[n]=67108863&i}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,a=n%26;t[n]=(e.words[r]&1<<a)>>>a}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var a=n.sqr();r<t.length;r++,a=a.sqr())0!==t[r]&&(n=n.mul(a));return n},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,a=(e-n)/26,i=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&i,c=(0|this.words[t])-s<<n;this.words[t]=c|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){r("number"==typeof e&&e>=0);var a;a=t?(t-t%26)/26:0;var i=e%26,o=Math.min((e-i)/26,this.length),s=67108863^67108863>>>i<<i,c=n;if(a-=o,a=Math.max(0,a),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=a);l--){var f=0|this.words[l];this.words[l]=u<<26-i|f>>>i,u=f&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,a=1<<t;if(this.length<=n)return!1;return!!(this.words[n]&a)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var a,i=e.length+n;this._expand(i);var o,s=0;for(a=0;a<e.length;a++){o=(0|this.words[a+n])+s;var c=(0|e.words[a])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[a+n]=67108863&o}for(;a<this.length-n;a++)s=(o=(0|this.words[a+n])+s)>>26,this.words[a+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,a=0;a<this.length;a++)s=(o=-(0|this.words[a])+s)>>26,this.words[a]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),a=e,o=0|a.words[a.length-1];0!==(n=26-this._countBits(o))&&(a=a.ushln(n),r.iushln(n),o=0|a.words[a.length-1]);var s,c=r.length-a.length;if("mod"!==t){(s=new i(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=r.clone()._ishlnsubmul(a,1,c);0===u.negative&&(r=u,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|r.words[a.length+f])+(0|r.words[a.length+f-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(a,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(a,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},i.prototype.divmod=function(e,t,n){if(r(!e.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,o,s;return 0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(a=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:a,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(a=s.div.neg()),{div:a,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t)},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),a=e.andln(1),i=n.cmp(r);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,a=this.length-1;a>=0;a--)n=(t*n+(0|this.words[a]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var a=(0|this.words[n])+67108864*t;this.words[n]=a/e|0,t=a%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),o=new i(0),s=new i(0),c=new i(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),f=t.clone();!t.isZero();){for(var d=0,p=1;0==(t.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(a.isOdd()||o.isOdd())&&(a.iadd(u),o.isub(f)),a.iushrn(1),o.iushrn(1);for(var g=0,h=1;0==(n.words[0]&h)&&g<26;++g,h<<=1);if(g>0)for(n.iushrn(g);g-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s),o.isub(c)):(n.isub(t),s.isub(a),c.isub(o))}return{a:s,b:c,gcd:n.iushln(l)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),o=new i(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var u=0,f=1;0==(n.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(o)):(n.isub(t),o.isub(a))}var d;return(d=0===t.cmpn(1)?a:o).cmpn(0)<0&&d.iadd(e),d},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var a=t.cmp(n);if(a<0){var i=t;t=n,n=i}else if(0===a||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,a=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var i=a,o=n;0!==i&&o<this.length;o++){var s=0|this.words[o];i=(s+=i)>>>26,s&=67108863,this.words[o]=s}return 0!==i&&(this.words[o]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var n;if(this.length>1)n=1;else{t&&(e=-e),r(e<=67108863,"Number is too big");var a=0|this.words[0];n=a===e?0:a<e?-1:1}return 0!==this.negative?0|-n:n},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],a=0|e.words[n];if(r!==a){r<a?t=-1:r>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new m(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var x={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},a(d,f),d.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,r=10;r<e.length;r++){var i=0|e.words[r];e.words[r-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[r-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},d.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(p,f),a(g,f),a(h,f),h.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,a=67108863&r;r>>>=26,e.words[n]=a,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(x[e])return x[e];var t;if("k256"===e)t=new d;else if("p224"===e)t=new p;else if("p192"===e)t=new g;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new h}return x[e]=t,t},m.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},m.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},m.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},m.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},m.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},m.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},m.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},m.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},m.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},m.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},m.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},m.prototype.isqr=function(e){return this.imul(e,e.clone())},m.prototype.sqr=function(e){return this.mul(e,e)},m.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),o=0;!a.isZero()&&0===a.andln(1);)o++,a.iushrn(1);r(!a.isZero());var s=new i(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var f=this.pow(u,a),d=this.pow(e,a.addn(1).iushrn(1)),p=this.pow(e,a),g=o;0!==p.cmp(s);){for(var h=p,m=0;0!==h.cmp(s);m++)h=h.redSqr();r(m<g);var b=this.pow(f,new i(1).iushln(g-m-1));d=d.redMul(b),f=b.redSqr(),p=p.redMul(f),g=m}return d},m.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},m.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var a=n[0],o=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],u=c-1;u>=0;u--){var f=l>>u&1;a!==n[0]&&(a=this.sqr(a)),0!==f||0!==o?(o<<=1,o|=f,(4===++s||0===r&&0===u)&&(a=this.mul(a,n[o]),s=0,o=0)):s=0}c=26}return a},m.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},m.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new b(e)},a(b,m),b.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},b.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},b.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(r).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},b.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(r).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):a.cmpn(0)<0&&(o=a.iadd(this.m)),o._forceRed(this)},b.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,n(41)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=p[u.ME]||{},n={};c.default.each(t,function(t,r){t.channelId!==e&&(n[r]=t)}),p[u.ME]=n}t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=r(n(7)),c=r(n(14)),l=r(n(5)),u=n(4),f=r(n(1621)),d=Object.freeze({}),p={},g=void 0,h=void 0,m=0,b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getVoiceStates=function(e){return p[e||u.ME]||d},t.prototype.getVoiceState=function(e,t){return this.getVoiceStates(e)[t]},t.prototype.getVoiceStatesForChannel=function(e,t){return Object.values(this.getVoiceStates(e)).filter(function(e){return e.channelId===t})},t.prototype.getCurrentVoiceChannelId=function(e,t){var n=this.getVoiceState(e,t);return n&&n.channelId},t.prototype.isInCall=function(e){var t=this.getVoiceState(null,g);return null!=t&&t.channelId===e},t.prototype.hasVideo=function(e,t){return null==e&&c.default.some(this.getVoiceStates(e),function(e){return e.selfVideo&&e.channelId===t})},i(t,[{key:"userHasBeenMovedVersion",get:function(){return m}}]),t}(s.default.Store);t.default=new b(l.default,{CONNECTION_OPEN:function(e){var t=e.user,n=e.sessionId;p={},g=t.id,h=n},VOICE_CHANNEL_SELECT:function(e){var t,n=e.guildId,r=e.channelId,a=p[n||u.ME];if(null==a)return!1;var i=a[g];if(null==i)return!1;p[n||u.ME]=o({},a,(t={},t[g]=i.set("channelId",r),t))},VOICE_STATE_UPDATE:function(e){var t=e.sessionId,n=e.userId,r=e.guildId,a=e.channelId,i=e.mute,s=e.deaf,c=e.selfMute,l=e.selfDeaf,d=e.selfVideo,b=e.suppress,v=n===g&&t!==h,_=p[r||u.ME]||{},y=_[n],E=void 0;if(null==a||v||(E=null==y?new f.default({userId:n,sessionId:t,channelId:a,mute:i,deaf:s,selfMute:c,selfDeaf:l,selfVideo:d,suppress:b}):y.merge({userId:n,sessionId:t,channelId:a,mute:i,deaf:s,selfMute:c,selfDeaf:l,selfVideo:d,suppress:b})),y==E)return!1;if(null==E)delete(_=o({},_))[n];else{var S;_=o({},_,(S={},S[n]=E,S))}null!=E&&null!=y&&t===h&&y.channelId!==E.channelId&&(m+=1),p[r||u.ME]=_},GUILD_DELETE:function(e){var t=e.guild;delete p[t.id]},CHANNEL_DELETE:function(e){a(e.channel.id)},CALL_DELETE:function(e){a(e.channelId)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(5)),o=r(n(14)),s=r(n(1359)),c=r(n(1312)),l=r(n(39)),u=r(n(1634)),f=r(n(21)),d=(r(n(102)),r(n(1309))),p=n(4),g=r(n(1320)),h=r(n(58)),m=r(n(48)),b=r(n(74)),v=r(n(24)),_=r(n(140)),y=n(564),E=!1;t.default={receiveMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.default.dirtyDispatch({type:p.ActionTypes.MESSAGE_CREATE,channelId:e,message:t,optimistic:n})},sendBotMessage:function(e,t){this.receiveMessage(e,s.default.createBotMessage(e,t))},sendClydeError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;if(t===p.AbortCodes.EXPLICIT_CONTENT){var r=b.default.getChannel(e);if(null==r)return;if(r.isDM())n=f.default.Messages.BOT_DM_EXPLICIT_CONTENT.format({name:r.toString()});else if(r.isGroupDM())n=f.default.Messages.BOT_GDM_EXPLICIT_CONTENT.format({name:r.toString()});else{var a=m.default.getGuild(r.getGuildId());if(null==a)return;n=f.default.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({name:a.toString()})}}else n=f.default.Messages[p.CLYDE_ERROR_MESSAGES[t]||p.CLYDE_ERROR_MESSAGES.DEFAULT];this.sendBotMessage(e,n)},truncateMessages:function(e,t,n){i.default.dirtyDispatch({type:p.ActionTypes.TRUNCATE_MESSAGES,channelId:e,truncateBottom:t,truncateTop:n})},jumpToPresent:function(e,t){this.trackJump(e,null,"Present");var n={present:!0};g.default.hasPresent(e)?i.default.dirtyDispatch({type:p.ActionTypes.LOAD_MESSAGES_SUCCESS_CACHED,jump:n,channelId:e,limit:t}):this.fetchMessages(e,null,null,t,n)},trackJump:function(e,t,n,r){d.default.trackWithMetadata("jump",a({context:n,channel_id:e,message_id:t},r))},jumpToMessage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"string"==typeof r&&this.trackJump(e,t,r,a),this.fetchMessages(e,null,null,p.MAX_MESSAGES_PER_CHANNEL,{messageId:t,flash:n})},prefetchMessages:function(e,t){i.default.dispatch({type:p.ActionTypes.PREFETCH_MESSAGES,guildId:e===p.ME?null:e,channelId:t})},fetchMessages:function(e,t,n,r,a){if(!this._tryFetchMessagesCached(e,t,n,r,a)){i.default.maybeDispatch({type:p.ActionTypes.LOAD_MESSAGES,channelId:e,jump:a});var s=a&&a.messageId;l.default.get({url:p.Endpoints.MESSAGES(e),query:{before:t,after:n,limit:r,around:s},retries:2}).then(function(l){var u=l.body,f=null!=t,d=null!=n,g=null==t&&null==n,h=null!=s||u.length===r&&(f||g),m=null!=s||d&&u.length===r;if(s){var b=r/2,v=u.length-1-o.default.findIndex(u,function(e){return e.id===s});if(v<b&&(h=!1),v>=b&&u.length<r+1&&(m=!1),m&&u.length){var _=c.default.lastMessageId(e);u[0].id==_&&(m=!1)}}i.default.dispatch({type:p.ActionTypes.LOAD_MESSAGES_SUCCESS,channelId:e,messages:u,isBefore:f,isAfter:d,hasMoreBefore:h,hasMoreAfter:m,jump:a})},function(){return i.default.dispatch({type:p.ActionTypes.LOAD_MESSAGES_FAILURE,channelId:e})})}},_tryFetchMessagesCached:function(e,t,n,r,a){var o=g.default.getMessages(e);return a&&a.messageId&&o.has(a.messageId,!1)?(i.default.dirtyDispatch({type:p.ActionTypes.LOAD_MESSAGES_SUCCESS_CACHED,channelId:e,jump:a,limit:r}),!0):t&&o.hasBeforeCached(t)?(i.default.dirtyDispatch({type:p.ActionTypes.LOAD_MESSAGES_SUCCESS_CACHED,channelId:e,before:t,limit:r}),!0):!(!n||!o.hasAfterCached(n))&&(i.default.dirtyDispatch({type:p.ActionTypes.LOAD_MESSAGES_SUCCESS_CACHED,channelId:e,after:n,limit:r}),!0)},sendMessage:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3];r?g.default.whenReady(e,function(){return n._sendMessage(e,t,a)}):this._sendMessage(e,t,a)},sendInvite:function(e,t,n){return this._sendMessage(e,{content:(0,y.getInviteURL)(t),tts:!1},null,n)},_sendMessage:function(e,t,n,r){var a=t.content,o=t.invalidEmojis,c=t.tts,l=void 0!==c&&c,g=this;if(!a&&null==n)return Promise.reject();var m=s.default.createMessage(e,a,l);if(this.receiveMessage(e,m,!0),!E&&o&&o.length>0){E=!0;var S=h.default.getCurrentUser(),x=b.default.getChannel(e),w=void 0;w=o.some(function(e){return e.animated})&&!S.premium?f.default.Messages.INVALID_ANIMATED_EMOJI_BODY_UPGRADE:_.default.can(p.Permissions.USE_EXTERNAL_EMOJIS,S,x)?f.default.Messages.INVALID_EXTERNAL_EMOJI_BODY_UPGRADE:f.default.Messages.INVALID_EXTERNAL_EMOJI_BODY,this.sendBotMessage(e,w)}var T={type:"send",message:{channelId:e,content:a,nonce:m.id,tts:l}},C=v.default.getSessionId();if(null!=n&&null!=C){var A={type:n.type,session_id:C},I=n.activity;null!=I.party&&null!=I.party.id&&(A.party_id=I.party.id),T.message.application_id=I.application_id,T.message.activity=A}return new Promise(function(t,n){u.default.enqueue(T,function(o){o.ok?(g.receiveMessage(e,o.body),function(e,t,n,r){(0,y.findInvites)(e).forEach(function(e){var a=b.default.getChannel(t);null!=a&&d.default.trackWithMetadata(p.AnalyticEvents.INVITE_SENT,{location:r,invite_code:e,guild_id:a.getGuildId(),channel_id:a.id,message_id:n})})}(a,e,o.body.id,r||"chat_input"),t(o)):(o.status>=400&&o.status<500&&o.body&&g.sendClydeError(e,o.body.code),i.default.dispatch({type:p.ActionTypes.MESSAGE_SEND_FAILED,messageId:m.id,channelId:e}),n(o))})})},retrySendMessage:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.deleteMessage(e.id,t,!0),a?this.sendMessage(e.id,s.default.parse(e,n)):this.sendMessage(e.id,{content:n,tts:r})},startEditMessage:function(e,t,n){i.default.dispatch({type:p.ActionTypes.MESSAGE_START_EDIT,channelId:e,messageId:t,content:n})},endEditMessage:function(){i.default.dispatch({type:p.ActionTypes.MESSAGE_END_EDIT})},editMessage:function(e,t,n){var r={channelId:e,messageId:t,content:n.content};u.default.enqueue({type:"edit",message:r},this.endEditMessage)},deleteMessage:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?i.default.dispatch({type:p.ActionTypes.MESSAGE_DELETE,id:t,channelId:e}):l.default.delete(p.Endpoints.MESSAGES(e)+"/"+t).then(function(){i.default.dispatch({type:p.ActionTypes.MESSAGE_DELETE,id:t,channelId:e})})},revealMessage:function(e,t){i.default.dispatch({type:p.ActionTypes.MESSAGE_REVEAL,channelId:e,messageId:t})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(204)),s=r(n(15)),c=r(n(553)),l=r(n(137)),u=r(n(200)),f=r(n(199)),d=n(1280),p=n(4),g=r(n(1972)),h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.submitModal=r.submitModal.bind(r),r.handleClose=r.handleClose.bind(r),r.handleSubmit=r.handleSubmit.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){d.ComponentDispatch.subscribe(p.ComponentActions.MODAL_SUBMIT,this.submitModal),o.default.findDOMNode(this).focus()},t.prototype.componentWillUnmount=function(){d.ComponentDispatch.unsubscribe(p.ComponentActions.MODAL_SUBMIT,this.submitModal)},t.prototype.handleSubmit=function(e){e.preventDefault(),this.submitModal()},t.prototype.submitModal=function(){f.default.pop(),null!=this.props.onConfirm&&this.props.onConfirm()},t.prototype.handleClose=function(){var e=this.props,t=e.onCancel,n=e.onClose;t&&t(),n&&n()},t.prototype.render=function(){var e=this.props,t=e.cancelText,n=e.confirmText,r=e.className,i=e.header,o=e.children,f=e.red,d=e.size,p=void 0;t&&(p=a(l.default,{type:"button",look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:this.handleClose},void 0,t));var h=void 0;return n&&(h=a(l.default,{type:"submit",color:f?l.default.Colors.RED:l.default.Colors.BRAND},void 0,n)),a(c.default,{className:(0,s.default)(r,g.default.container),tag:"form",onSubmit:this.handleSubmit,size:d},void 0,a(c.default.Header,{},void 0,a(u.default,{tag:u.default.Tags.H4,className:g.default.header},void 0,i)),a(c.default.Content,{className:g.default.content},void 0,o),a(c.default.Footer,{},void 0,h,p))},t}(i.default.PureComponent);h.Sizes=c.default.Sizes,h.key=function(){return"confirm-modal"},h.defaultProps={red:!0,size:c.default.Sizes.SMALL},t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(203)),i=(r(n(102)),r(n(144)),r(n(141)),{getInitialState:function(){return this.getStateFromPermissionStore()},componentWillMount:function(){a.default.addChangeListener(this.permissionStoreDidChange)},componentDidMount:function(){this._isMounted=!0},componentWillUnmount:function(){a.default.removeChangeListener(this.permissionStoreDidChange)},permissionStoreDidChange:function(){this._isMounted&&this.setState(this.getStateFromPermissionStore())},didPermissionsUpdate:function(e,t){var n=this.state,r=n.__PermissionMixinGuilds,a=n.__PermissionMixinChannels;if(null==t)return r!==e.__PermissionMixinGuilds||a!==e.__PermissionMixinChannels;var i=t.getGuildId();return a[t.id]!==e.__PermissionMixinChannels[t.id]||null!=i&&r[i]!==e.__PermissionMixinGuilds[i]},getStateFromPermissionStore:function(){var e=a.default.getState();return{__PermissionMixinGuilds:e.guilds,__PermissionMixinChannels:e.channels}},can:function(e,t){return a.default.can(e,t)},canManageUser:function(e,t,n){return a.default.canManageUser(e,t,n)}});t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=n(1274),a=n(1281),i=n(1346),o="3.26.0";e.exports={verify:function(e){var t,n,s;return e?(s=e.name,null==(t=e.client)?a.reject(new r({type:i.INSTANTIATION_OPTION_REQUIRED.type,code:i.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+s+"."})):(n=t.getVersion())!==o?a.reject(new r({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+n+") and "+s+" (version "+o+") components must be from the same SDK version."})):a.resolve()):a.reject(new r({type:i.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:i.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(5)),i=r(n(49)),o=r(n(39)),s=r(n(74)),c=r(n(597)),l=r(n(595)),u=r(n(143)),f=r(n(1397)),d=n(4);t.default={openPrivateChannel:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=function(t){r&&f.default.call(t,a,!0,e)};if(null!=t&&1==t.length){var s=this._openCachedDMChannel(t[0]);if(null!=s)return i(s),Promise.resolve(s)}var c=this._getRecipients(t);return o.default.post({url:d.Endpoints.USER_CHANNELS(e),body:{recipients:c}}).then(function(e){return n._openPrivateChannel(e.body),i(e.body.id),e.body.id})},_openCachedDMChannel:function(e){var t=s.default.getDMFromUserId(e),n=null!=t?s.default.getChannel(t):null;if(n)return u.default.selectPrivateChannel(n.id),n.id},ensurePrivateChannel:function(e,t){var n=this._getRecipients(t);return o.default.post({url:d.Endpoints.USER_CHANNELS(e),body:{recipients:n}}).then(function(e){var t=e.body;return a.default.dispatch({type:d.ActionTypes.CHANNEL_CREATE,channel:t}),t.id})},_getRecipients:function(e){return null!=e?Array.isArray(e)?e:[e]:[]},_openPrivateChannel:function(e){a.default.dispatch({type:d.ActionTypes.CHANNEL_CREATE,channel:e}),u.default.selectPrivateChannel(e.id)},closePrivateChannel:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s.default.getChannel(e),r=null!=n&&n.isParty();return a.default.dispatch({type:d.ActionTypes.CHANNEL_DELETE,channel:{id:e,guild_id:null}}),t&&(r?i.default.transitionTo(l.default.getRoute()||c.default.getRoute()||d.Routes.FRIENDS):i.default.transitionTo(d.Routes.FRIENDS)),o.default.delete(d.Endpoints.CHANNELS+"/"+e)},updatePermissionOverwrite:function(e,t){return o.default.put({url:d.Endpoints.CHANNEL_PERMISSIONS(e)+"/"+t.id,body:t})},clearPermissionOverwrite:function(e,t){o.default.delete(d.Endpoints.CHANNEL_PERMISSIONS(e)+"/"+t)},addRecipient:function(e,t){var n=this;return o.default.put(d.Endpoints.CHANNEL_RECIPIENTS(e)+"/"+t).then(function(t){return 201===t.status?(n._openPrivateChannel(t.body),t.body.id):e})},addRecipients:function(e,t){var n=this;return this.addRecipient(e,t[0]).then(function(e){return Promise.all(t.slice(1).map(function(t){return n.addRecipient(e,t)})).then(function(){return e})})},removeRecipient:function(e,t){return o.default.delete(d.Endpoints.CHANNEL_RECIPIENTS(e)+"/"+t)},setName:function(e,t){return o.default.patch({url:d.Endpoints.CHANNELS+"/"+e,body:{name:t}})},setIcon:function(e,t){o.default.patch({url:d.Endpoints.CHANNELS+"/"+e,body:{icon:t}})},convertToGuild:function(e){return o.default.post({url:d.Endpoints.CHANNEL_CONVERT(e)})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(547)),o=r(n(3)),s=r(n(548)),c=r(n(204)),l=r(n(549)),u=r(n(15)),f=r(n(7)),d=r(n(1383)),p=r(n(101)),g=r(n(1637)),h=r(n(1277)),m=n(4),b=r(n(1322));n(1864);var v=0,_=(0,s.default)({displayName:"InternalContextMenu",mixins:[l.default,d.default],getSubscriptions:function(){var e;return e={},e[m.ComponentActions.CONTEXT_MENU_CLOSE]=h.default.close,e},propTypes:{render:i.default.func.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,target:i.default.object.isRequired,config:i.default.object},getInitialState:function(){return{invertX:!1,invertChildX:!1,invertY:!1,invertChildY:!1,offsetX:0,offsetY:0,theme:p.default.theme}},componentDidMount:function(){this.updateOffsets(),document.addEventListener("mousedown",this.close,!0),document.addEventListener("contextmenu",this.closeImmediate,!0),window.addEventListener("resize",this.closeImmediate,!0),this.props.config&&this.props.config.noBlurEvent||window.addEventListener("blur",this.closeImmediate,!1)},componentDidUpdate:function(e){var t=e.render,n=e.x,r=e.y;this.props.render===t&&this.props.x===n&&this.props.y===r||this.updateOffsets()},componentWillUnmount:function(){document.removeEventListener("mousedown",this.close,!0),document.removeEventListener("contextmenu",this.closeImmediate,!0),window.removeEventListener("resize",this.closeImmediate,!0),this.props.config&&this.props.config.noBlurEvent||window.removeEventListener("blur",this.closeImmediate,!1)},close:function(e){if(null!=e)for(var t=e.target;null!=t;){if(t===c.default.findDOMNode(this))return;t=t.parentNode}this.closeImmediate(e)},closeImmediate:function(e){if(this.clearSelection(),e.preventDefault(),this.props.config){var t=this.props.config.onClose;t&&t()}h.default.close()},clearSelection:function(){var e=document.selection;e&&e.empty?e.empty():window.getSelection&&window.getSelection().removeAllRanges()},updateOffsets:function(){var e=c.default.findDOMNode(this);if(e instanceof HTMLElement){var t=e.offsetHeight,n=e.offsetWidth,r=this.props,a=r.x,i=r.y,o={},s=window.innerHeight,l=window.innerWidth;o.invertY=i+t>=s,o.invertX=a+n>=l,o.invertChildX=a+2*n>=l,o.invertChildY=i+(t+245)>=s,o.invertY&&(o.offsetY=i-t<10?-(i-10):-t),o.invertX&&(o.offsetX=-n),this.setState(o)}},render:function(){var e=this.props,t=e.render,n=e.x,r=e.y,i=e.target,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["render","x","y","target"]),s=this.state,c=s.invertX,l=s.invertY,f=s.offsetX,d=s.offsetY,p=s.invertChildX,g=s.invertChildY,h=s.theme,m=h?"context-menu theme-"+h:"context-menu";return t(a({key:v++,className:(0,u.default)(m,{invertX:c,invertY:l,invertChildX:p}),invertChildY:g,theme:h,style:{left:n+f,top:r+d},target:i},o))}}),y=(0,s.default)({displayName:"ContextMenu",mixins:[f.default.StoreListenerMixin(g.default)],previousX:-1,previousY:-1,statics:{openContextMenu:function(e,t,n){e.preventDefault(),e.stopPropagation();var r=e.pageX,a=e.pageY;this.previousX==r&&this.previousY==a?(h.default.close(),this.previousX=-1,this.previousY=-1):(h.default.open({render:t,x:r,y:a,target:e.target||e.currentTarget,config:n}),this.previousX=r,this.previousY=a)},openUserContextMenu:function(e,t,n){var r={nearestMessage:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,user:t,channelId:n.id};n.isGroupDM()?r.type=m.ContextMenuTypes.USER_GROUP_DM:n.isDM()?(r.selected=!0,r.type=m.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE):(r.type=m.ContextMenuTypes.USER_CHANNEL_MESSAGE,r.guildId=n.getGuildId()),y.openContextMenu(e,function(e){return o.default.createElement(b.default,a({},e,r))})}},getStateFromStores:function(){return{contextMenu:g.default.getContextMenu()}},render:function(){return this.state.contextMenu?o.default.createElement(_,this.state.contextMenu):null}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=function(e){var t=e.children;return a.default.Children.toArray(t).length?r("div",{className:"item-group"},void 0,t):null},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r={};r=n(4599),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(5)),o=r(n(21)),s=n(4),c=r(n(39)),l=r(n(582)),u=n(561);t.default={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_INIT,guildId:e,section:t})},open:function(e,t){this.init(e,t),(0,u.pushLayer)(s.Layers.GUILD_SETTINGS)},close:function(){i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_CLOSE})},setSection:function(e){i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_SET_SECTION,section:e})},setSearchQuery:function(e){i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_SET_SEARCH_QUERY,searchQuery:e})},selectRole:function(e){i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_ROLE_SELECT,roleId:e})},updateEmbed:function(e,t,n){c.default.patch({url:s.Endpoints.GUILD_EMBED(e),body:{enabled:t,channel_id:n}}).then(function(t){i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_SET_EMBED,guildId:e,enabled:t.body.enabled,channelId:t.body.channel_id})})},updateMFALevel:function(e){var t=e.guildId,n=e.level,r=e.isEnabled;(0,l.default)({title:o.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL,actionText:r?o.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_OFF:o.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_ON},function(e){return c.default.post({url:s.Endpoints.GUILD_MFA(t),body:a({level:n},e)})}).then(function(e){return i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_SET_MFA_SUCCESS,level:e.body.level})})},updateIcon:function(e,t){c.default.patch({url:s.Endpoints.GUILD(e),body:{icon:t}}).then(function(){i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_UPDATE,icon:t})},function(e){return i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},cancelChanges:function(e){i.default.dirtyDispatch({type:s.ActionTypes.GUILD_SETTINGS_CANCEL_CHANGES,guildId:e})},updateGuild:function(e){i.default.dispatch(a({type:s.ActionTypes.GUILD_SETTINGS_UPDATE},e))},saveGuild:function(e,t){var n=t.name,r=t.icon,a=t.splash,o=t.region,l=t.afkChannelId,u=t.afkTimeout,f=t.systemChannelId,d=t.verificationLevel,p=t.defaultMessageNotifications,g=t.explicitContentFilter;return i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_SUBMIT}),c.default.patch({url:s.Endpoints.GUILD(e),body:{name:n,icon:r,splash:a,region:o,afk_channel_id:l,afk_timeout:u,system_channel_id:f,verification_level:d,default_message_notifications:p,explicit_content_filter:g}}).then(function(){return i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS})},function(e){return i.default.dispatch({type:s.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},updateGuildModeration:function(e,t){return c.default.patch({url:s.Endpoints.GUILD(e),body:{verification_level:t.verificationLevel,explicit_content_filter:t.explicitContentFilter}})},transferOwnership:function(e,t){return(0,l.default)({title:o.default.Messages.TRANSFER_OWNERSHIP,actionText:o.default.Messages.TRANSFER_OWNERSHIP},function(n){return c.default.patch({url:s.Endpoints.GUILD(e),body:a({owner_id:t},n)})})},deleteGuild:function(e,t){var n=this;(0,l.default)({title:o.default.Messages.DELETE_SERVER_TITLE.format({name:t}),actionText:o.default.Messages.DELETE_SERVER},function(t){return c.default.post({url:s.Endpoints.GUILD(e)+"/delete",body:t})}).then(function(){return n.close()})},leaveGuild:function(e){var t=this;c.default.delete(""+s.Endpoints.ME+s.Endpoints.GUILD(e)).then(function(){return t.close()})},updateMemberRoles:function(e,t,n){c.default.patch({url:s.Endpoints.GUILD_MEMBERS(e)+"/"+t,body:{roles:n}})},enableIntegration:function(e,t,n){c.default.post({url:s.Endpoints.GUILD_INTEGRATIONS(e),body:{type:t,id:n}})},disableIntegration:function(e,t){c.default.delete(s.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t)},updateIntegration:function(e,t,n,r,a){var i={expire_behavior:n,expire_grace_period:r,enable_emoticons:a};c.default.patch({url:s.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t,body:i})},enableCustomEmoji:function(e,t,n){c.default.patch({url:s.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t+"/custom_emoji",body:{enable:n}})},syncIntegration:function(e,t){c.default.post(s.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t+"/sync")}},e.exports=t.default},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(15)),s=r(n(4651)),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style;return a("div",{className:(0,o.default)(s.default.divider,t),style:n})},t}(i.default.PureComponent);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(14)),i=r(n(22)),o=n(4),s=[{type:"twitch",name:"Twitch",color:o.Colors.TWITCH,icon:{color:n(1935),white:n(1936),grey:n(1937)},serverSync:!0,enabled:!0,getPlatformUserUrl:function(e){var t=e.name;return"https://www.twitch.tv/"+encodeURIComponent(t)}},{type:"youtube",name:"YouTube",color:o.Colors.YOUTUBE,icon:{color:n(1938),white:n(1939),grey:n(1940)},serverSync:!0,enabled:!0,getPlatformUserUrl:function(e){var t=e.id;return"https://www.youtube.com/channel/"+encodeURIComponent(t)}},{type:"battlenet",name:"Battle.net",color:o.Colors.BATTLENET,icon:{color:n(1941),white:n(1942),grey:n(1943)},serverSync:!1,disabled:!0,enabled:i.default.isWindows()},{type:"skype",name:"Skype",color:o.Colors.SKYPE,icon:{color:n(1944),white:n(1945),grey:n(1946)},serverSync:!1,enabled:i.default.isWindows()||i.default.isOSX(),getPlatformUserUrl:function(e){var t=e.id;return"skype:"+encodeURIComponent(t)+"?userinfo"}},{type:"leagueoflegends",name:"League of Legends",color:o.Colors.LOL,icon:{color:n(1947),white:n(1948),grey:n(1949)},serverSync:!1,enabled:i.default.isWindows()},{type:"steam",name:"Steam",color:o.Colors.STEAM,icon:{color:n(1950),white:n(1951),grey:n(1952)},serverSync:!0,enabled:!0,getPlatformUserUrl:function(e){var t=e.id;return"https://steamcommunity.com/profiles/"+encodeURIComponent(t)}},{type:"reddit",name:"Reddit",color:o.Colors.REDDIT,icon:{color:n(1953),white:n(1954),grey:n(1955)},serverSync:!0,enabled:!0,getPlatformUserUrl:function(e){var t=e.name;return"https://www.reddit.com/u/"+encodeURIComponent(t)}},{type:"facebook",name:"Facebook",color:o.Colors.FACEBOOK,icon:{color:n(1956),white:n(1957),grey:n(1958)},serverSync:!0,enabled:!0,getPlatformUserUrl:function(e){var t=e.id;return"https://www.facebook.com/"+encodeURIComponent(t)}},{type:"twitter",name:"Twitter",color:o.Colors.TWITTER,icon:{color:n(1959),white:n(1960),grey:n(1961)},serverSync:!0,enabled:!0,getPlatformUserUrl:function(e){var t=e.name;return"https://twitter.com/"+encodeURIComponent(t)}},{type:"spotify",name:"Spotify",color:o.Colors.SPOTIFY,icon:{color:n(1962),white:n(1963),grey:n(1964)},serverSync:!0,enabled:!0,getPlatformUserUrl:function(e){var t=e.id;return"https://open.spotify.com/user/"+encodeURIComponent(t)}}],c=a.default.keyBy(s,"type");t.default={get:function(e){var t=c[e];if(null==t)throw new Error("unknown platform: "+t);return t},map:function(e){return s.map(e)},filter:function(e){return s.filter(e)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.AvatarStatuses=t.AvatarSizes=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),o=r(n(3)),s=r(n(15)),c=n(580),l=n(85),u=n(4),f=r(n(4594)),d=t.AvatarSizes={PROFILE:"profile",XXLARGE:"xxlarge",POPOUT:"popout",XLARGE:"xlarge",LARGE:"large",SMALL:"small",XSMALL:"xsmall"},p=t.AvatarStatuses=u.StatusTypes,g=function(e){var t=e.status,n=e.size,r=e.className;return i("div",{className:(0,s.default)(r,f.default["status"+(0,c.upperCaseFirstChar)(t)],n===d.POPOUT||n===d.PROFILE?(0,l.getClass)(f.default,"status",t,"profile"):null)})},h=function(e){var t=e.size,n=void 0===t?d.LARGE:t,r=e.src,c=e.className,l=e.status,u=e.statusClass,p=e.style,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["size","src","className","status","statusClass","style"]),m=void 0;return null!=l&&(m=n===d.POPOUT||n===d.PROFILE?f.default.maskProfile:f.default.mask),o.default.createElement("div",a({className:(0,s.default)(f.default.avatar,f.default[n],c)},h),i("div",{className:(0,s.default)(f.default.image,m),style:a({},p,{backgroundImage:null!=r?"url('"+r+"')":"none"})}),null!=l?i(g,{status:l,size:n,className:u}):null)};h.Sizes=d,h.Statuses=p,t.default=h},function(e,t,n){"use strict";var r=t;r.version=n(4775).version,r.utils=n(4776),r.rand=n(1684),r.curve=n(1461),r.curves=n(4781),r.ec=n(4789),r.eddsa=n(4793)},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),a=n(4);t.default={open:function(e){r.default.dirtyDispatch({type:a.ActionTypes.POPOUT_OPEN,popout:e})},close:function(e){r.default.dirtyDispatch({type:a.ActionTypes.POPOUT_CLOSE,key:e})},closeAll:function(){r.default.dirtyDispatch({type:a.ActionTypes.POPOUT_CLOSE_ALL})},rerender:function(e){r.default.dirtyDispatch({type:a.ActionTypes.POPOUT_NEEDS_RERENDER,key:e})},didRerender:function(e){r.default.dirtyDispatch({type:a.ActionTypes.POPOUT_DID_RERENDER,key:e})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return null!=e&&(e.type===s.ActivityTypes.STREAMING&&(null!=e.url&&p.test(e.url)))}function i(e,t){return t!==s.ActivityFlags.INSTANCE&&(null!=e&&null!=e.flags&&!!(e.flags&t))}function o(e){var t=i(e,s.ActivityFlags.JOIN),n=i(e,s.ActivityFlags.SPECTATE);return t||n}t.__esModule=!0,t.renderActivity=function(e){if(null==e||null==e.name)return null;if(a(e))return c.default.Messages.STREAMING.format({name:e.name});switch(e.type){case s.ActivityTypes.LISTENING:return c.default.Messages.LISTENING_TO.format({name:e.name});case s.ActivityTypes.WATCHING:return c.default.Messages.WATCHING.format({name:e.name});case s.ActivityTypes.PLAYING:default:return c.default.Messages.PLAYING_GAME.format({game:e.name})}},t.isStreaming=a,t.isListeningOnSpotify=function(e){return null!=e&&e.type===s.ActivityTypes.LISTENING&&e.name===l.default.get(s.PlatformTypes.SPOTIFY).name&&null!=e.party&&null!=e.party.id&&(0,d.isSpotifyParty)(e.party.id)},t.getStreamURL=function(e){return null!=e&&null!=e.url&&p.test(e.url)?e.url:null},t.hasRichActivity=function(e){return null!=e&&(null!=e.details||null!=e.assets||null!=e.party||null!=e.secrets||null!=e.state)},t.hasFlag=i,t.canJoinOrSpectate=o,t.shouldTriggerEducationExperiment=function(e,t,n,r){if(null==e)return!1;if(!e.isPrivate()&&!n.can(s.Permissions.EMBED_LINKS,e))return!1;if(null==t||!o(t))return!1;var a=t.application_id;return null!=a&&null!=r.getGameByApplicationId(a)},t.isInviteActive=function(e,t,n){if(null==e)return!1;var r=null!=t.activity?t.activity.party_id:null,a=null!=r&&(null==e.party||e.party.id!=r),i=u.default.extractTimestamp(t.id)+s.EMBED_LIFETIME<Date.now(),o=null!=e.application_id&&e.application_id!==n;return!a&&!i&&!o},t.getCoverImageFromActivity=function(e,t){return null==e||null==e.assets||null==e.assets.large_image?null:(0,f.getAssetImage)(t,e.assets.large_image,s.ACTIVITY_INVITE_COVER_IMAGE_SIZE)};var s=n(4),c=r(n(21)),l=r(n(1304)),u=r(n(145)),f=n(1451),d=n(1488),p=/^https?:\/\/(www\.)?twitch\.tv\/.+/},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(null==e)return null;var t=!1,n=e.getGuildId();if(null!=n){var r=e.permissionOverwrites[n];r&&0==(r.deny&s.Permissions.VIEW_CHANNEL)&&(t=!0)}return{channel_id:e.id,channel_type:e.type,channel_size_total:n?0:e.recipients.length,channel_member_perms:n?b.default.getChannelPermissions(e.id)||0:0,channel_hidden:t}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.collectVoiceAnalyticsMetadata=function(e){if(null==e)return null;var t=f.default.getChannel(e);if(null==t)return null;var n=y.default.getCurrentGame(),r={channel_id:t.id,channel_type:t.type,voice_state_count:0,video_stream_count:0,video_enabled:_.default.isVideoEnabled()||_.default.isScreenSharing(),game_name:null!=n?n.gameName:null};return(0,o.default)(v.default.getVoiceStates(t.getGuildId())).filter(function(e){return e.channelId===t.id}).filter(function(e){return e.userId!==c.default.getId()}).forEach(function(e){r.voice_state_count++,e.selfVideo&&r.video_stream_count++}),r};var o=r(n(14)),s=n(4),c=r(n(24)),l=r(n(550)),u=r(n(205)),f=r(n(74)),d=r(n(207)),p=r(n(48)),g=r(n(202)),h=r(n(213)),m=r(n(1315)),b=r(n(203)),v=r(n(1291)),_=r(n(75)),y=r(n(1330)),E=r(n(54));t.default={trackWithMetadata:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!E.default.isThrottled(e)){var r=t.location!==s.AnalyticsLocations.GUILD_CREATE_INVITE_SUGGESTION,o=t.guild_id||(r?u.default.getGuildId():null),m=t.channel_id||(r?l.default.getChannelId(o):null),v=i({},t,function(e){if(null==e)return null;var t=p.default.getGuild(e);if(null==t)return null;var n=c.default.getId(),r=g.default.getMember(e,n),a=d.default.getChannels(e);return{guild_id:t.id,guild_size_total:h.default.getMemberCount(e),guild_num_channels:a.count,guild_num_text_channels:a[s.ChannelTypes.GUILD_TEXT].length,guild_num_voice_channels:a[s.ChannelTypes.GUILD_VOICE].length,guild_num_roles:function(e){var t=0;for(var n in e)t+=1;return t}(t.roles),guild_member_num_roles:r?r.roles.length:0,guild_member_perms:b.default.getGuildPermissions(e)||0,guild_is_vip:t.hasFeature(s.GuildFeatures.VIP_REGIONS)}}(o),a(f.default.getChannel(m)));E.default.track(e,v,n)}},trackWithGroupMetadata:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!E.default.isThrottled(e)){var o=m.default.getGame(t.game_id),c=i({},n,a(t.channel),{channel_type:s.ChannelTypes.GROUP_DM,game_id:t.game_id,game_name:null!=o?o.name:"Unknown Game",owner_id:t.ownerId,total_size:t.size,free_size:t.available,title:t.title,description:t.description});E.default.track(e,c,r)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(5)),o=n(4),s=r(n(75)),c=n(1967),l=c.enable,u=c.isNotSupported;t.default={enable:l,toggleSelfMute:function(){u()||(s.default.isEnabled()?i.default.dispatch({type:o.ActionTypes.AUDIO_TOGGLE_SELF_MUTE}):this.enable())},setTemporarySelfMute:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_TEMPORARY_SELF_MUTE,mute:e})},toggleSelfDeaf:function(){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_TOGGLE_SELF_DEAF})},toggleLocalMute:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_TOGGLE_LOCAL_MUTE,userId:e})},setLocalVolume:function(e,t){i.default.dispatch({type:o.ActionTypes.AUDIO_SET_LOCAL_VOLUME,userId:e,volume:t})},setLocalPan:function(e,t,n){i.default.dispatch({type:o.ActionTypes.AUDIO_SET_LOCAL_PAN,userId:e,left:t,right:n})},setMode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_MODE,mode:e,options:a({},s.default.getModeOptions(),t)})},setInputVolume:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_INPUT_VOLUME,volume:e})},setOutputVolume:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_OUTPUT_VOLUME,volume:e})},setInputDevice:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_INPUT_DEVICE,id:e})},setOutputDevice:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_OUTPUT_DEVICE,id:e})},setVideoDevice:function(e){u()||i.default.dirtyDispatch({type:o.ActionTypes.MEDIA_ENGINE_SET_VIDEO_DEVICE,id:e})},setEchoCancellation:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_ECHO_CANCELLATION,enabled:e})},setNoiseSuppression:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_NOISE_SUPPRESSION,enabled:e})},setAutomaticGainControl:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_AUTOMATIC_GAIN_CONTROL,enabled:e})},setAttenuation:function(e,t,n){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_ATTENUATION,attenuation:e,attenuateWhileSpeakingSelf:t,attenuateWhileSpeakingOthers:n})},setQoS:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_QOS,enabled:e})},reset:function(){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_RESET})},setSilenceWarning:function(e){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SET_DISPLAY_SILENCE_WARNING,enabled:e})},switchSubsystem:function(){u()||i.default.dispatch({type:o.ActionTypes.AUDIO_SWITCH_SUBSYSTEM})},setCurrentApp:function(e){i.default.dispatch({type:o.ActionTypes.AUDIO_SET_CURRENT_APP,application:e})},setVideoEnabled:function(e,t){i.default.dispatch({type:o.ActionTypes.MEDIA_ENGINE_SET_VIDEO_ENABLED,enabled:e,channelId:t}),s.default.isEnabled()||l(!0)},setDesktopSource:function(e,t,n){i.default.dispatch({type:o.ActionTypes.MEDIA_ENGINE_SET_DESKTOP_SOURCE,sourceId:e,resolution:t,frameRate:n}),s.default.isEnabled()||l()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.forEach(function(e){var n=e.guild_id,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e instanceof Array?f.default.keyBy(e,"channel_id"):e}(e.channel_overrides);if(t){var a=y[n];null!=a&&(r=(0,v.default)(a.channel_overrides,r))}e.channel_overrides=r,y[n]=(0,v.default)(y[n]||i(n),e),w[n]=new Set((0,f.default)(e.channel_overrides).filter(function(e){return e.muted}).map(function(e){return e.channel_id}).value())}),!0}function i(e){var t=g.default.getGuild(e),n=t?t.defaultMessageNotifications:b.UserNotificationSettings.ALL_MESSAGES;return x[n]}function o(e){return y[e]||i(e)}function s(){0===Object.keys(E).length?m.default.remove(_):m.default.set(_,E)}t.__esModule=!0;var c,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=r(n(7)),f=r(n(14)),d=r(n(5)),p=r(n(58)),g=r(n(48)),h=r(n(74)),m=r(n(40)),b=n(4),v=r(n(1973)),_="collapsedGuilds",y={},E={},S={suppress_everyone:!1,mobile_push:!0,muted:!1,message_notifications:b.UserNotificationSettings.ALL_MESSAGES,channel_overrides:{}},x=(c={},c[b.UserNotificationSettings.ALL_MESSAGES]=l({},S,{message_notifications:b.UserNotificationSettings.ALL_MESSAGES}),c[b.UserNotificationSettings.ONLY_MENTIONS]=l({},S,{message_notifications:b.UserNotificationSettings.ONLY_MENTIONS}),c),w={},T=new Set,C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,g.default),E=m.default.get(_)||{}},t.prototype.isSuppressEveryoneEnabled=function(e){return o(e).suppress_everyone},t.prototype.isMobilePushEnabled=function(e){return o(e).mobile_push},t.prototype.isMuted=function(e){return o(e).muted},t.prototype.getMessageNotifications=function(e){return o(e).message_notifications},t.prototype.getChannelOverrides=function(e){return o(e).channel_overrides||{}},t.prototype.getChannelMessageNotifications=function(e,t){var n=this.getChannelOverrides(e)[t];return null==n||null==n.message_notifications?b.UserNotificationSettings.NULL:n.message_notifications},t.prototype.getMutedChannels=function(e){return w[e]||T},t.prototype.isChannelMuted=function(e,t){return this.getMutedChannels(e).has(t)},t.prototype._isCategoryMuted=function(e,t){var n=h.default.getChannel(t);if(null==n)return!1;var r=n.parent_id;return null!=r&&this.getMutedChannels(e).has(r)},t.prototype._resolvedMessageNotifications=function(e){var t=this.getChannelMessageNotifications(e.guild_id,e.id);if(t!==b.UserNotificationSettings.NULL)return t;if(null!=e.parent_id){var n=this.getChannelMessageNotifications(e.guild_id,e.parent_id);if(n!==b.UserNotificationSettings.NULL)return n}return this.getMessageNotifications(e.guild_id)},t.prototype.isGuildOrCategoryOrChannelMuted=function(e,t){return this.isMuted(e)||this._isCategoryMuted(e,t)||this.isChannelMuted(e,t)},t.prototype.allowNoMessages=function(e){return this.isGuildOrCategoryOrChannelMuted(e.guild_id,e.id)||this._resolvedMessageNotifications(e)===b.UserNotificationSettings.NO_MESSAGES},t.prototype.allowAllMessages=function(e){return!this.isGuildOrCategoryOrChannelMuted(e.guild_id,e.id)&&this._resolvedMessageNotifications(e)===b.UserNotificationSettings.ALL_MESSAGES},t.prototype.isGuildCollapsed=function(e){return E[e]||!1},t}(u.default.Store);t.default=new C(d.default,{USER_GUILD_SETTINGS_UPDATE:function(e){var t=e.userGuildSettings,n=e.partial;return a(t,void 0!==n&&n)},CONNECTION_OPEN:function(e){y={},w={},Object.keys(E).forEach(function(e){E[e]&&null==g.default.getGuild(e)&&delete E[e]}),s(),a(e.userGuildSettings)},GUILD_CREATE:function(e){return!0},GUILD_UPDATE:function(e){return!0},GUILD_TOGGLE_COLLAPSE_MUTED:function(e){var t=e.guildId;E[t]?delete E[t]:E[t]=!0,s()},LOGOUT:function(){m.default.remove(_)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e&&Date.parse(e)||0}function o(e){var t=P.ChannelTypes.DM,n=P.ChannelTypes.GROUP_DM;return e===P.ChannelTypes.GUILD_TEXT||e===t||e===n}function s(e){var t=new Set;e.forEach(function(e){if(o(e.type)){var n=G.get(e.id);n.lastMessageId=e.last_message_id,n.lastPinTimestamp=i(e.last_pin_timestamp),null!=e.guild_id&&t.add(e.guild_id)}}),Array.from(t).forEach(function(e){return l(e)})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y.default.getChannel(e);return null!=n&&null!=n.parent_id&&(B.get(n.parent_id).rebuild(t),!0)}function l(e){if(null!=e){O.default.getCategories(e)._categories.forEach(function(e){var t=e.channel;B.get(t.id).rebuild(!0)})}}function u(e){var t=e.channelId;G.get(t).rebuild(),c(t)}function f(e){var t=e.channelId;if(null!=t){var n=G.get(t);if(L&&n.hasUnreadOrMentions()&&m.default.isAtBottom(t))return n.ack()}return!1}function d(e){var t=e.channelId,n=e.messageId,r=e.manual,a=G.get(t);return r?(a.rebuild(n,!0),void c(t)):n===a.ackMessageId?(c(t),!1):a.ack(n,!0)}t.__esModule=!0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=r(n(7)),h=r(n(5)),m=r(n(1452)),b=r(n(550)),v=r(n(203)),_=r(n(1311)),y=r(n(74)),E=r(n(58)),S=r(n(48)),x=r(n(1357)),w=r(n(1283)),T=r(n(24)),C=r(n(1504)),A=r(n(1320)),I=r(n(1339)),O=r(n(1376)),N=r(n(1359)),M=r(n(39)),R=r(n(1309)),D=r(n(145)),P=n(4),k=P.Permissions.READ_MESSAGE_HISTORY|P.Permissions.VIEW_CHANNEL,L=!0,U=null,F=null,B=function(){function e(t){a(this,e),this.categoryId=t,this._hasUnreads=!1,this.channelIds=[]}return e.get=function(t){var n=e._readStates[t];return null==n&&(n=new e(t),e._readStates[t]=n),n},e.clear=function(t){return null!=e._readStates[t]&&(delete e._readStates[t],!0)},e.clearAll=function(){e._readStates={}},e.prototype.rebuildChannelIds=function(){var e=y.default.getChannel(this.categoryId);if(null!=e){var t=O.default.getCategories(e.getGuildId());this.channelIds=t[e.id]?t[e.id].filter(function(e){var t=e.channel,n=t.id,r=t.type,a=t.guild_id;return o(r)&&!_.default.isGuildOrCategoryOrChannelMuted(a,n)}).map(function(e){return e.channel.id}):[]}},e.prototype.rebuild=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.rebuildChannelIds(),this._hasUnreads=this.channelIds.map(function(e){return G.get(e).hasUnread()}).some(function(e){return e})},p(e,[{key:"hasUnreads",get:function(){return this._hasUnreads}}]),e}();B._readStates={};var G=function(){function e(t){a(this,e),this.channelId=t,this._guildId=null,this.loadedMessages=!1,this.lastMessageId=null,this.ackMessageId=null,this.ackPinTimestamp=0,this.lastPinTimestamp=0,this._oldestUnreadMessageId=null,this.oldestUnreadMessageIdStale=!1,this.estimated=!1,this.unreadCount=0,this.mentionCount=0,this.outgoingAck=null}return e.forEach=function(t){var n=Object.keys(e._readStates),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(a>=n.length)break;i=n[a++]}else{if((a=n.next()).done)break;i=a.value}if(!1===t(e._readStates[i]))break}},e.get=function(t){var n=e._readStates[t];return null==n&&(n=new e(t),e._readStates[t]=n),n},e.getIfExists=function(t){return e._readStates[t]},e.getValue=function(t,n,r){var a=e._readStates[t];return null==a?r:n(a)},e.clear=function(t){return null!=e._readStates[t]&&(delete e._readStates[t],!0)},e.clearAll=function(){e._readStates={}},e.prototype.guessAckMessageId=function(){var e=A.default.getMessages(this.channelId);if(null!=this.ackMessageId||!this.isPrivate()||e.hasMoreAfter)return this.ackMessageId;if(!this.hasMentions())return this.lastMessageId;var t=null,n=this.mentionCount,r=E.default.getCurrentUser();return e.forEach(function(e){if(n>0&&e.author.id!==r.id)--n;else if(0===n)return t=e.id,!1},this,!0),t},e.prototype.isPrivate=function(){return null==this.guildId},e.prototype.rebuild=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ackMessageId=e||this.ackMessageId||this.guessAckMessageId(),this.oldestUnreadMessageId=null,this.estimated=!1,this.unreadCount=0,n&&(this.mentionCount=0),this.hasUnread()){var r=E.default.getCurrentUser(),a=this.isPrivate(),i=this.ackTimestamp,o=!1,s=!1,c=null,l=A.default.getMessages(this.channelId);l.forAll(function(e){o?t.oldestUnreadMessageId=t.oldestUnreadMessageId||e.id:o=e.id===t.ackMessageId,D.default.extractTimestamp(e.id)>i?(t.unreadCount++,n&&!w.default.isBlocked(e.author.id)&&(e.isMentioned(r.id,_.default.isSuppressEveryoneEnabled(t.guildId))||a&&!_.default.isGuildOrCategoryOrChannelMuted(null,t.channelId))&&t.mentionCount++,c=c||e.id):s=!0}),this.estimated=!l.hasPresent()||!(o||s)&&l.length===this.unreadCount,this.oldestUnreadMessageId=this.oldestUnreadMessageId||c}},e.prototype.hasUnread=function(){return this.ackTimestamp<D.default.extractTimestamp(this.lastMessageId)},e.prototype.hasMentions=function(){return this.mentionCount>0},e.prototype.hasUnreadOrMentions=function(){return this.hasMentions()||this.hasUnread()},e.prototype.ackPins=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==e){if(this.lastPinTimestamp===this.ackPinTimestamp)return!1;M.default.post(P.Endpoints.PINS_ACK(this.channelId))}return this.ackPinTimestamp=i(e)||this.lastPinTimestamp,!0},e.prototype.ack=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&!this.loadedMessages&&!t)return!1;var a=this.hasMentions();return this.unreadCount=0,this.mentionCount=0,(null!=e||null!=(e=this.lastMessageId))&&(this.ackMessageId=e,t?this.oldestUnreadMessageId=null:(null==this.outgoingAck&&setTimeout(function(){n._ack(),n.outgoingAck=null},a||r?0:2e3),this.outgoingAck=e),c(this.channelId),!0)},e.prototype._ack=function(){var e=this,t=this.outgoingAck;if(null!=t){var n=T.default.getId(),r=F;M.default.post({url:P.Endpoints.MESSAGES_ACK(this.channelId,t),body:{token:F}}).then(function(t){F===r&&n===T.default.getId()&&(F=t.body.token);var a=y.default.getChannel(e.channelId);R.default.trackWithMetadata(P.AnalyticEvents.ACK_MESSAGES,{channel_id:e.channelId,guild_id:null==a?void 0:a.getGuildId()})})}},e.prototype.delete=function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&M.default.delete(P.Endpoints.CHANNEL_ACK(this.channelId)),delete e._readStates[this.channelId]},e.prototype.channelReadable=function(){var e=y.default.getChannel(this.channelId);return!(!e||!o(e.type))&&(e.isPrivate()||v.default.can(k,{channelId:this.channelId}))},p(e,[{key:"oldestUnreadMessageId",get:function(){return this._oldestUnreadMessageId},set:function(e){this._oldestUnreadMessageId=e,this.oldestUnreadMessageIdStale=!1}},{key:"guildId",get:function(){if(null!=this._guildId)return this._guildId;var e=y.default.getChannel(this.channelId);return this._guildId=null!=e?e.getGuildId():null}},{key:"ackTimestamp",get:function(){var e=D.default.extractTimestamp(this.ackMessageId);if(0===e){e=D.default.extractTimestamp(this.channelId);var t=y.default.getChannel(this.channelId);if(null!=t){var n=t.getGuildId();if(null!=n){var r=S.default.getGuild(n);null!=r&&(e=+r.joinedAt)}}}return e}},{key:"oldestUnreadTimestamp",get:function(){return D.default.extractTimestamp(this.oldestUnreadMessageId)}}]),e}();G._readStates={};var j=function(e){function t(){return a(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(m.default,E.default,S.default,x.default,O.default,y.default,b.default,A.default,v.default,I.default)},t.prototype.hasUnread=function(e){return G.getValue(e,function(e){return e.hasUnread()},!1)},t.prototype.hasCategoryUnread=function(e){return B.get(e).hasUnreads},t.prototype.getUnreadCount=function(e){return G.getValue(e,function(e){return e.unreadCount},0)},t.prototype.getMentionCount=function(e){return G.getValue(e,function(e){return e.mentionCount},0)},t.prototype.ackMessageId=function(e){return G.getValue(e,function(e){return e.ackMessageId},null)},t.prototype.lastMessageId=function(e){return G.getValue(e,function(e){return e.lastMessageId},null)},t.prototype.getOldestUnreadMessageId=function(e){return G.getValue(e,function(e){return e.oldestUnreadMessageId},null)},t.prototype.getOldestUnreadTimestamp=function(e){return G.getValue(e,function(e){return e.oldestUnreadTimestamp},0)},t.prototype.isEstimated=function(e){return G.getValue(e,function(e){return e.estimated},!1)},t.prototype.hasUnreadPins=function(e){return G.getValue(e,function(e){return e.lastPinTimestamp>e.ackPinTimestamp},!1)},t}(g.default.Store);t.default=new j(h.default,{CONNECTION_OPEN:function(e){F=null,G.clearAll(),B.clearAll();var t=0===x.default.totalUnavailableGuilds,n=[];e.readState.forEach(function(e){var r=G.get(e.id);t&&!r.channelReadable()?n.push(r):(r.mentionCount=e.mention_count||0,r.ackMessageId=e.last_message_id,r.ackPinTimestamp=i(e.last_pin_timestamp))}),n.length>0&&(console.log("[ReadStateStore] deleting "+n.length+" read states."),n.forEach(function(e){return e.delete()})),s(e.channels)},GUILD_CREATE:function(e){e.guild.channels.forEach(function(e){var t=G.getIfExists(e.id);null==t||t.channelReadable()||t.delete(!1)}),s(e.guild.channels)},LOAD_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.isAfter,r=e.messages,a=G.get(t);a.loadedMessages=!0;var i=A.default.getMessages(t);i&&(i.hasPresent()||i.jumpTargetId===a.ackMessageId?a.rebuild():n&&null!=a.ackMessageId&&i.has(a.ackMessageId,!0)&&(a.unreadCount+=r.length)),c(t)},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=G.get(t);r.lastMessageId=n.id;var a=E.default.getCurrentUser();if(n.author.id===a.id)return d({channelId:t,messageId:n.id,manual:!1});var i=b.default.getChannelId(),o=I.default.getCallLayout(t);if(L&&i===t&&m.default.isAtBottom(t)&&(o!==P.CallLayouts.NO_CHAT||o!==P.CallLayouts.FULL_SCREEN)&&!C.default.isIdle())return r.ack(n.id);(null==r.oldestUnreadMessageId||r.oldestUnreadMessageIdStale)&&(r.oldestUnreadMessageId=n.id),r.unreadCount++,w.default.isBlocked(n.author.id)||(N.default.isMentioned(n,a.id,_.default.isSuppressEveryoneEnabled(r.guildId))||r.isPrivate()&&!_.default.isGuildOrCategoryOrChannelMuted(null,t))&&r.mentionCount++,c(t)},MESSAGE_DELETE:u,MESSAGE_DELETE_BULK:u,MESSAGE_ACK:d,CHANNEL_ACK:function(e){var t=e.channelId,n=e.immediate,r=void 0!==n&&n,a=e.force,i=void 0!==a&&a;return G.get(t).ack(void 0,void 0,r,i)},CHANNEL_LOCAL_ACK:function(e){var t=e.channelId;return G.get(t).ack(void 0,!0)},CHANNEL_PINS_ACK:function(e){var t=e.channelId,n=e.timestamp;return G.get(t).ackPins(n)},CHANNEL_PINS_UPDATE:function(e){var t=e.channelId,n=e.lastPinTimestamp,r=G.get(t),a=i(n);return r.lastPinTimestamp!==a&&(r.lastPinTimestamp=a,!0)},CHANNEL_SELECT:function(e){var t=e.channelId;if(U===t)return!1;var n=!1;if(null!=U){var r=G.get(U);r.hasUnread()||(r.oldestUnreadMessageId=null,n=!0)}return c(t),U=t,n},CHANNEL_CREATE:function(e){var t=e.channel;if(!o(t.type))return!1;var n=G.get(t.id);n.lastMessageId=t.last_message_id,n.lastPinTimestamp=i(t.last_pin_timestamp),l(t.guild_id)},CHANNEL_DELETE:function(e){var t=e.channel,n=G.clear(t.id),r=B.clear(t.id);return null!=t.parent_id&&l(t.guild_id),n||r},CHANNEL_UPDATE:function(e){var t=e.channel;if(null==t.parent_id)return!1;l(t.guild_id)},WINDOW_FOCUS:function(e){if(L=e.focused,null==U)return!1;var t=G.get(U);L||t.hasUnread()||(t.oldestUnreadMessageIdStale=!0);var n=I.default.getCallLayout(U);return(!L||n!==P.CallLayouts.NO_CHAT&&n!==P.CallLayouts.FULL_SCREEN)&&(c(U),f({channelId:b.default.getChannelId()}))},UPDATE_CHANNEL_DIMENSIONS:f,USER_UPDATE:function(){F=null}}),e.exports=t.default},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e+":"+t}t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(7)),s=r(n(5)),c=r(n(22)),l=r(n(1382)),u=(n(4),r(n(40))),f=r(n(14)),d=r(n(1620)),p=r(n(101)),g="GameStoreReportedGames",h={},m={},b={},v={},_={},y={},E=u.default.get(g)||{},S=new Set,x="",w=!0,T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getGame=function(e){return h[e]},t.prototype.getGameByName=function(e){return null!=e?m[e.toLowerCase()]:null},t.prototype.getGameByApplicationId=function(e){return b[e]},t.prototype.getGameByDistributorGame=function(e,t){return v[a(e,t)]},t.prototype.getGameByExecutable=function(e){return _[e]},t.prototype.shouldReport=function(e){var t=null!=this.getGameByName(e),n=null!=E[e];return p.default.showCurrentGame&&!w&&!(t||n)},t.prototype.isLaunchable=function(e){return S.has(e)},i(t,[{key:"games",get:function(){return f.default.values(h)}},{key:"fetching",get:function(){return w}},{key:"etag",get:function(){return x}}]),t}(o.default.Store);t.default=new T(s.default,{CONNECTION_OPEN:function(e){return l.default.getGames(),!1},UNVERIFIED_GAME_UPDATE:function(e){var t=e.name,n=e.hash,r=e.missingData;E[t]=!0,u.default.set(g,E);var a=r,i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var s;if(i){if(o>=a.length)break;s=a[o++]}else{if((o=a.next()).done)break;s=o.value}var c=s;switch(c){case"icon":var f=y[t];return void(null!=f&&l.default.uploadIcon(t,n,f));default:console.log("Could not find missing data key: "+c)}}},GAMES_DATABASE_UPDATE:function(e){var t=e.games,n=e.etag;null!=n&&x!==n&&(h={},x=n);var r=t,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var u=s;u=new d.default(u),h[u.id]=u,m[u.name.toLowerCase()]=u,null!=u.applicationId&&(b[u.applicationId]=u);var f=u.distributorGames,p=Array.isArray(f),g=0;for(f=p?f:f[Symbol.iterator]();;){var v;if(p){if(g>=f.length)break;v=f[g++]}else{if((g=f.next()).done)break;v=g.value}var y=v,E=y.distributor,S=y.sku;h[a(E,S)]=u}var T=u.aliases,C=Array.isArray(T),A=0;for(T=C?T:T[Symbol.iterator]();;){var I;if(C){if(A>=T.length)break;I=T[A++]}else{if((A=T.next()).done)break;I=A.value}m[I.toLowerCase()]=u}if(c.default.isDesktop()){var O=u.executables,N=Array.isArray(O),M=0;for(O=N?O:O[Symbol.iterator]();;){var R;if(N){if(M>=O.length)break;R=O[M++]}else{if((M=O.next()).done)break;R=M.value}_[R.name]=u}l.default.checkLaunchable(u.id)}}w=!1},GAME_ICON_UPDATE:function(e){var t=e.gameName,n=e.icon;y[t]=n},GAME_LAUNCHABLE_UPDATE:function(e){var t=e.gameId;e.isLaunchable?S.add(t):S.delete(t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(15)),s=r(n(1489)),c=n(1285),l=r(c),u=r(n(1303)),f=r(n(83)),d=r(n(1858)),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.value,r=t.onChange,i=t.disabled,p=t.fill,g=t.hideBorder,h=t.children,m=t.className,b=t.note,v=t.style,_=t.theme,y=t.size,E=void 0,S=void 0;return y===s.default.Sizes.MINI?(E=d.default.titleMini,S=d.default.dividerMini):(E=d.default.titleDefault,S=d.default.dividerDefault),a(f.default,{style:v,className:(0,o.default)(m,(e={},e[d.default.disabled]=i,e)),direction:f.default.Direction.VERTICAL},void 0,a(f.default,{align:f.default.Align.START},void 0,a(f.default.Child,{},void 0,a("h3",{className:E},void 0,h)),a(f.default.Child,{grow:0,shrink:0},void 0,a(s.default,{value:n,fill:p,onChange:r,disabled:i,theme:_,size:y}))),b&&a(f.default.Child,{className:d.default.note},void 0,a(l.default,{disabled:i,type:c.Types.DESCRIPTION},void 0,b)),!g&&a(u.default,{className:S}))},t}(i.default.PureComponent);p.Sizes=s.default.Sizes,p.Themes=s.default.Themes,p.defaultProps={disabled:!1,size:s.default.Sizes.DEFAULT,theme:s.default.Themes.DEFAULT,hideBorder:!1,className:d.default.switchItem},t.default=p,e.exports=t.default},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},,,function(e,t,n){"use strict";(function(r){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(null==t)return!1;var r=O.default.getOrCreate(t);r.jumpTargetId&&(r=r.mutate({jumpTargetId:null,jumped:!1}),O.default.commit(r));var a=!1;if(!A.default.isConnected()||r.loadingMore||r.ready){if(A.default.isConnected()&&n)a=!0;else if(_.default.isAtBottom(t))return O.default.commit(r.truncateTop(m.MAX_MESSAGES_PER_CHANNEL)),!1}else(null==e||E.default.getGuild(e))&&(a=!0,O.default.commit(r.mutate({loadingMore:!0})));a&&(n?I.default.jumpToMessage(t,n,!0):I.default.fetchMessages(t,null,null,m.MAX_MESSAGES_PER_CHANNEL))}function o(){var e=w.default.getGuildId();return null!=e&&i(e,x.default.getChannelId(e))}function s(e){return i(e.guildId,e.channelId,e.messageId)}function c(){O.default.forEach(function(e){e.forAll(function(e){e.timestamp.locale(S.default.locale)})})}function l(){O.default.forEach(function(e){var t=e.channelId;null==T.default.getChannel(t)&&O.default.clear(t)})}function u(){O.default.forEach(function(e){O.default.commit(e.reset(e.map(function(e){return e.set("blocked",C.default.isBlocked(e.author.id))})))})}function f(e){var t=e.type,n=e.channelId,r=e.messageId,a=e.userId,i=e.emoji,o=e.optimistic,s=O.default.get(n);if(null==s)return!1;var c=v.default.getCurrentUser().id===a;if(o&&!c)return!1;s=s.update(r,function(e){return t===m.ActionTypes.MESSAGE_REACTION_ADD?e.addReaction(i,c):e.removeReaction(i,c)}),O.default.commit(s)}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=a(n(14)),g=a(n(7)),h=a(n(5)),m=n(4),b=a(n(1353)),v=a(n(58)),_=a(n(1452)),y=a(n(202)),E=a(n(48)),S=a(n(101)),x=a(n(550)),w=a(n(205)),T=a(n(74)),C=a(n(1283)),A=a(n(1358)),I=a(n(1292)),O=a(n(4671)),N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(v.default,T.default,_.default,y.default,S.default,x.default,w.default,A.default,E.default,C.default)},t.prototype.getMessages=function(e){return O.default.getOrCreate(e)},t.prototype.getMessage=function(e,t){return O.default.getOrCreate(e).get(t)},t.prototype.getLastEditableMessage=function(e){var t=v.default.getCurrentUser();return(0,p.default)(this.getMessages(e).toArray()).reverse().find(function(e){return e.author.id===t.id&&e.state===m.MessageStates.SENT})},t.prototype.jumpedMessageId=function(e){var t=O.default.get(e);return t&&t.jumpTargetId},t.prototype.hasPresent=function(e){var t=O.default.get(e);return t&&t.hasPresent()},t.prototype.whenReady=function(e,t){this.addConditionalChangeListener(function(){if(O.default.getOrCreate(e).ready)return r(t),!1})},t}(g.default.Store);t.default=new N(h.default,{CONNECTION_OPEN:function(){var e=x.default.getChannelId();if(O.default.forEach(function(t){t.channelId===e?O.default.commit(t.mutate({ready:!1,loadingMore:!1})):O.default.clear(t.channelId)}),null!=e){var t=T.default.getChannel(e);null!=t&&i(t.getGuildId(),t.id)}},LOAD_MESSAGES:function(e){var t=e.channelId,n=e.jump,r=O.default.getOrCreate(t);O.default.commit(r.mutate({loadingMore:!0,jumped:null!=n,jumpedToPresent:n&&n.present,jumpTargetId:n&&n.messageId,ready:!n&&r.ready}))},LOAD_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.isBefore,r=e.isAfter,a=e.jump,i=e.hasMoreBefore,o=e.hasMoreAfter,s=e.messages,c=O.default.getOrCreate(t);c=c.load({newMessages:s,isBefore:n,isAfter:r,jump:a,hasMoreBefore:i,hasMoreAfter:o}),O.default.commit(c)},LOAD_MESSAGES_FAILURE:function(e){var t=e.channelId,n=O.default.getOrCreate(t);O.default.commit(n.mutate({loadingMore:!1}))},LOAD_MESSAGES_SUCCESS_CACHED:function(e){var t=e.channelId,n=e.jump,r=e.before,a=e.after,i=e.limit,o=O.default.getOrCreate(t);n&&n.present?o=o.jumpToPresent(i):n&&n.messageId?o=o.jumpToMessage(n.messageId,n.flash):(r||a)&&(o=o.loadFromCache(null!=r,i)),O.default.commit(o)},TRUNCATE_MESSAGES:function(e){var t=e.channelId,n=e.truncateBottom,r=e.truncateTop,a=O.default.getOrCreate(t);a=a.truncate(n,r),O.default.commit(a)},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=O.default.getOrCreate(t);if(null==r||!r.ready)return!1;r=r.receiveMessage(n,_.default.isAtBottom(t)),O.default.commit(r)},MESSAGE_SEND_FAILED:function(e){var t=e.channelId,n=e.messageId,r=O.default.getOrCreate(t);if(null==r||!r.has(n))return!1;r=r.update(n,function(e){return e.set("state",m.MessageStates.SEND_FAILED)}),O.default.commit(r)},MESSAGE_UPDATE:function(e){var t=e.message.id,n=e.message.channel_id,r=O.default.getOrCreate(n);if(null==r||!r.has(t))return!1;r=r.update(t,function(t){return t.updateMessage(e.message)}),O.default.commit(r)},MESSAGE_DELETE:function(e){var t=e.id,n=e.channelId,r=O.default.getOrCreate(n);if(null==r||!r.has(t))return!1;if(r.revealedMessageId===t){var a=r.getAfter(t);r=null!=a&&a.blocked?r.mutate({revealedMessageId:a.id}):r.mutate({revealedMessageId:null})}r=r.remove(t),O.default.commit(r)},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId,r=O.default.getOrCreate(n);if(!r)return!1;var a=r.removeMany(t);if(r===a)return!1;if(null!=a.revealedMessageId&&p.default.some(t,function(e){return a.revealedMessageId===e})){var i=a.getAfter(a.revealedMessageId);a=null!=i&&i.blocked?a.mutate({revealedMessageId:i.id}):a.mutate({revealedMessageId:null})}O.default.commit(a)},MESSAGE_REVEAL:function(e){var t=e.channelId,n=e.messageId,r=O.default.getOrCreate(t);O.default.commit(r.mutate({revealedMessageId:n}))},CHANNEL_SELECT:s,CHANNEL_CREATE:function(e){var t=e.channel,n=t.guild_id;return null!=n&&x.default.getChannelId(n)===t.id&&i(n,t.id)},PREFETCH_MESSAGES:function(e){return s(d({},e,{messageId:null}))},USER_SETTINGS_UPDATE:c,I18N_LOAD_SUCCESS:c,CHANNEL_DELETE:l,GUILD_DELETE:l,GUILD_CREATE:function(e){return o()},GUILD_SELECT:function(e){return o()},RELATIONSHIP_ADD:u,RELATIONSHIP_REMOVE:u,GUILD_SYNC:function(e){var t=e.guild;O.default.forEach(function(e){var n=T.default.getChannel(e.channelId);null!=n&&n.getGuildId()===t.id&&O.default.commit(e.reset(e.map(function(e){var t=b.default.lookupMember(n.id,e.author.id);return null!=t?e.merge(t):e})))})},MESSAGE_REACTION_ADD:f,MESSAGE_REACTION_REMOVE:f,MESSAGE_REACTION_REMOVE_ALL:function(e){var t=e.channelId,n=e.messageId,r=O.default.get(t);if(null==r)return!1;r=r.update(n,function(e){return e.set("reactions",[])}),O.default.commit(r)},LOGOUT:function(){O.default.forEach(function(e){O.default.clear(e.channelId)})}}),e.exports=t.default}).call(t,n(50).setImmediate)},function(e,t,n){var r=n(1542)("wks"),a=n(1467),i=n(1325).Symbol,o="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=(r(n(547)),r(n(3))),o=r(n(1299)),s=r(n(4618)),c=r(n(4619)),l=r(n(4621)),u=r(n(4622)),f=r(n(1399)),d=r(n(4625)),p=r(n(4627)),g=r(n(4628)),h=r(n(4631)),m=r(n(4632)),b=r(n(4647)),v=r(n(4653)),_=r(n(4654)),y=r(n(4655)),E=r(n(4656)),S=r(n(4657)),x=r(n(1644)),w=r(n(4658)),T=r(n(4659)),C=r(n(4660)),A=r(n(4661)),I=r(n(4665)),O=r(n(4666)),N=n(4),M=r(n(74)),R=(r(n(102)),function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){if(this.props.user.isNonUserBot())return null;var e=this.props,t=e.style,n=e.user,r=e.type,i=e.guildId,R=e.channelId,D=e.className,P=e.selected,k=e.invertChildY,L=e.target,U=e.nearestMessage;switch(r){case N.ContextMenuTypes.USER_CHANNEL_MEMBERS:case N.ContextMenuTypes.USER_CHANNEL_VOICE:return a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(s.default,{userId:n.id}),a(c.default,{user:n,guildId:i}),a(l.default,{userId:n.id}),a(E.default,{userId:n.id}),a(w.default,{user:n,guildId:i,channelId:R,target:L,position:r===N.ContextMenuTypes.USER_CHANNEL_MEMBERS?w.default.LEFT:w.default.RIGHT}),a(T.default,{userId:n.id})),a(g.default,{userId:n.id}),a(o.default,{},void 0,a(u.default,{userId:n.id}),a(x.default,{userId:n.id,guildId:i}),a(p.default,{user:n,guildId:i}),a(O.default,{userId:n.id}),a(v.default,{user:n}),a(_.default,{user:n}),a(A.default,{user:n,message:U})),a(m.default,{user:n,guildId:i,channelId:R,target:L}),a(h.default,{userId:n.id,guildId:i,invertChildY:k}),a(d.default,{user:n,guildId:i,invertChildY:k}),a(f.default,{id:n.id}));case N.ContextMenuTypes.USER_CHANNEL_MESSAGE:case N.ContextMenuTypes.USER_CHANNEL_MENTION:return a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(s.default,{userId:n.id}),a(c.default,{user:n,guildId:i}),a(l.default,{userId:n.id}),a(E.default,{userId:n.id}),a(w.default,{user:n,guildId:i,channelId:R,target:L})),a(o.default,{},void 0,a(x.default,{userId:n.id,guildId:i}),a(p.default,{user:n,guildId:i}),a(O.default,{userId:n.id}),a(v.default,{user:n}),a(_.default,{user:n}),a(A.default,{user:n,message:U})),a(m.default,{user:n,guildId:i,channelId:R}),a(h.default,{userId:n.id,guildId:i,invertChildY:k}),a(d.default,{user:n,guildId:i,invertChildY:k}),a(f.default,{id:n.id}));case N.ContextMenuTypes.USER_PRIVATE_CHANNELS:return a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(s.default,{userId:n.id}),a(E.default,{userId:n.id}),a(w.default,{user:n,guildId:i,channelId:R,target:L}),a(y.default,{selected:P,channelId:R}),a(T.default,{userId:n.id})),a(o.default,{},void 0,a(p.default,{user:n,guildId:i}),a(O.default,{userId:n.id}),a(v.default,{user:n}),a(_.default,{user:n}),a(A.default,{user:n,message:U})),a(f.default,{id:n.id}));case N.ContextMenuTypes.USER_GROUP_DM:case N.ContextMenuTypes.USER_CALL_AVATAR:var F=a(S.default,{userId:n.id,channelId:R}),B=a(o.default,{},void 0,a(C.default,{userId:n.id,channelId:R})),G=M.default.getChannel(R);return G&&G.isManaged()&&(F=null,G.isParty()||(B=null)),a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(s.default,{userId:n.id}),a(c.default,{user:n}),a(l.default,{userId:n.id}),F,a(w.default,{user:n,channelId:R,target:L}),a(T.default,{userId:n.id})),a(g.default,{userId:n.id}),B,a(o.default,{},void 0,a(u.default,{userId:n.id}),a(I.default,{userId:n.id,channelId:R,guildId:i}),a(p.default,{user:n,guildId:i}),a(O.default,{userId:n.id}),a(v.default,{user:n}),a(_.default,{user:n}),a(A.default,{user:n,message:U})),a(f.default,{id:n.id}));case N.ContextMenuTypes.USER_SEARCH_RESULTS:case N.ContextMenuTypes.USER_FRIEND_LIST:case N.ContextMenuTypes.USER_PROFILE_MUTUAL:case N.ContextMenuTypes.USER_ACTIVITY_FEED:return a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(s.default,{userId:n.id}),a(l.default,{userId:n.id}),a(E.default,{userId:n.id}),a(w.default,{user:n,guildId:i,channelId:R,target:L}),a(T.default,{userId:n.id})),a(o.default,{},void 0,a(p.default,{user:n,guildId:i}),a(O.default,{userId:n.id}),a(v.default,{user:n}),a(_.default,{user:n}),a(A.default,{user:n,message:U})),a(f.default,{id:n.id}));case N.ContextMenuTypes.USER_CHANNEL_TITLE:case N.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE:return a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(s.default,{userId:n.id}),a(E.default,{userId:n.id}),a(w.default,{user:n,guildId:i,channelId:R,target:L}),a(T.default,{userId:n.id}),a(y.default,{selected:P,channelId:R})),a(o.default,{},void 0,a(p.default,{user:n,guildId:i}),a(O.default,{userId:n.id}),a(v.default,{user:n}),a(_.default,{user:n}),a(A.default,{user:n,message:U})),a(f.default,{id:n.id}));case N.ContextMenuTypes.USER_GUILD_MEMBERS:return a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(u.default,{userId:n.id}),a(x.default,{userId:n.id,guildId:i})),a(m.default,{user:n,guildId:i,channelId:R,target:L}),a(h.default,{userId:n.id,guildId:i,invertChildY:k}),a(o.default,{},void 0,a(b.default,{user:n,guildId:i})),a(f.default,{id:n.id}));case N.ContextMenuTypes.USER_AUDIT_LOG:return a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(s.default,{userId:n.id}),a(l.default,{userId:n.id})),a(h.default,{userId:n.id,guildId:i,invertChildY:k}),a(f.default,{id:n.id}));case N.ContextMenuTypes.USER_BANS:return a("div",{className:D,style:t},void 0,a(o.default,{},void 0,a(s.default,{userId:n.id}),a(l.default,{userId:n.id})),a(f.default,{id:n.id}));default:console.warn("Error - no such ctx menu type")}return null},t}(i.default.PureComponent));t.default=R,e.exports=t.default},,function(e,t,n){"use strict";function r(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function i(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var o=n(1317),s=n(1278);t.inherits=s,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var a=e.charCodeAt(r),i=a>>8,o=255&a;i?n.push(i,o):n.push(o)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=r,t.toHex32=function(e,t){for(var n="",a=0;a<e.length;a++){var o=e[a];"little"===t&&(o=r(o)),n+=i(o.toString(16))}return n},t.zero2=a,t.zero8=i,t.join32=function(e,t,n,r){var a=n-t;o(a%4==0);for(var i=new Array(a/4),s=0,c=t;s<i.length;s++,c+=4){var l;l="big"===r?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],i[s]=l>>>0}return i},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,a=0;r<e.length;r++,a+=4){var i=e[r];"big"===t?(n[a]=i>>>24,n[a+1]=i>>>16&255,n[a+2]=i>>>8&255,n[a+3]=255&i):(n[a+3]=i>>>24,n[a+2]=i>>>16&255,n[a+1]=i>>>8&255,n[a]=255&i)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,a){return e+t+n+r+a>>>0},t.sum64=function(e,t,n,r){var a=e[t],i=r+e[t+1]>>>0,o=(i<r?1:0)+n+a;e[t]=o>>>0,e[t+1]=i},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,a,i,o,s){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+i>>>0)<i?1:0,e+n+a+o+(c+=(l=l+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,a,i,o,s){return t+r+i+s>>>0},t.sum64_5_hi=function(e,t,n,r,a,i,o,s,c,l){var u=0,f=t;return u+=(f=f+r>>>0)<t?1:0,u+=(f=f+i>>>0)<i?1:0,u+=(f=f+s>>>0)<s?1:0,e+n+a+o+c+(u+=(f=f+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,a,i,o,s,c,l){return t+r+i+s+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return(0,c.default)(u.default.getGuilds()).values().sortBy(function(e){return e.name.toLowerCase()}).map(function(e){return e.id}).first()}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(7)),c=r(n(14)),l=r(n(5)),u=r(n(48)),f=r(n(1330)),d=r(n(40)),p=r(n(1260)),g=r(n(22)),h=n(4),m="OverlayStore",b=g.default.embedded&&g.default.isWindows(),v={displayUserMode:h.OverlayDisplayUsers.ALWAYS,displayNameMode:h.OverlayDisplayNames.ALWAYS,avatarSizeMode:h.OverlayAvatarSizes.LARGE,position:{x:15,y:15},enabled:g.default.embedded},_={},y=null,E=null,S={},x=!0,w=0,T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){2!==(_=i({},v,d.default.get(m))).v&&(_.enabled=v.enabled,_.v=2),b&&_.enabled&&p.default.enable(),this.waitFor(u.default),__OVERLAY__||this.waitFor(f.default)},t.prototype.isSupported=function(){return b},t.prototype.getSelectedGuildId=function(){return y},t.prototype.getSelectedCallId=function(){return E},t.prototype.getOpenedUserPopout=function(){return S},t.prototype.getDisplayUserMode=function(){return _.displayUserMode},t.prototype.getDisplayNameMode=function(){return _.displayNameMode},t.prototype.getAvatarSizeMode=function(){return _.avatarSizeMode},t.prototype.getPosition=function(){return _.position},o(t,[{key:"enabled",get:function(){return this.isSupported()&&_.enabled}},{key:"isAvailable",get:function(){return p.default.isAvailable}},{key:"installProgress",get:function(){return w}},{key:"locked",get:function(){return x}}]),t}(s.default.Store);t.default=new T(l.default,{CONNECTION_OPEN:function(){y=a()},GUILD_CREATE:function(){if(null!=y)return!1;y=a()},GUILD_DELETE:function(){if(null!=u.default.getGuild(y))return!1;y=a()},OVERLAY_SELECT_GUILD:function(e){y=e.guildId,E=null},OVERLAY_SELECT_CALL:function(e){var t=e.callId;y=null,E=t},CALL_DELETE:function(){y=a(),E=null},OVERLAY_OPEN_USER_POPOUT:function(e){var t=e.userId,n=e.guildId,r=e.channelId;S={guildId:n,userId:t,channelId:r}},OVERLAY_SET_ENABLED:function(e){!_.enabled&&e.enabled?p.default.enable():_.enabled&&!e.enabled&&p.default.disable(),_.enabled=e.enabled,d.default.set(m,_)},OVERLAY_SET_DISPLAY_NAME_MODE:function(e){var t=e.mode;_.displayNameMode=t,d.default.set(m,_)},OVERLAY_SET_DISPLAY_USER_MODE:function(e){var t=e.mode;_.displayUserMode=t,d.default.set(m,_)},OVERLAY_SET_AVATAR_SIZE_MODE:function(e){var t=e.mode;_.avatarSizeMode=t,d.default.set(m,_)},OVERLAY_SET_POSITION:function(e){var t=e.x,n=e.y;_.position={x:t,y:n},d.default.set(m,_)},OVERLAY_SET_LOCKED:function(e){x=e.locked,p.default.setLocked(x)},OVERLAY_GAMES_CHANGE:function(e){return!__OVERLAY__&&void p.default.attach(f.default.overlayPids())},OVERLAY_INSTALL_PROGRESS:function(e){return!__OVERLAY__&&function(e){var t=e.progress;w=t}(e)},RPC_SERVER_READY:function(e){var t=e.port;p.default.setURL(location.protocol+"//"+location.host+"/overlay?rpc="+t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e===t||e===h}t.__esModule=!0,t.permissionOverwritesForRoles=function(e,t,n){var r=[];if(n.length>0){var i=s.default.NONE;a(t,p)&&(i|=o.Permissions.VIEW_CHANNEL),a(t,g)&&(i|=o.Permissions.CONNECT),r.push({id:e,type:"role",allow:s.default.NONE,deny:i}),n.forEach(function(e){var n=s.default.NONE;a(t,p)&&(n|=o.Permissions.VIEW_CHANNEL),a(t,g)&&(n|=o.Permissions.CONNECT),r.push({id:e,type:"role",deny:s.default.NONE,allow:n})})}return r},t.isChannelFull=function(e,t){return e.userLimit>0&&t>=e.userLimit},t.getFlattenedChannelList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};return(0,i.default)(e).map(function(e){return"null"===e.channel.id?t[e.channel.id]:[e,t[e.channel.id]]}).flattenDeep().filter(n).value()},t.isChannelCollapsed=function(e){var t=e.id,n=e.guild_id,r=e.parent_id;if(null==n||t===l.default.getChannelId(n)||t===c.default.getVoiceChannelId()||f.default.getMentionCount(t)>0)return!1;var a=u.default.getMutedChannels(n).has(t);return!(null==r||!d.default.isCollapsed(r)||!(a||e.type===o.ChannelTypes.GUILD_VOICE||u.default.isChannelMuted(n,r)||e.type===o.ChannelTypes.GUILD_TEXT&&!1===f.default.hasUnread(t)))||a&&u.default.isGuildCollapsed(n)};var i=r(n(14)),o=n(4),s=r(n(140)),c=r(n(550)),l=r(n(1356)),u=r(n(1311)),f=r(n(1312)),d=r(n(1410)),p=o.ChannelTypes.GUILD_TEXT,g=o.ChannelTypes.GUILD_VOICE,h=o.ChannelTypes.GUILD_CATEGORY},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=(r(n(3)),r(n(15))),o=r(n(1435));t.default=function(e){var t=e.styles,n=e.label,r=e.action,s=e.active,c=void 0!==s&&s,l=e.disabled,u=void 0!==l&&l,f=e.danger,d=void 0!==f&&f,p=void 0;return u||(p=function(e){return r(e,n,c)}),a("div",{className:(0,i.default)("item item-toggle",{danger:d}),style:t,onClick:p},void 0,a("div",{className:"label"},void 0,n),a(o.default,{checked:c,disabled:u,onChange:function(){}}))},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e[t];void 0!==r&&(delete e[t],e[n]=r)}function i(e){return N.some(function(t){return t.name===e.gameName&&!0===t.streamerTool})}function o(){if(D.length>0){var e=P;P=D[0],null!=e&&P.pid===e.pid?P.start=e.start:P.start=Date.now()}else P=null;T.info("games",D),m.default.dirtyDispatch({type:b.ActionTypes.RUNNING_GAMES_CHANGE,games:D})}function s(e){var t=null!=e.gameName?e.gameName:"";return e.exePath+":"+t}function c(e,t){var n=U.enableOverlay[e];if(null!=n)return n;var r=B[t];return null!=r&&null!=r.enabled?r.enabled:O}function l(){S.default.set(C,U)}function u(e){var t=s(e),n=g({},e,{played:e.lastFocused?(0,w.default)(new Date(1e3*e.lastFocused)).fromNow():" ",overlay:c(t,e.id),verified:function(e){return void 0!==e.id&&0==(e.id&I)}(e)});return null!=B[e.id]&&(n.overlayWarn=!1===B[e.id].enabled),n}function f(){if(!__OVERLAY__&&y.default.embedded){var e=x.default.values(U.gameOverrides);y.default.setGameCandidateOverrides(e)}}function d(e){null!=e&&0!==e.length&&(e.forEach(function(e){if(U.gamesSeen.some(function(t){return t.gameName==e.gameName&&(e.lastFocused&&(t.lastFocused=e.lastFocused),!0)}));else{if(e.hidden)return;U.gamesSeen.length>=A&&U.gamesSeen.pop(),U.gamesSeen.unshift(function(e){var t={exePath:e.exePath,cmdLine:e.cmdLine,lastFocused:e.lastFocused};return null!=e.id&&(t.id=e.id),null!=e.gameName&&(t.gameName=e.gameName),e.add&&(t.add=!0),e.block&&(t.block=!0),t}(e))}}),U.gamesSeen.sort(function(e,t){return t.lastFocused-e.lastFocused}),l())}t.__esModule=!0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=r(n(7)),m=r(n(5)),b=n(4),v=r(n(212)),_=r(n(1304)),y=r(n(22)),E=r(n(1965)),S=r(n(40)),x=r(n(14)),w=r(n(2)),T=v.default.create("RunningGameStore"),C="RunningGameStore",A=32,I=2147483648,O=!1,N=[{executables:{win32:["\\OBS\\OBS.exe","obs32.exe","obs64.exe"],darwin:["OBS.app"],linux:["obs"]},id:1e6,name:"OBS",overlay:!1,streamerTool:!0},{executables:{win32:["XSplit.Gamecaster.exe","XSplit.Core.exe"]},id:1e6,name:"XSplit",overlay:!1,streamerTool:!0},{executables:{win32:["bebo.exe"]},id:1e6,name:"Bebo",overlay:!1,streamerTool:!0},{executables:{win32:["Spotify.exe"],darwin:["Spotify.app"],linux:["spotify"]},id:1e6,name:_.default.get(b.PlatformTypes.SPOTIFY).name,overlay:!1}],M=!0,R=[],D=[],P=null,k=[],L={},U={gamesSeen:[],gameOverrides:{},enableOverlay:{}},F=function(e){},B={},G=0;if(!__OVERLAY__&&y.default.isDesktop()){var j=1,H=[].concat(E.default,N).map(function(e){var t=g({},e);if(t.id=t.id||j++,t.executables=t.executables[y.default.platform],!t.executables)return null;var n={};return null!=t.overlay?n.enabled=t.overlay:n.enabled=!1,null!=t.compatibilityHook&&(n.compatibilityHook=t.compatibilityHook),B[t.id]=n,t}).filter(function(e){return null!=e});y.default.setObservedGamesCallback(H,function(e){var t=[];e=e.filter(function(e){return 1e6!==e.id||(t.push(e),!1)});var n=t.filter(i).length;n!==G&&(G=n,m.default.dirtyDispatch({type:b.ActionTypes.RUNNING_STREAMER_TOOLS_CHANGE,count:G})),D=e,k=t,o()}),F=function(e){e?y.default.setCandidateGamesCallback(function(e){m.default.dirtyDispatch({type:b.ActionTypes.CANDIDATE_GAMES_CHANGE,games:e.map(function(e){return g({},e)})})}):y.default.clearCandidateGamesCallback()}}var z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=S.default.get(C)||{};U.gameOverrides={};x.default.values(e.gameOverrides||{}).forEach(function(e){var t=s(e);U.gameOverrides[t]=e}),U.enableOverlay=e.enableOverlay||{},f(),d(e.gamesSeen)},t.prototype.getVisibleGame=function(){return null!=P&&P.hidden?null:P},t.prototype.getCurrentGame=function(){return P},t.prototype.getGameNameForPid=function(e){var t=D.find(function(t){return t.pid===e});return t?t.gameName:null},t.prototype.getOverlayOptionsForPid=function(e){var t=D.find(function(t){return t.pid===e});return t?B[t.id]:null},t.prototype.watchCandidateGames=function(e){F(e)},t.prototype.getSettingsGame=function(){var e=this.getVisibleGame();return null!=e?u(e):null},t.prototype.getCandidateGames=function(){return R.filter(function(e){return e.hidden||void 0===e.gameName}).filter(function(e){return void 0===U.gameOverrides[s(e)]})},t.prototype.getGamesSeen=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=x.default.values(U.gameOverrides),r=U.gamesSeen.filter(function(e){return void 0===U.gameOverrides[s(e)]}).concat(n).map(u);if(e){var a=this.getVisibleGame();if(null!=a){var i=s(a);r=r.filter(function(e){return s(e)!=i})}}return t&&r.sort(function(e,t){return t.lastFocused-e.lastFocused}),r},t.prototype.isObservedAppRunning=function(e){return k.some(function(t){return t.name===e})},t.prototype.pids=function(){return D.map(function(e){return e.pid})},t.prototype.overlayPids=function(){return D.filter(function(e){return!e.hidden&&!e.elevated&&c(s(e),e.id)}).map(function(e){return e.pid})},p(t,[{key:"canShowAdminWarning",get:function(){return M}}]),t}(h.default.Store);t.default=new z(m.default,{RUNNING_GAMES_CHANGE:function(e){d(D),m.default.dirtyDispatch({type:b.ActionTypes.OVERLAY_GAMES_CHANGE})},CANDIDATE_GAMES_CHANGE:function(e){R=e.games},PERMISSION_CLEAR_PTT_ADMIN_WARNING:function(){M=!1},RUNNING_GAME_ADD_OVERRIDE:function(e){var t=void 0,n=e.pid,r=D.find(function(e){return e.pid===n});if(null==r){var a=R.find(function(e){return e.pid===n});if(!a)return;(r=g({},a)).gameName=r.name,r.hidden=!1,D.push(r),t=s(r)}else t=s(r),r.hidden&&(L[t]=!0),r.hidden=!1;r.lastFocused||(r.lastFocused=Math.floor(Date.now()/1e3)),U.gameOverrides[t]=g({},r,{add:!0}),d(D),f(),l(),o()},RUNNING_GAME_TOGGLE_OVERLAY:function(e){var t=s(e.game),n=c(t,e.game.id);U.enableOverlay[t]=!n,l(),m.default.dirtyDispatch({type:b.ActionTypes.OVERLAY_GAMES_CHANGE})},RUNNING_GAME_EDIT_NAME:function(e){var t=s(e.game),n=U.gameOverrides[t];n||((n=function(e){return{gameName:e.gameName,exePath:e.exePath,cmdLine:e.cmdLine,lastFocused:e.lastFocused}}(e.game)).add=!0),n.gameName=e.newName;var r=s(n);delete U.gameOverrides[t],U.gameOverrides[r]=n,a(U.enableOverlay,t,r),a(L,t,r),U.gamesSeen.forEach(function(n){s(n)==t&&(n.gameName=e.newName)});var i=!1;D.forEach(function(n){s(n)==t&&(n.gameName=e.newName,i=!0)}),f(),l(),i&&o()},RUNNING_GAME_DELETE_ENTRY:function(e){var t=s(e.game);delete U.gameOverrides[t],delete U.enableOverlay[t],U.gamesSeen=U.gamesSeen.filter(function(e){return s(e)!=t}),L[t]&&(D.forEach(function(e){t==s(e)&&(e.hidden=!0)}),delete L[t],o()),f(),l()}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(15)),s=r(n(1593));n(4642);var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.error,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","error"]),c=n?a("div",{className:"error-message"},void 0,n):null;return a("div",{className:(0,o.default)("ui-select",t,{error:n})},void 0,i.default.createElement(s.default,r),c)},t}(i.default.PureComponent);t.default=c,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]})}},function(e,t,n){"use strict";var r=n(1274),a=n(1346);e.exports=function(e,t){t.forEach(function(t){e[t]=function(){throw new r({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},function(e,t,n){var r=n(1325),a=n(1326),i=n(1391),o=n(1349),s="prototype",c=function(e,t,n){var l,u,f,d=e&c.F,p=e&c.G,g=e&c.S,h=e&c.P,m=e&c.B,b=e&c.W,v=p?a:a[t]||(a[t]={}),_=v[s],y=p?r:g?r[t]:(r[t]||{})[s];p&&(n=t);for(l in n)(u=!d&&y&&void 0!==y[l])&&l in v||(f=u?y[l]:n[l],v[l]=p&&"function"!=typeof y[l]?n[l]:m&&u?i(f,r):b&&y[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((v.virtual||(v.virtual={}))[l]=f,e&c.R&&_&&!_[l]&&o(_,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(1350),a=n(1716),i=n(1535),o=Object.defineProperty;t.f=n(1337)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(1392)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null==h.default.getGuildId()){var t=g.default.getChannelId();if(null!=t&&(null==m[t]||e))return m[t]=m[t]||{channelId:t,ringing:[]},u.default.dirtyDispatch({type:f.ActionTypes.CALL_CONNECT,channelId:t}),!0}return!1}function i(e){var t=e.channelId,n=e.layout;m[t]=s({},m[t],{layout:n})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=g.default.getChannelId()),null==e||null!=m[e]&&null!=m[e].layout||i({channelId:e,layout:f.CallLayouts.NORMAL})}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=r(n(14)),l=r(n(7)),u=r(n(5)),f=n(4),d=r(n(1358)),p=r(n(1397)),g=r(n(550)),h=r(n(205)),m={},b={},v=void 0,_=void 0,y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(d.default,h.default,g.default)},t.prototype.getCall=function(e){return m[e]},t.prototype.getCallLayout=function(e){var t=this.getCall(e);return null!=t&&null!=t.layout&&e===v?t.layout:f.CallLayouts.NORMAL},t.prototype.getMessageId=function(e){var t=this.getCall(e);return null!=t?t.messageId:null},t.prototype.isCallActive=function(e,t){var n=m[e];return null!=n&&!n.unavailable&&(t?n.messageId===t:null!=n.region)},t.prototype.isCallUnavailable=function(e){var t=m[e];return null!=t&&t.unavailable},t}(l.default.Store);t.default=new y(u.default,{CONNECTION_OPEN:function(){return m={},b={},v=g.default.getVoiceChannelId(),a(!0)},CONNECTION_RESUMED:function(){return a(!0)},GUILD_SELECT:function(){return a()},CHANNEL_SELECT:function(){return a()},CHANNEL_DELETE:function(e){var t=e.channel;if(null!=b[t.id]&&delete b[t.id],null==m[t.id])return!1;delete m[t.id]},CALL_CREATE:function(e){var t=e.channelId,n=e.messageId,r=e.region,a=e.ringing,i=void 0;if(null!=_?(i=_,_=null):i=null!=m[t]&&null!=m[t].layout?m[t].layout:f.CallLayouts.NORMAL,m[t]={channelId:t,messageId:n,region:r,ringing:a,unavailable:!1,layout:i},null!=b[t]){var o=b[t];delete b[t],1!==o.indexOf("all")&&(o=null),p.default.doRing(t,o)}},CALL_UPDATE:function(e){var t=e.channelId,n=e.messageId,r=e.region,a=e.ringing;m[t]=s({},m[t],{messageId:n,region:r,ringing:a})},CALL_DELETE:function(e){var t=e.channelId,n=e.unavailable,r=m[t];m[t]=!0===n&&null!=r?s({},r,{unavailable:n}):{channelId:t,ringing:[]},null!=b[t]&&delete b[t]},CALL_ENQUEUE_RING:function(e){var t=e.channelId,n=e.recipients;b[t]=c.default.union(b[t]||[],n||["all"])},MEDIA_ENGINE_SET_VIDEO_ENABLED:function(e){var t=e.enabled,n=e.channelId;t&&o(n)},MEDIA_ENGINE_SET_DESKTOP_SOURCE:function(e){null!=e.sourceId&&o()},PRIVATE_CHANNEL_CALL_UPDATE_LAYOUT:i,VOICE_CHANNEL_SELECT:function(e){var t=e.channelId,n=e.video;n&&null!=v&&null!=m[v]?_=m[v].layout:n&&null!=t&&i({channelId:t,layout:f.CallLayouts.NORMAL}),null==t&&(b={}),v=t},VOICE_CHANNEL_CLEAR:function(){v=null}}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),a=n(4);t.default={setLocked:function(e){r.default.dispatch({type:a.ActionTypes.OVERLAY_SET_LOCKED,locked:e})},setEnabled:function(e){r.default.dispatch({type:a.ActionTypes.OVERLAY_SET_ENABLED,enabled:e})},selectGuild:function(e){r.default.dispatch({type:a.ActionTypes.OVERLAY_SELECT_GUILD,guildId:e})},selectCall:function(e){r.default.dispatch({type:a.ActionTypes.OVERLAY_SELECT_CALL,callId:e})},openUserPopout:function(e,t,n){r.default.dispatch({type:a.ActionTypes.OVERLAY_OPEN_USER_POPOUT,userId:e,guildId:t,channelId:n})},setDisplayNameMode:function(e){r.default.dispatch({type:a.ActionTypes.OVERLAY_SET_DISPLAY_NAME_MODE,mode:e})},setDisplayUserMode:function(e){r.default.dispatch({type:a.ActionTypes.OVERLAY_SET_DISPLAY_USER_MODE,mode:e})},setAvatarSizeMode:function(e){r.default.dispatch({type:a.ActionTypes.OVERLAY_SET_AVATAR_SIZE_MODE,mode:e})},setPosition:function(e,t){r.default.dispatch({type:a.ActionTypes.OVERLAY_SET_POSITION,x:e,y:t})},setInstallProgress:function(e){r.default.dispatch({type:a.ActionTypes.OVERLAY_INSTALL_PROGRESS,progress:e})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(204)),s=r(n(15)),c=r(n(21)),l=r(n(553)),u=r(n(200)),f=r(n(137)),d=r(n(84)),p=r(n(83)),g=n(1280),h=n(4),m=r(n(1971)),b=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleCancel=r.handleCancel.bind(r),r.handleSubmit=r.handleSubmit.bind(r),r.handleMinorConfirm=r.handleMinorConfirm.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){g.ComponentDispatch.subscribe(h.ComponentActions.MODAL_SUBMIT,this.handleSubmit),o.default.findDOMNode(this).focus()},t.prototype.componentWillUnmount=function(){g.ComponentDispatch.unsubscribe(h.ComponentActions.MODAL_SUBMIT,this.handleSubmit)},t.prototype.handleCancel=function(){var e=this.props,t=e.onClose,n=e.onCancel;t&&t(),n&&n()},t.prototype.handleSubmit=function(e){var t=this.props,n=t.onClose,r=t.onConfirm;null!=e&&e.preventDefault(),n&&n(),r&&r()},t.prototype.handleMinorConfirm=function(){var e=this.props,t=e.onClose,n=e.onConfirmSecondary;t&&t(),n&&n()},t.prototype.render=function(){var e=this.props,t=e.cancelText,n=e.confirmText,r=void 0===n?c.default.Messages.OKAY:n,i=e.className,o=e.title,g=e.minorText,h=e.body,b=void 0;t&&(b=a(f.default,{type:"button",color:f.default.Colors.PRIMARY,onClick:this.handleCancel,className:m.default.secondaryButton},void 0,t));var v=void 0;r&&(v=a(f.default,{type:"submit",size:f.default.Sizes.XLARGE,className:(0,s.default)(m.default.primaryButton,null!=b?m.default.gutter:null)},void 0,r));var _=void 0;return g&&(_=a(d.default,{color:d.default.Colors.PRIMARY,className:m.default.minorAction,onClick:this.handleMinorConfirm,size:d.default.Sizes.SMALL},void 0,g)),a(l.default,{tag:"form",onSubmit:this.handleSubmit,className:(0,s.default)(i,m.default.container)},void 0,a(l.default.Content,{className:m.default.content},void 0,a(u.default,{tag:u.default.Tags.H2,className:m.default.title},void 0,o),a(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.PRIMARY,className:m.default.body},void 0,h)),a(l.default.Footer,{justify:p.default.Justify.BETWEEN,wrap:p.default.Wrap.WRAP},void 0,v,b,_))},t}(i.default.PureComponent);b.key=function(){return"confirm-modal"},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var a in n)r(n,a)&&(e[a]=n[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){var t,n,r,a,i,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),a=0,t=0,n=e.length;t<n;t++)i=e[t],o.set(i,a),a+=i.length;return o}},o={arraySet:function(e,t,n,r,a){for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){h=[],m.forEach(function(e,t){var n=p.default.getGuild(e);null!=n&&h.push({index:t,guild:n})})}function i(){null!=(m=u.default.guildPositions)&&0!==m.length||(m=(0,c.default)(p.default.getGuilds()).sortBy(function(e){return[f.default.isMuted(e.id),e.name.toLowerCase()]}).map(function(e){return e.id}).value()),m=m.filter(function(e){return p.default.getGuild(e)||d.default.isUnavailable(e)});var e=new Set(m);c.default.forEach(p.default.getGuilds(),function(t){e.has(t.id)||m.unshift(t.id)}),a()}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(7)),c=r(n(14)),l=r(n(5)),u=(n(4),r(n(101))),f=r(n(1311)),d=r(n(1357)),p=r(n(48)),g=r(n(1586)),h=[],m=[],b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,f.default,u.default,d.default)},t.prototype.getSortedGuilds=function(){return h},o(t,[{key:"guildPositions",get:function(){return m}}]),t}(s.default.Store);t.default=new b(l.default,{CONNECTION_OPEN:i,GUILD_CREATE:i,GUILD_DELETE:i,USER_SETTINGS_UPDATE:i,USER_GUILD_SETTINGS_UPDATE:i,GUILD_MOVE:function(e){var t=e.fromIndex,n=e.toIndex;m=g.default.moveItemFromTo(m,t,n),a()},GUILD_UPDATE:a}),e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="undefined"==typeof window?t:window,r=function(e,t,n){return function(r,a){var i=e(function(){t.call(this,i),r.apply(this,arguments)}.bind(this),a);return this[n]?this[n].push(i):this[n]=[i],i}},a=function(e,t){return function(n){if(this[t]){var r=this[t].indexOf(n);-1!==r&&this[t].splice(r,1)}e(n)}},i="TimerMixin_timeouts",o=a(n.clearTimeout,i),s=r(n.setTimeout,o,i),c="TimerMixin_intervals",l=a(n.clearInterval,c),u=r(n.setInterval,function(){},c),f="TimerMixin_immediates",d=a(n.clearImmediate,f),p=r(n.setImmediate,d,f),g="TimerMixin_rafs",h=a(n.cancelAnimationFrame,g),m={componentWillUnmount:function(){this[i]&&this[i].forEach(function(e){n.clearTimeout(e)}),this[i]=null,this[c]&&this[c].forEach(function(e){n.clearInterval(e)}),this[c]=null,this[f]&&this[f].forEach(function(e){n.clearImmediate(e)}),this[f]=null,this[g]&&this[g].forEach(function(e){n.cancelAnimationFrame(e)}),this[g]=null},setTimeout:s,clearTimeout:o,setInterval:u,clearInterval:l,setImmediate:p,clearImmediate:d,requestAnimationFrame:r(n.requestAnimationFrame,h,g),cancelAnimationFrame:h};e.exports=m}).call(t,n(13))},function(e,t,n){"use strict";e.exports=function(e,t){return t=null==t?"":t,e.reduce(function(e,n){return e[n]=t+n,e},{})}},function(e,t,n){"use strict";var r=n(1274);e.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:r.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},CALLBACK_REQUIRED:{type:r.types.MERCHANT,code:"CALLBACK_REQUIRED"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INVALID_OPTION:{type:r.types.MERCHANT,code:"INVALID_OPTION"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:r.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},function(e,t,n){"use strict";e.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.26.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.26.0"}},function(e,t,n){function r(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var a=n(1282).Buffer,i=n(1457).Transform,o=n(1521).StringDecoder;n(1278)(r,i),r.prototype.update=function(e,t,n){"string"==typeof e&&(e=a.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},r.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},r.prototype._finalOrDigest=function(e){var t=this.__final()||a.alloc(0);return e&&(t=this._toString(t,e,!0)),t},r.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=r},function(e,t,n){var r=n(1335),a=n(1465);e.exports=n(1337)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(1336);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e.some(function(e){return"emoji"!==e.type&&"customEmoji"!==e.type&&("string"!=typeof e.content||""!==e.content.trim())}))return e;var t=0;return e.forEach(function(e){if("emoji"!==e.type&&"customEmoji"!==e.type||(t+=1),t>E)return!1}),t>E?e:(e.forEach(function(e){e.jumboable=!0}),e)}function i(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(n&&!i)return!0;if(r.includes(e))return!0;if(o||0===a.length)return!1;var s=h.default.getChannel(t);if(null==s)return!1;var c=s.getGuildId();if(null==c)return!1;if(null==m.default.getGuild(c))return!1;var l=b.default.getMember(c,e);return null!=l&&a.some(function(e){return l.roles.includes(e)})}function o(e){return null!=e?{participants:e.participants,endedTimestamp:null!=e.ended_timestamp?(0,u.default)(new Date(e.ended_timestamp)):null}:null}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=r(n(146)),l=n(4),u=r(n(2)),f=r(n(24)),d=r(n(1283)),p=r(n(1398)),g=r(n(58)),h=r(n(74)),m=r(n(48)),b=r(n(202)),v=r(n(141)),_=n(564),y=n(1490),E=27,S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.id=e.id,this.type=e.type||l.MessageTypes.DEFAULT,this.channel_id=e.channel_id,this.author=e.author,this.colorString=e.colorString||null,this.nick=e.nick||null,this.content=e.content||"",this.contentParsed=e.contentParsed||null,this.attachments=e.attachments||[],this.embeds=e.embeds||[],this.mentions=e.mentions||[],this.mentionRoles=e.mentionRoles||[],this.mentioned=e.mentioned||!1,this.pinned=e.pinned||!1,this.mentionEveryone=e.mentionEveryone||!1,this.tts=e.tts||!1,this.invites=e.invites||[],this.timestamp=e.timestamp||(0,u.default)(),this.editedTimestamp=e.editedTimestamp||null,this.state=e.state||l.MessageStates.SENT,this.nonce=e.nonce||null,this.blocked=e.blocked||!1,this.call=e.call||null,this.bot=e.bot||!1,this.webhookId=e.webhookId||null,this.reactions=e.reactions||[],this.application=e.application||null,this.activity=e.activity||null},t.prototype.getAuthorName=function(){return this.nick||this.author&&this.author.username},t.prototype.isEdited=function(){return null!=this.editedTimestamp},t.prototype.getChannelId=function(){return this.channel_id},t.prototype.updateMessage=function(e){if(null!=e.edited_timestamp){var n=t.create(e);return n.reactions=this.reactions,n}var r=this;return null!=e.call&&(r=r.set("call",o(e.call))),e.embeds&&(r=r.set("embeds",e.embeds)),e.pinned!==r.pinned&&(r=r.set("pinned",e.pinned)),r.webhookId&&e.author&&(r=r.set("author",new v.default(e.author))),r},t.prototype.getReaction=function(e){return this.reactions.find(function(t){return(0,y.emojiEquals)(t.emoji,e)})},t.prototype.addReaction=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=-1,r=this.reactions.map(function(r,a){return(0,y.emojiEquals)(r.emoji,e)&&(r=s({},r,{count:t&&r.me?r.count:r.count+1,me:!!t||r.me}),n=a),r});return-1===n&&r.push({emoji:e,me:t,count:1}),this.set("reactions",r)},t.prototype.removeReaction=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=-1,r=this.reactions.map(function(r,a){return(0,y.emojiEquals)(r.emoji,e)&&(r=s({},r,{count:t&&!r.me?r.count:r.count-1,me:!t&&r.me}),n=a),r});return-1!==n&&r[n].count<=0&&r.splice(n,1),this.set("reactions",r)},t.lookupMember=function(e,t){var n=h.default.getChannel(e);if(null==n)return null;var r=n.getGuildId();if(null==r)return n.isManaged()&&n.nicks&&n.nicks[t]?{nick:n.nicks[t],colorString:void 0}:null;var a=b.default.getMember(r,t);return null==a?null:{colorString:a.colorString,nick:a.nick}},t.prototype.isMentioned=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i(e,this.channel_id,this.mentionEveryone,this.mentions,this.mentionRoles,t,n)},t.create=function(e,n){var r=e.webhook_id?p.default.parseAllowLinks:p.default.parse,c=t.lookupMember(e.channel_id,e.author.id),l=e.mentions.map(function(e){return e.id}),h=e.mention_roles||[];return new t(s({},e,{author:e.webhook_id?new v.default(e.author):g.default.getUser(e.author.id),webhookId:e.webhook_id,blocked:d.default.isBlocked(e.author.id),contentParsed:r(e.content,!0,{channelId:e.channel_id},function(e,t){return e=function(e,t){return t?a(e):"paragraph"!==e[0].type?e:(e[0].content instanceof Array&&(e[0].content=a(e[0].content)),e)}(e,t),null!=n?n(e):e}),timestamp:(0,u.default)(new Date(e.timestamp)),editedTimestamp:null!=e.edited_timestamp?(0,u.default)(new Date(e.edited_timestamp)):null,mentionEveryone:e.mention_everyone,mentions:l,mentionRoles:h,mentioned:i(f.default.getId(),e.channel_id,e.mention_everyone,l,h),invites:(0,_.findInvites)(e.content),call:o(e.call),colorString:null!=c?c.colorString:null,nick:null!=c?c.nick:null}))},t}(c.default);t.default=S,e.exports=t.default},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=null!=h[d.default.getId()];if(e&&null==m)m=Date.now();else if(!e&&null!=m){var t=Date.now()-m;t>=g&&p.default.track(l.AnalyticEvents.STOP_SPEAKING,{duration:t}),m=null}}function i(e){delete(h=o({},h))[e]}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=r(n(7)),c=r(n(5)),l=n(4),u=r(n(58)),f=r(n(14)),d=r(n(24)),p=r(n(54)),g=3e4,h={},m=void 0,b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.mustEmitChanges(function(e){return e.type!==l.ActionTypes.VOICE_STATE_UPDATE})},t.prototype.getSpeakers=function(){return h},t.prototype.isSpeaking=function(e){return null!=h[e]},t.prototype.isAnyoneSpeaking=function(){return!f.default.isEmpty(h)},t.prototype.isCurrentUserSpeaking=function(){var e=u.default.getCurrentUser();return null!=e&&this.isSpeaking(e.id)},t}(s.default.Store);t.default=new b(c.default,{SPEAKING:function(e){var t=e.userId;if(e.speaking){var n;h=o({},h,(n={},n[t]=Date.now(),n))}else i(t);a()},VOICE_STATE_UPDATE:function(e){var t=e.userId;if(null!=e.channelId||null==h[t])return!1;i(t),a()}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;null==p?g=Date.now():clearTimeout(p),p=setTimeout(i,e)}function i(){p=null;var e=m[h];h!==d.ME||e?h&&!e?f.default.transitionTo(d.Routes.GUILD(h)):h&&e&&f.default.transitionTo(d.Routes.CHANNEL(h,e)):f.default.transitionTo(d.Routes.ME),m[h]=void 0,h=void 0}function o(){clearTimeout(p),p=null,m[h]=void 0,h=void 0}t.__esModule=!0;var s=r(n(7)),c=r(n(5)),l=r(n(205)),u=r(n(550)),f=r(n(49)),d=n(4),p=null,g=null,h=null,m={},b=150,v=100,_=250,y=500,E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([u.default,l.default],function(){return!0})},t.prototype.getGuildId=function(){return p?h===d.ME?null:h:l.default.getGuildId()},t.prototype.getChannelId=function(e){return p?m[e]:u.default.getChannelId(h)},t}(s.default.Store);t.default=new E(c.default,{DELAYED_GUILD_SELECT:function(e){var t=e.guildId;if(h===t)return!1;h=t||d.ME,m[h]=void 0,a()},DELAYED_CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;if(t||(t=d.ME),t===h&&n===m[t])return!1;h=t||d.ME,m[h]=t!==d.ME||n?n||t:void 0,a()},DELAYED_SELECT_FLUSH:function(e){var t=e.immediate;p&&(t?i():a(null!=g&&Date.now()-g<=b?v:_))},GUILD_SELECT:o,CHANNEL_SELECT:o}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){u.delete(e.guild.id)}t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(7)),s=r(n(5)),c=(n(4),r(n(48))),l=r(n(14)),u=new Set,f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default)},t.prototype.isUnavailable=function(e){return u.has(e)},i(t,[{key:"totalGuilds",get:function(){return l.default.size(c.default.getGuilds())+u.size}},{key:"totalUnavailableGuilds",get:function(){return u.size}}]),t}(o.default.Store);t.default=new f(s.default,{CONNECTION_OPEN:function(e){u=new Set(e.unavailableGuilds)},GUILD_UNAVAILABLE:function(e){u.add(e.guildId)},GUILD_CREATE:a,GUILD_UPDATE:a,GUILD_DELETE:a}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return z.update(),!1}function c(){return H.update(),!1}function l(){return V.update(),!1}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=r(n(7)),p=r(n(5)),g=n(4),h=r(n(22)),m=r(n(620)),b=r(n(24)),v=r(n(550)),_=r(n(1371)),y=r(n(1450)),E=r(n(75)),S=r(n(74)),x=r(n(202)),w=r(n(575)),T=r(n(1585)),C=r(n(1407)),A=r(n(1975)),I=r(n(1987)),O=r(n(1292)),N=r(n(565)),M=r(n(139)),R=n(1492),D=r(n(54)),P=n(1308),k=r(n(14)),L=15e3,U=function(e){function t(){var n,r,o;a(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=i(this,e.call.apply(e,[this].concat(c))),r.throttledPresenceUpdate=k.default.throttle(function(e,t,n,r){return q.presenceUpdate(e,t,n,r)},L,{leading:!0,trailing:!0}),o=n,i(r,o)}return o(t,e),t.prototype.getInitialState=function(){return _.default.getPresence()},t.prototype.getNextState=function(){return _.default.getPresence()},t.prototype.shouldCommit=function(){return q.isSessionEstablished()},t.prototype.didCommit=function(e){var t=e.status,n=e.since,r=e.activity,a=e.afk;this.throttledPresenceUpdate(t,n,r,a)},t}(I.default),F=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.getInitialState=function(){return{guildId:null,channelId:null,selfMute:E.default.isSelfMute(),selfDeaf:E.default.isSelfDeaf()}},t.prototype.getNextState=function(e){return{guildId:e.guildId,channelId:e.channelId,selfMute:E.default.isSelfMute(),selfDeaf:E.default.isSelfDeaf(),selfVideo:E.default.isVideoEnabled()||E.default.isScreenSharing()}},t.prototype.shouldCommit=function(){return q.isSessionEstablished()},t.prototype.didCommit=function(e){var t=e.guildId,n=e.channelId,r=e.selfMute,a=e.selfDeaf,i=e.selfVideo;q.voiceStateUpdate(t,n,r,a,i)},f(t,[{key:"guildId",get:function(){return this.getState().guildId}},{key:"channelId",get:function(){return this.getState().channelId}}]),t}(I.default),B=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.getInitialState=function(){return{syncedGuilds:w.default.getSyncedGuilds()}},t.prototype.getNextState=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),{syncedGuilds:w.default.getSyncedGuilds()}},t.prototype.shouldCommit=function(){return q.isSessionEstablished()},t.prototype.didCommit=function(e){var t=e.syncedGuilds;q.syncGuilds(t)},t}(I.default),G=!1,j=null,H=new U,z=new F,V=new B,q=new A.default(g.Endpoints.GATEWAY,function(){var e=b.default.getToken();return e?(V.reset(),{token:e,properties:D.default.getSuperProperties(),syncedGuilds:V.getState().syncedGuilds,presence:H.getState()}):null});if(h.default.isDesktop()){h.default.requireElectron("powerMonitor",!0).on("resume",function(){q.expeditedHeartbeat(5e3,"power monitor resumed")})}m.default.addOfflineCallback(function(){q.expeditedHeartbeat(15e3,"network detected offline.",!1)}),m.default.addOnlineCallback(function(){q.expeditedHeartbeat(5e3,"network detected online.")}),q.on("disconnect",function(e){var t=e.code,n=e.reason;p.default.dispatch({type:g.ActionTypes.CONNECTION_CLOSED,code:t,reason:n})}),q.on("dispatch",function(e,t){switch(e){case"READY":if(d.default.Store.pauseEmittingChanges(),t.user.bot)return void p.default.dispatch({type:g.ActionTypes.LOGOUT});var n=[];t.private_channels.forEach(function(e){e.guild_id=null,n.push(e)});var r=t.guilds.filter(function(e){return e.unavailable}).map(function(e){return e.id}),a=t.guilds.filter(function(e){return!0!==e.unavailable});a.forEach(function(e){e.channels.forEach(function(t){t.guild_id=e.id,n.push(t)}),delete e.channels}),p.default.dispatch({type:g.ActionTypes.CONNECTION_OPEN,sessionId:t.session_id,user:t.user,guilds:a,unavailableGuilds:r,channels:n,readState:t.read_state,userGuildSettings:t.user_guild_settings,tutorial:t.tutorial,relationships:t.relationships,friendSuggestionCount:t.friend_suggestion_count,presences:t.presences||[],notes:t.notes,analyticsToken:t.analytics_token,experiments:t.experiments,connectedAccounts:t.connected_accounts,guildExperiments:t.guild_experiments,requiredAction:t.required_action,lfgListing:t.lfg_listing}),a.forEach(function(e){e.voice_states.forEach(function(t){p.default.dispatch({type:g.ActionTypes.VOICE_STATE_UPDATE,userId:t.user_id,guildId:e.id,sessionId:t.session_id,channelId:t.channel_id,mute:t.mute,deaf:t.deaf,selfMute:t.self_mute,selfDeaf:t.self_deaf,selfVideo:t.self_video||!1,suppress:t.suppress})})}),N.default.updateLocalSettings(t.user_settings,!0),d.default.Store.resumeEmittingChanges(),H.update(),V.update(),z.update();break;case"RESUMED":H.forceUpdate(),V.forceUpdate(),z.forceUpdate(),p.default.dispatch({type:g.ActionTypes.CONNECTION_RESUMED});break;case g.ActionTypes.TYPING_START:p.default.dispatch({type:e,channelId:t.channel_id,userId:t.user_id});break;case g.ActionTypes.ACTIVITY_START:p.default.dispatch({type:e,userId:t.user_id,activity:t.activity});break;case g.ActionTypes.MESSAGE_CREATE:O.default.receiveMessage(t.channel_id,t);break;case g.ActionTypes.MESSAGE_UPDATE:p.default.dispatch({type:e,message:t});break;case g.ActionTypes.MESSAGE_DELETE:p.default.dispatch({type:e,id:t.id,channelId:t.channel_id});break;case g.ActionTypes.MESSAGE_DELETE_BULK:p.default.dispatch({type:e,ids:t.ids,channelId:t.channel_id});break;case g.ActionTypes.MESSAGE_ACK:p.default.dispatch({type:e,channelId:t.channel_id,messageId:t.message_id,manual:t.manual});break;case g.ActionTypes.CHANNEL_PINS_ACK:p.default.dispatch({type:e,channelId:t.channel_id,timestamp:t.timestamp});break;case g.ActionTypes.CHANNEL_PINS_UPDATE:p.default.dispatch({type:e,channelId:t.channel_id,lastPinTimestamp:t.last_pin_timestamp});break;case g.ActionTypes.CHANNEL_CREATE:case g.ActionTypes.CHANNEL_UPDATE:case g.ActionTypes.CHANNEL_DELETE:p.default.dispatch({type:e,channel:t});break;case g.ActionTypes.CHANNEL_RECIPIENT_ADD:case g.ActionTypes.CHANNEL_RECIPIENT_REMOVE:p.default.dispatch({type:e,channelId:t.channel_id,user:t.user,nick:t.nick});break;case g.ActionTypes.GUILD_CREATE:t.unavailable?p.default.dispatch({type:g.ActionTypes.GUILD_UNAVAILABLE,guildId:t.id}):(t.channels.forEach(function(e){e.guild_id=t.id}),M.default.createGuild(t),t.voice_states.forEach(function(e){p.default.dispatch({type:g.ActionTypes.VOICE_STATE_UPDATE,userId:e.user_id,guildId:t.id,sessionId:e.session_id,channelId:e.channel_id,mute:e.mute,deaf:e.deaf,selfMute:e.self_mute,selfDeaf:e.self_deaf,selfVideo:e.self_video||!1,suppress:e.suppress})}));break;case g.ActionTypes.GUILD_UPDATE:case g.ActionTypes.GUILD_DELETE:p.default.dispatch({type:e,guild:t}),t.unavailable&&p.default.dispatch({type:g.ActionTypes.GUILD_UNAVAILABLE,guildId:t.id});break;case g.ActionTypes.GUILD_SYNC:p.default.dispatch({type:e,guild:t});break;case g.ActionTypes.GUILD_MEMBERS_CHUNK:p.default.dispatch({type:e,guildId:t.guild_id,members:t.members});break;case g.ActionTypes.GUILD_BAN_ADD:case g.ActionTypes.GUILD_BAN_REMOVE:case g.ActionTypes.GUILD_MEMBER_ADD:case g.ActionTypes.GUILD_MEMBER_UPDATE:case g.ActionTypes.GUILD_MEMBER_REMOVE:p.default.dispatch({type:e,guildId:t.guild_id,user:t.user,roles:t.roles,nick:t.nick});break;case g.ActionTypes.GUILD_ROLE_CREATE:case g.ActionTypes.GUILD_ROLE_UPDATE:p.default.dispatch({type:e,guildId:t.guild_id,role:t.role});break;case g.ActionTypes.GUILD_ROLE_DELETE:p.default.dispatch({type:e,guildId:t.guild_id,roleId:t.role_id});break;case g.ActionTypes.GUILD_EMOJIS_UPDATE:p.default.dispatch({type:e,guildId:t.guild_id,emojis:t.emojis});break;case g.ActionTypes.GUILD_INTEGRATIONS_UPDATE:p.default.dispatch({type:e,guildId:t.guild_id});break;case g.ActionTypes.USER_UPDATE:p.default.dispatch({type:e,user:t});break;case g.ActionTypes.USER_SETTINGS_UPDATE:N.default.updateLocalSettings(t,!0);break;case g.ActionTypes.USER_GUILD_SETTINGS_UPDATE:p.default.dispatch({type:e,userGuildSettings:[t]});break;case g.ActionTypes.USER_CONNECTIONS_UPDATE:p.default.dispatch({type:e});break;case g.ActionTypes.USER_REQUIRED_ACTION_UPDATE:p.default.dispatch({type:e,requiredAction:t.required_action});break;case g.ActionTypes.USER_NOTE_UPDATE:p.default.dispatch(u({type:e},t));break;case g.ActionTypes.RELATIONSHIP_ADD:case g.ActionTypes.RELATIONSHIP_REMOVE:p.default.dispatch({type:e,relationship:t});break;case g.ActionTypes.PRESENCE_UPDATE:t.status===g.StatusTypes.OFFLINE||null==t.user.username||x.default.isMember(t.guild_id,t.user.id)||p.default.dispatch({type:g.ActionTypes.GUILD_MEMBER_ADD,guildId:t.guild_id,user:t.user,roles:t.roles,nick:t.nick,synthetic:!0}),p.default.dispatch({type:e,guildId:t.guild_id,user:t.user,status:t.status,game:t.game});break;case g.ActionTypes.PRESENCES_REPLACE:p.default.dispatch({type:e,presences:t});break;case g.ActionTypes.VOICE_STATE_UPDATE:p.default.dispatch({type:e,userId:t.user_id,guildId:t.guild_id,sessionId:t.session_id,channelId:t.channel_id,mute:t.mute,deaf:t.deaf,selfMute:t.self_mute,selfDeaf:t.self_deaf,selfVideo:t.self_video||!1,suppress:t.suppress});break;case g.ActionTypes.VOICE_SERVER_UPDATE:p.default.dispatch({type:e,guildId:t.guild_id,channelId:t.channel_id,endpoint:t.endpoint,token:t.token});break;case g.ActionTypes.CALL_CREATE:p.default.dispatch({type:e,channelId:t.channel_id,messageId:t.message_id,region:t.region,ringing:t.ringing});var i=t.voice_states;null!=i&&i.forEach(function(e){p.default.dispatch({type:g.ActionTypes.VOICE_STATE_UPDATE,userId:e.user_id,guildId:null,sessionId:e.session_id,channelId:e.channel_id,mute:e.mute,deaf:e.deaf,selfMute:e.self_mute,selfDeaf:e.self_deaf,selfVideo:e.self_video||!1,suppress:e.suppress})});break;case g.ActionTypes.CALL_UPDATE:p.default.dispatch({type:e,channelId:t.channel_id,messageId:t.message_id,region:t.region,ringing:t.ringing});break;case g.ActionTypes.CALL_DELETE:p.default.dispatch({type:e,channelId:t.channel_id,unavailable:t.unavailable});break;case g.ActionTypes.OAUTH2_TOKEN_REVOKE:p.default.dispatch({type:e,accessToken:t.access_token});break;case g.ActionTypes.RECENT_MENTION_DELETE:p.default.dispatch({type:e,id:t.message_id});break;case g.ActionTypes.FRIEND_SUGGESTION_CREATE:p.default.dispatch({type:e,suggestion:t});break;case g.ActionTypes.FRIEND_SUGGESTION_DELETE:p.default.dispatch({type:e,suggestedUserId:t.suggested_user_id});break;case g.ActionTypes.WEBHOOKS_UPDATE:p.default.dispatch({type:e,guildId:t.guild_id,channelId:t.channel_id});break;case g.ActionTypes.MESSAGE_REACTION_ADD:case g.ActionTypes.MESSAGE_REACTION_REMOVE:p.default.dispatch({type:e,channelId:t.channel_id,messageId:t.message_id,userId:t.user_id,emoji:t.emoji});break;case g.ActionTypes.MESSAGE_REACTION_REMOVE_ALL:p.default.dispatch({type:e,channelId:t.channel_id,messageId:t.message_id});break;case g.ActionTypes.USER_PAYMENTS_UPDATE:case g.ActionTypes.USER_BILLING_PROFILE_UPDATE:(T.default.isOpen()||C.default.hasLayers())&&(0,R.getBillingInfo)();break;case g.ActionTypes.ACTIVITY_JOIN_REQUEST:var o=y.default.getActivity();if(null==o||o.type!==g.ActivityTypes.PLAYING||null==o.application_id||null==o.secrets||null==o.secrets.join||!(0,P.hasFlag)(o,g.ActivityFlags.JOIN_REQUEST))break;p.default.dispatch({type:e,user:t.user,applicationId:o.application_id});break;case g.ActionTypes.ACTIVITY_JOIN_INVITE:p.default.dispatch({type:e,userId:t.user_id,secret:t.secret});break;case g.ActionTypes.LFG_LISTING_CREATE:p.default.dispatch({type:e,listing:t.listing});break;case g.ActionTypes.LFG_LISTING_DELETE:p.default.dispatch({type:e,channelId:t.channel_id});break;case g.ActionTypes.BRAINTREE_POPUP_BRIDGE_CALLBACK:p.default.dispatch({type:e,state:t.state,path:t.path,query:t.query})}});var W=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.initialize=function(){this.waitFor(b.default,v.default,S.default),this.syncWith([E.default],s),this.syncWith([w.default],l),this.syncWith([_.default],c)},t.prototype.isTryingToConnect=function(){return!q.isDisconnected()},t.prototype.isConnected=function(){return G},t}(d.default.Store);t.default=new W(p.default,{START_SESSION:function(){q.isDisconnected()&&q.connect()},LOGOUT:function(){q.close()},CONNECTION_OPEN:function(e){G=!0,j=e.sessionId,H.update({},!0);var t={},n=v.default.getVoiceChannelId();if(null!=n){var r=S.default.getChannel(n);null!=r&&(t={guildId:r.guild_id,channelId:n})}z.update(t,!0)},CONNECTION_CLOSED:function(){G=!1},RTC_CONNECTION_STATE:function(e){var t=e.state,n=e.willReconnect;if(t!==g.RTCConnectionStates.DISCONNECTED)return!1;n&&q.voiceServerPing()},VOICE_CHANNEL_SELECT:function(e){return z.update({guildId:e.guildId,channelId:e.channelId}),!1},VOICE_STATE_UPDATE:function(e){if(b.default.getId()!==e.userId)return!1;if(e.sessionId===j)z.setState({guildId:e.guildId,channelId:e.channelId});else{if(e.guildId!==z.guildId)return!1;z.setState({guildId:null,channelId:null})}},GUILD_DELETE:function(e){e.guild.id===z.guildId&&z.setState({guildId:null,channelId:null})},CHANNEL_DELETE:function(e){e.channel.id===z.channelId&&z.setState({guildId:null,channelId:null})},CALL_DELETE:function(e){e.channelId===z.channelId&&z.setState({guildId:null,channelId:null})},APP_STATE_UPDATE:function(e){return e.state===g.AppStates.ACTIVE&&q.resetBackoff("App state is active"),!1},GUILD_MEMBERS_REQUEST:function(e){var t=e.guildId,n=e.query,r=e.limit;return q.isSessionEstablished()&&q.requestGuildMembers(t,n,r),!1},CALL_CONNECT:function(e){var t=e.channelId;return q.isSessionEstablished()&&q.callConnect(t),!1}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){n[e]=!0,t.action(n,r),g.default.trackWithMetadata("slash_command_used",{command:e})}function i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t[0]!==e?null:n.sortBy(function(e){return-e.text.length}).filter(function(e){var n=e.text;return 1===t.toLowerCase().indexOf(n.toLowerCase())}).map(function(t){var n=t.id,a=t.text,i=t.hasNick;return[e+a,n,r,i]}).first()}function o(e){return{order:e.order,match:e.match,parse:function(t){return{type:e.type,content:t[0]}}}}function s(e,t,n){var r="";return e.forEach(function(e){if(null!=n&&"customEmoticon"===e.type&&n(e.emoji),e.content.constructor===String)switch(e.type){case"codeBlock":case"inlineCode":case"mention":case"roleMention":case"channel":case"emoji":r+=e.content;break;default:r+=t(e.content)}else e.content.constructor===Array?r+=s(e.content,t,n):console.warn("Unknown message item type: ",e)}),r}function c(){return I.default.fromTimestamp(Date.now())}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=r(n(218)),f=r(n(14)),d=r(n(1398)),p=n(1490),g=r(n(1309)),h=r(n(1360)),m=r(n(58)),b=r(n(101)),v=r(n(74)),_=r(n(207)),y=r(n(48)),E=r(n(202)),S=r(n(1374)),x=r(n(1320)),w=r(n(550)),T=r(n(4672)),C=r(n(1292)),A=r(n(1373)),I=r(n(145)),O=n(1437),N=n(4),M={tts:{action:function(e){e.tts=b.default.enableTTSCommand}},me:{action:function(e){e.content="_"+e.content+"_"}},tableflip:{action:function(e){e.content=(e.content+" ( ").trim()}},unflip:{action:function(e){e.content=(e.content+" \ufeff ( -)").trim()}},shrug:{action:function(e){e.content=(e.content+" \\_()_/").trim()}},nick:{action:function(e,t){var n=t.guildId,r=t.channelId;T.default.changeNickname(n,r,N.ME,e.content),e.content=""}},reaction:{match:u.default.anyScopeRegex(/^\+:(.+?):$/),action:function(e,t){var n=t.isEdit,r=t.channelId,a=t.emojiContext;if(!n&&x.default.hasPresent(r)){var i=x.default.getMessages(r).last();if(i&&i.id){var o=a.getByName(e.content.slice(2,-1));null!=o&&(e.content="",(0,O.addReaction)(r,i.id,(0,p.toReactionEmoji)(o)))}}}},searchReplace:{match:u.default.anyScopeRegex(/^s\/((?:.+?)[^\\]|.)\/(.*)/),REMOVE_ESCAPE_CHARS:/\\([*?+/])/g,action:function(e,t){if(!t.isEdit){var n=e.content;e.content="";var r=w.default.getChannelId();if(r){var a=x.default.getLastEditableMessage(r);if(a&&a.id){var i=Array.from(n.match(this.match.regex)||[]),o=i[1],s=i[2];o=o.replace(this.REMOVE_ESCAPE_CHARS,function(e,t){return t}),s=s.replace(this.REMOVE_ESCAPE_CHARS,function(e,t){return t});var c=a.content.replace(o,s);c||a.attachments.length?c!==a.content&&C.default.editMessage(r,a.id,{content:c}):C.default.deleteMessage(r,a.id)}}}}}},R="@here",D="@everyone",P=d.default.getDefaultRules(),k=u.default.defaultRules.text,L={link:o(u.default.defaultRules.link),autolink:o(u.default.defaultRules.autolink),url:o(u.default.defaultRules.url),inlineCode:o(P.inlineCode),codeBlock:o(P.codeBlock),mention:{match:function(e,t,n){var r=n.split(" ").pop()+e;if(/^[^ ]+@[^ ]+\.[^ \.]+/.test(r))return null;var a=i("@",e,t.users,"mention");if(a)return a;if(a=i("@",e,t.mentionableRoles,"roleMention"),a)return a;if(function(e){var t=e.indexOf(" "),n=-1===t?e:e.substr(0,t);return n===D||n===R}(e))return null;return i("@",e,t.users.map(function(e){return l({},e,{text:e.text.split("#")[0]})}),"mention")},parse:function(e){var t=e[1],n=e[2],r=e[3],a="@";return"roleMention"===n?a+="&":r&&(a+="!"),{type:n,content:"<"+a+t+">"}}},channel:{match:function(e,t){return i("#",e,t.channels)},parse:function(e){return{type:"text",content:"<#"+e[1]+">"}}},emoticon:{match:function(e,t,n){if(!b.default.convertEmoticons)return null;if(0!==n.length&&!/\s$/.test(n))return null;var r=h.default.EMOJI_SHORTCUT_RE.exec(e);return null==r?null:r[0].length!==e.length&&" "!==e[r[0].length]?null:r},parse:function(e){return{type:"emoticon",content:h.default.convertShortcutToName(e[1])}}},emoji:{order:P.emoji.order,match:P.emoji.match,parse:function(e,t,n){var r=e[0],a=e[1],i=n.customEmoji,o=Object.prototype.hasOwnProperty.call(i,a)?i[a]:null;return null!=o?{type:"customEmoticon",content:"<"+(!0===o.animated?"a":"")+":"+(o.originalName||o.name)+":"+o.id+">",emoji:o}:{type:"text",content:r}}},customEmoticons:{match:function(e,t){return t.customEmoticonsRegex&&t.customEmoticonsRegex.exec(e)},parse:function(e,t,n){var r=e[0],a=e[1],i=n.emojiContext.getEmoticonByName(a);return null!=i?{type:"customEmoticon",content:"<"+(!0===i.animated?"a":"")+":"+i.name+":"+i.id+">",emoji:i}:{type:"text",content:r}}},text:l({},k,{match:function(e,t){if(t.textExclusions){var n="^[\\s\\S]+?(?="+t.textExclusions+"|[^0-9A-Za-z\\s\\u00ff-\\uffff]|\\n\\n| {2,}\\n|\\w+:\\S|$)";return new RegExp(n).exec(e)}return null!=k.match?k.match(e,t,""):null}})},U={inlineCode:o(P.inlineCode),codeBlock:o(P.codeBlock),mention:{match:u.default.anyScopeRegex(/^<@!?(\d+)>/),parse:function(e){var t=m.default.getUser(e[1]);return{content:null==t?e[0]:"@"+t.username+"#"+t.discriminator}}},roleMention:{match:u.default.anyScopeRegex(/^<@&(\d+)>/),parse:function(e,t,n){var r=n.guild;if(null!=r){var a=r.roles[e[1]];if(null!=a)return{content:"@"+a.name}}return{content:e[0]}}},channel:{match:u.default.anyScopeRegex(/^<#(\d+)>/),parse:function(e){var t=v.default.getChannel(e[1]);return{content:null==t?e[0]:t.toString(!0)}}},emoji:{match:u.default.anyScopeRegex(/^<a?:(\w+):(\d+)>/),parse:function(e,t,n){e[0];var r=e[1],a=e[2],i=n.guild,o=S.default.getDisambiguatedEmojiContext(i?i.id:null).getById(a);return{content:":"+(o?o.name:r)+":"}}},text:k};[L,U].forEach(function(e){Object.keys(e).forEach(function(t,n){e[t].order=n})});var F=u.default.parserFor(L),B=u.default.parserFor(U);t.default={createMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m.default.getCurrentUser(),a=r.id,i=r.username,o=r.avatar,s=r.discriminator,l=r.bot;return{id:c(),type:N.MessageTypes.DEFAULT,content:t,channel_id:e,author:{id:a,username:i,avatar:o,discriminator:s,bot:l},attachments:[],embeds:[],pinned:!1,mentions:[],mention_roles:[],mention_everyone:!1,timestamp:(new Date).toISOString(),state:N.MessageStates.SENDING,tts:n}},createBotMessage:function(e,t){return{id:c(),type:N.MessageTypes.DEFAULT,content:t,channel_id:e,author:{id:N.LOCAL_BOT_ID,username:"Clyde",discriminator:N.NON_USER_BOT_DISCRIMINATOR,avatar:"clyde",bot:!0},attachments:[],embeds:[],pinned:!1,mentions:[],mention_roles:[],mention_everyone:!1,timestamp:(new Date).toISOString(),state:N.MessageStates.SENT,tts:!1}},parse:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getGuildId(),i=r?y.default.getGuild(r):null,o=void 0;o=e.isPrivate()?e.recipients.map(function(e){return{userId:e,nick:null}}):null!=r?E.default.getMembers(r).map(function(e){return{userId:e.userId,nick:e.nick}}):[];var c=(0,f.default)(o).map(function(e){var t=e.userId,n=e.nick,r=m.default.getUser(t);return{id:t,hasNick:null!=n,text:r.username+"#"+r.discriminator}}),l=(0,f.default)(null!=i?i.roles:{}).values().filter(function(e){return e.mentionable}).map(function(e){return{id:e.id,text:e.name}}),u=(0,f.default)(_.default.getTextChannelNameDisambiguations(e.guild_id)).map(function(e){return{id:e.id,text:e.name}}),d=S.default.getDisambiguatedEmojiContext(r),p=d.getEscapedCustomEmoticonNames(),g=d.getCustomEmoji(),b={inline:!0,mentionableRoles:l,guild:i,users:c,channels:u,emojiContext:d,customEmoticonsRegex:d.getCustomEmoticonRegex(),customEmoji:g,textExclusions:p},v={content:t,tts:!1,invalidEmojis:[]};!function(e,t){for(var n in M){var r=M[n];if(null==r.match){if("/"===e.content[0]){var i=e.content.split(" ");if(n===i[0].slice(1)&&r.action){e.content=i.slice(1).join(" "),a(n,r,e,t);break}}}else if(r.match.regex.test(e.content)){a(n,r,e,t);break}}}(v,{guildId:r,guild:i,channelId:e.id,channel:e,isEdit:n,emojiContext:d});var x=new Set;return v.content=s(F(v.content,b),h.default.translateInlineEmojiToSurrogates,function(e){return x.add(e)}),x.forEach(function(t){A.default.isEmojiDisabled(t,e)&&v.invalidEmojis.push(t)}),v},unparse:function(e,t){var n=v.default.getChannel(t),r=n?n.getGuildId():null,a=r?y.default.getGuild(r):null;return s(B(e,{inline:!0,guild:a}),h.default.translateSurrogatesToInlineEmoji)},isMentioned:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.mention_everyone&&!n)return!0;if(e.mentions.some(function(e){return e.id===t}))return!0;if(r||null==e.mention_roles||0===e.mention_roles.length)return!1;var a=v.default.getChannel(e.channel_id);if(null==a)return!1;var i=a.getGuildId();if(null==i)return!1;var o=y.default.getGuild(i);if(null==o)return!1;var s=E.default.getMember(o.id,t);return null!=s&&e.mention_roles.some(function(e){return s.roles.includes(e)})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.prototype.hasOwnProperty.call(g,e)?g[e]:t}function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object.prototype.hasOwnProperty.call(h,e)&&(n=h[e]),t?":"+n+":":n}t.__esModule=!0,t.Emoji=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(14)),c=n(4),l=r(n(1373)),u=r(n(567)),f=null,d={},p={},g={},h={},m={},b=[],v=t.Emoji=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.animated=!1;var r=t.names,a=t.surrogates,i=r[0]||"";this.uniqueName=i,this.names=r,this.allNamesString=r.length>1?":"+r.join(": :")+":":":"+i+":",this.uniqueName=i,this.defaultUrl=l.default.getURL(a),this.surrogates=t.surrogates,this.useSpriteSheet=!1,this.index=null,this.urlForDiversitySurrogate={},this.diversitiesByName={},this.hasDiversity=t.hasDiversity,this.hasDiversity&&s.default.each(c.DIVERSITY_SURROGATES,function(e,t){var i=a+e,o=l.default.getURL(i);o&&(n.urlForDiversitySurrogate[e]=o),r.forEach(function(e){e=e+"::skin-tone-"+(t+1),n.diversitiesByName[e]={name:e,surrogatePair:i,url:o}})})}return e.prototype.forEachDiversity=function(e){this.diversitiesByName&&s.default.each(this.diversitiesByName,e)},e.prototype.forEachName=function(e){s.default.each(this.names,e)},e.prototype.setSpriteSheetIndex=function(e){this.index=e,this.useSpriteSheet=!0},o(e,[{key:"url",get:function(){return this.hasDiversity&&null!==f&&this.hasDiversity?this.urlForDiversitySurrogate[f]:this.defaultUrl}},{key:"name",get:function(){return this.hasDiversity&&null!==f?this.uniqueName+"::"+h[f]:this.uniqueName}},{key:"surrogatePair",get:function(){var e=this.diversitiesByName[this.name];return null!=e?e.surrogatePair:this.surrogates}}]),e}(),_=0,y=0,E=n(4412);s.default.each(E,function(e,t){d[t]=s.default.map(e,function(e){var t=new v(e);return t.setSpriteSheetIndex(t.hasDiversity?_++:y++),t.managed=!0,h[t.surrogates]=t.uniqueName,t.forEachName(function(e){p[e]=t,g[e]=t.surrogates}),t.forEachDiversity(function(e){p[e.name]=t,g[e.name]=e.surrogatePair,h[e.surrogatePair]=e.name}),b.push(t),t})}),s.default.forEach(c.DIVERSITY_SURROGATES,function(e,t){g["skin-tone-"+(t+1)]=e,h[e]="skin-tone-"+(t+1)});var S=n(4413);s.default.each(S,function(e){var t=e.emoji;e.shortcuts.forEach(function(e){m[e]=t})});var x=/^:([^\s:]+?(?:::skin\-tone\-\d)?):/,w=function(){var e=(0,s.default)(h).keys().sortBy(function(e){return-e.length}).map(u.default.escape).join("|");return new RegExp("("+e+")","g")}(),T=function(){var e=(0,s.default)(m).keys().map(u.default.escape).join("|");return new RegExp("^("+e+")")}();t.default={getDefaultDiversitySurrogate:function(){return f},setDefaultDiversitySurrogate:function(e){f=e||null},getCategories:function(){return Object.keys(d)},getByName:function(e){return Object.prototype.hasOwnProperty.call(p,e)?p[e]:null},getByCategory:function(e){return d[e]},translateInlineEmojiToSurrogates:function(e){return e.replace(x,function(e,t){return a(t,e)})},translateSurrogatesToInlineEmoji:function(e){return e.replace(w,function(e,t){return i(t)})},convertNameToSurrogate:a,convertSurrogateToName:i,convertShortcutToName:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object.prototype.hasOwnProperty.call(m,e)&&(n=m[e]),t?":"+n+":":n},forEach:function(e){return s.default.each(b,e)},all:function(){return b},numDiversitySprites:_,numNonDiversitySprites:y,EMOJI_NAME_RE:/^:([^\s:]+?(?:::skin\-tone\-\d)?):/,EMOJI_NAME_AND_DIVERSITY_RE:x,EMOJI_SHORTCUT_RE:T}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){p.default.close(),d.default.close(),u.default.show(e)}function i(e){var t=e.status,n=e.body;if(429===t)a({title:l.default.Messages.FRIEND_REQUEST_RATE_LIMITED_HEADER,body:l.default.Messages.FRIEND_REQUEST_RATE_LIMITED_BODY,confirmText:l.default.Messages.FRIEND_REQUEST_RATE_LIMITED_BUTTON});else if(403===t){(n&&n.code)===s.AbortCodes.EMAIL_VERIFICATION_REQUIRED&&a({title:l.default.Messages.FRIEND_REQUEST_REQUIRES_EMAIL_VALIDATION_HEADER,body:l.default.Messages.FRIEND_REQUEST_REQUIRES_EMAIL_VALIDATION_BODY,confirmText:l.default.Messages.FRIEND_REQUEST_REQUIRES_EMAIL_VALIDATION_BUTTON,onConfirm:function(){f.default.open(s.UserSettingsSections.ACCOUNT)}})}throw e}t.__esModule=!0;var o=r(n(5)),s=n(4),c=r(n(39)),l=r(n(21)),u=r(n(1300)),f=r(n(556)),d=r(n(1381)),p=r(n(1277));t.default={sendRequest:function(e,t){var n=e.split("#"),r=n[0],a=n[1];return a=parseInt(a),c.default.post({url:s.Endpoints.USER_RELATIONSHIPS(),body:{username:r,discriminator:a},context:t}).catch(i)},addRelationship:function(e,t,n){c.default.put({url:s.Endpoints.USER_RELATIONSHIPS()+"/"+e,body:{type:n},context:t}).catch(i)},removeRelationship:function(e,t){c.default.delete({url:s.Endpoints.USER_RELATIONSHIPS()+"/"+e,context:t})},fetchRelationships:function(){c.default.get(s.Endpoints.USER_RELATIONSHIPS()).then(function(e){return o.default.dispatch({type:s.ActionTypes.LOAD_RELATIONSHIPS_SUCCESS,relationships:e.body})},function(){return o.default.dispatch({type:s.ActionTypes.LOAD_RELATIONSHIPS_FAILURE})})}},e.exports=t.default},function(e,t,n){"use strict";(function(r){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),o=a(n(547)),s=a(n(3)),c=a(n(548)),l=a(n(549)),u=a(n(15)),f=a(n(26)),d=a(n(7)),p=a(n(624)),g=a(n(208)),h=a(n(552));n(4626);var m=i("div",{className:"track"}),b=(0,c.default)({displayName:"Scroller",mixins:[l.default,d.default.StoreListenerMixin(g.default)],propTypes:{onUpdate:o.default.func,onScroll:o.default.func,onResize:o.default.func,theme:o.default.string,fade:o.default.bool},getDefaultProps:function(){return{onUpdate:function(){},onScroll:function(){},onResize:function(){},fade:!1}},getStateFromStores:function(){return{windowSize:g.default.windowSize()}},getInitialState:function(){return this.scrollerState={offsetHeight:0,scrollTop:0,scrollHeight:0},{thumbHeight:new h.default.Value(0),thumbTop:new h.default.Value(0)}},componentWillMount:function(){var e=this;this.springer=new p.default(function(t,n){var r=e.getScrollerNode(),a=e.scrollerState,i=a.offsetHeight,o=a.scrollHeight;r?(t<0&&(t=0),r.scrollTop=t,(0===t&&n._vel<0||t+i>o&&n._vel>0)&&n.cancel()):n.cancel()})},componentDidMount:function(){this.setFullScrollerState(this.props.onUpdate)},componentWillUnmount:function(){this.springer.cancel()},componentWillReceiveProps:function(){this._queueUpdate=!0},componentDidUpdate:function(e,t){var n=t.windowSize;if(this.state.windowSize!==n)return this.handleResize();this._queueUpdate&&(this._queueUpdate=!1,this.setFullScrollerState(this.props.onUpdate))},render:function(){var e=null;if(this.needsScrollbar()){var t=this.state,n=t.thumbHeight,r=t.thumbTop;e=i("div",{className:"scrollbar"},void 0,m,i(h.default.div,{className:"thumb",style:{height:n,top:r}}))}var a=null;if(this.props.renderStickyHeader){var o=this.props.renderStickyHeader();o&&(a=s.default.cloneElement(o,{ref:"stickyHeader"}))}return i("div",{className:(0,u.default)("scroller-wrap",this.props.theme,this.props.outerClassName,{polyfill:null!=e,fade:this.props.fade})},void 0,s.default.createElement("div",{ref:"SCROLLER_REF",className:(0,u.default)(this.props.className,"scroller"),onScroll:this.handleOnScroll},a,this.props.children),e)},handleOnScroll:function(){this.setLightScrollerState(this.props.onScroll)},handleResize:function(){this.setFullScrollerState(this.props.onResize)},getScrollbarOffset:function(){var e=this.scrollerState,t=e.scrollHeight,n=e.offsetHeight,r=e.scrollTop,a=t-n,i=0===a?0:r/a;return(n-this.getScrollbarHeight())*i},getScrollbarHeight:function(){var e=this.scrollerState,t=e.scrollHeight,n=e.offsetHeight;return 0===t||t<=n?0:n/t*n},updateScrollBar:function(){var e=this.state,t=e.thumbHeight,n=e.thumbTop,r=this.getScrollbarHeight()>>0,a=this.getScrollbarOffset()>>0;t.setValue(r),n.setValue(a)},getScrollerNode:function(){return this.refs.SCROLLER_REF},setLightScrollerState:function(e){var t=this.getScrollerNode();this.scrollerState.scrollTop=t.scrollTop,e(this),this.needsScrollbar()&&this.updateScrollBar()},setFullScrollerState:function(e){var t=this.getScrollerNode(),n=this.scrollerState;n.offsetHeight=t.offsetHeight,n.scrollTop=t.scrollTop,n.scrollHeight=t.scrollHeight,e(this),this.needsScrollbar()&&this.updateScrollBar()},needsScrollbar:function(){return"Blink"!==f.default.layout&&"WebKit"!==f.default.layout},scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.getScrollerNode();t&&a.scrollTop!==e?this.springer.to(e>>0,a.scrollTop,n):(this.springer.cancel(),a.scrollTop=e,n&&r.nextTick(n))},scrollIntoViewRect:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.scrollerState,a=r.scrollTop,i=r.offsetHeight,o=0;this.refs.stickyHeader&&(a+=o=this.refs.stickyHeader.offsetTop+this.refs.stickyHeader.offsetHeight,i-=o),e>=a&&t<=a+i||(e<a?this.scrollTo(e-o,n):this.scrollTo(t-i,n))},scrollIntoView:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,bottom:0},r=e.offsetTop,a=r+e.offsetHeight;this.scrollIntoViewRect(r-n.top,a+n.bottom,t)},getScrollData:function(){var e=this.scrollerState,t=e.offsetHeight,n=e.scrollTop,r=e.scrollHeight,a=.8*t-50>>0;return a<50&&(a=50),{scrollHeight:r,scrollTop:n,offsetHeight:t,pageHeight:a}},scrollPageUp:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getScrollData(),r=void 0;r=t?Math.max(n.scrollTop-n.pageHeight,0):Math.max(n.scrollTop-n.pageHeight,0-n.pageHeight),this.scrollTo(r,e)},scrollPageDown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getScrollData(),r=void 0;r=t?Math.min(n.scrollTop+n.pageHeight,n.scrollHeight-n.offsetHeight):Math.min(n.scrollTop+n.pageHeight,n.scrollHeight),this.scrollTo(r,e)},scrollToBottom:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScrollData();this.scrollTo(n.scrollHeight,e,t)}});t.default=b,e.exports=t.default}).call(t,n(87))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t,n;if(!C.has(e.id)){S.has(e.id)&&(e=e.set("state",_.PartyStates.REPORTED)),x=u({},x,(t={},t[e.id]=e,t));var r=T[e.game_id]||{};T[e.game_id]=u({},r,(n={},n[e.id]=e,n)),e.isMember(b.default.getId())&&(w=e)}}function i(e){var t=x[e]||{},n=t.id,r=t.game_id;if(null==n)return!1;delete(x=u({},x))[n];var a=T[r];if(null==a)throw new Error("PartyStore: The party does not exist in on the game object");return a=u({},a),delete a[n],T[r]=a,!0}function o(e){if(null==w||w.id!==e)return!1;var t=m.default.getChannel(e);return null!=t&&(a(w.merge({channel:t})),!0)}function s(e){var t=e.channel.recipients,n=t.map(function(e){return new h.default(e)}),r=m.default.getChannel(e.channel.id);return null==r&&(r=new g.default(u({},e.channel,{ownerId:e.channel.owner_id,recipients:t.map(function(e){return e.id}),type:_.ChannelTypes.GROUP_DM}))),new p.default({game_id:e.game_id,size:e.size,state:e.state,channel:r,members:n})}function c(e){return o(e.channelId)}t.__esModule=!0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=r(n(7)),d=r(n(5)),p=r(n(1646)),g=r(n(102)),h=r(n(141)),m=r(n(74)),b=r(n(24)),v=r(n(40)),_=n(4),y={},E="LFGReportedGroups",S=new Set(v.default.get(E)),x={},w=null,T={},C=new Set,A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(b.default,m.default)},t.prototype.isParty=function(e){return null!=x[e]},t.prototype.getCurrentParty=function(){return w},t.prototype.getParty=function(e){return null!=w&&w.id===e?w:x[e]||null},t.prototype.getPartiesForGame=function(e){return T[e]||y},l(t,[{key:"currentPartyId",get:function(){return null!=w?w.id:null}},{key:"parties",get:function(){return x}}]),t}(f.default.Store);t.default=new A(d.default,{CONNECTION_OPEN:function(e){var t=e.lfgListing;x={},T={},w=null,null!=t&&(w=s(t))},LOGOUT:function(){x={},T={},w=null},LFG_LISTING_CREATE:function(e){a(s(e.listing))},LFG_LISTING_DELETE:function(e){var t=e.channelId;return C.add(t),i(t)},LFG_FETCH:function(e){if(e.reset)for(var t in x){var n=x[t];n.game_id===e.gameId&&n!==w&&i(n.id)}e.parties.forEach(function(e){a(s(e))}),C=new Set},LFG_PARTY_REPORT:function(e){var t=e.channelId;S.add(t),v.default.set(E,Array.from(S));var n=x[t];if(null==n)return!1;a(n)},CHANNEL_UPDATE:function(e){return o(e.channel.id)},CHANNEL_RECIPIENT_ADD:c,CHANNEL_RECIPIENT_REMOVE:c,CHANNEL_DELETE:function(e){var t=e.channel;if(null==w||t.id!==w.id)return!1;w=null}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=r(n(3)),l=r(n(15)),u=n(85),f=r(n(209)),d=r(n(1436)),p=n(4),g=r(n(4663)),h=function(e){function t(n){a(this,t);var r=i(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r}return o(t,e),t.prototype.render=function(){var e,t=this.props,n=t.checked,r=t.disabled,a=t.option,i=n?"checked":null,o=a.desc?s("div",{className:(0,u.getClass)(g.default,"desc",i)},void 0,a.desc):null,c=n?a.color||p.Colors.BRAND:"",h=n?p.Colors.WHITE:a.color,m=r||a.disabled;return s(f.default,{className:(0,l.default)(g.default.item,(e={},e[g.default.disabled]=m,e)),style:{borderColor:c,backgroundColor:c,padding:10},editable:!0,onClick:!m&&this.handleClick},void 0,s(d.default,{value:n,disabled:m,onChange:this.handleClick,color:c}),s("div",{className:g.default.info},void 0,s("div",{className:(0,u.getClass)(g.default,"title",i),style:{color:h}},void 0,a.name),o))},t.prototype.handleClick=function(){var e=this.props,t=e.onClick,n=e.option;return t&&t(n)},t}(c.default.PureComponent),m=function(e){function t(n){a(this,t);var r=i(this,e.call(this,n));return r.renderRadio=r.renderRadio.bind(r),r}return o(t,e),t.prototype.renderRadio=function(e){var t=this.props,n=t.value,r=t.disabled,a=n===e.value;return s(h,{disabled:r,checked:a,option:e,onClick:this.props.onChange},e.value)},t.prototype.render=function(){var e=this.props,t=e.options,n=e.className;return s("div",{className:(0,l.default)(g.default.radioGroup,n)},void 0,t.map(this.renderRadio))},t}(c.default.PureComponent);m.defaultProps={options:[],onChange:p.NOOP,value:null},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t,n,r;for(t=1;t<arguments.length;t++){n=arguments[t];for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}var a="function"==typeof Object.assign?Object.assign:r;e.exports={assign:a,_assign:r}},function(e,t,n){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);l.call(this,e),u.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||o(i,this)}function i(e){e.end()}var o=n(1458),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var c=n(1414);c.inherits=n(1278);var l=n(1665),u=n(1520);c.inherits(r,l);for(var f=s(u.prototype),d=0;d<f.length;d++){var p=f[d];r.prototype[p]||(r.prototype[p]=u.prototype[p])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),o(t,e)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){p=null,d=c.default.getIdleSince()||0,g=c.default.isAFK(),(f=l.default.status)===s.StatusTypes.ONLINE&&d>0&&(f=s.StatusTypes.IDLE),f!==s.StatusTypes.OFFLINE&&(p=u.default.getActivity())}t.__esModule=!0;var i=r(n(7)),o=r(n(5)),s=n(4),c=r(n(1504)),l=r(n(101)),u=r(n(1450)),f=s.StatusTypes.ONLINE,d=0,p=null,g=!1,h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default,l.default,u.default)},t.prototype.getPresence=function(){return{status:f,since:d,activity:p,afk:g}},t.prototype.getStatus=function(){return f},t.prototype.getActivity=function(){return p},t}(i.default.Store);t.default=new h(o.default,{START_SESSION:function(e){return a()},CONNECTION_OPEN:function(e){return a()},CONNECTION_CLOSED:function(e){return a()},IDLE:function(e){return a()},AFK:function(e){return a()},RUNNING_GAMES_CHANGE:function(e){return a()},STREAMING_UPDATE:function(e){return a()},USER_SETTINGS_UPDATE:function(e){return a()},LOCAL_ACTIVITY_UPDATE:function(e){return a()},SPOTIFY_PLAYER_STATE:function(e){return a()},USER_CONNECTIONS_UPDATE:function(e){return a()}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(e)return o.default.getNick(e,n.id);if(t){var r=i.default.getChannel(t);if(r&&r.isManaged())return r.nicks[n.id]}return null}t.__esModule=!0;var i=r(n(74)),o=r(n(202));t.default={getNickname:a,getName:function(e,t,n){return a(e,t,n)||n.username}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(58)),o=r(n(140)),s=n(4),c={};c=n(1988),t.default=a({getURL:function(){return""}},c,{isEmojiFiltered:function(e,t){var n=i.default.getCurrentUser();if(!e.guildId)return!1;if(t.type!==s.ChannelTypes.GUILD_TEXT)return!1;var r=e.guildId===t.getGuildId(),a=o.default.can(s.Permissions.USE_EXTERNAL_EMOJIS,n,t);return!r&&!a},isEmojiDisabled:function(e,t){var n=i.default.getCurrentUser();if(!e.guildId)return!1;if(e.animated&&!n.premium)return!0;if(t.type===s.ChannelTypes.GUILD_TEXT){var r=e.guildId===t.getGuildId(),a=o.default.can(s.Permissions.USE_EXTERNAL_EMOJIS,n,t),c=e.managed||n.premium;return!r&&!(!r&&a&&c)}return!n.premium&&!e.managed}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){null!=L[e]&&delete L[e]}function o(){var e=[];Object.values(L).forEach(function(t){e.push.apply(e,t.emoticons),C.default.each(t.usableEmojis,function(e){return k[e.id]=e})}),O.reset(),D.compute()}function s(e,t){if(i(e),O.clear(e),null!=t){var n=p.default.getCurrentUser();if(null!=n){var r=g.default.getMember(e,n.id);if(null!=r){var a={};a.emojis=t,a.usableEmojis=[],Object.values(t).filter(function(e){return!e.roles.length||r.roles.find(function(t){return e.roles.indexOf(t)>=0})}).sort(function(e,t){return t.name.localeCompare(e.name)}).forEach(function(t){t.url=_.default.getEmojiURL({id:t.id,animated:t.animated}),t.allNamesString=":"+t.name+":",t.guildId=e,a.usableEmojis.push(t)}),a.emoticons=a.usableEmojis.filter(function(e){return!e.require_colons}),L[e]=a}}}}function c(e){s(e.guild.id,e.guild.emojis),o()}t.__esModule=!0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=r(n(7)),d=r(n(5)),p=r(n(58)),g=r(n(202)),h=r(n(1343)),m=r(n(48)),b=r(n(74)),v=r(n(567)),_=r(n(86)),y=n(4),E=r(n(40)),S=r(n(1360)),x=r(n(1628)),w=r(n(1373)),T=r(n(140)),C=r(n(14)),A="custom",I=["recent",A].concat(S.default.getCategories()),O=function(){function e(t){a(this,e),this.guildId=t}return e.get=function(t){return null!=e._lastInstance&&e._lastInstance.guildId===t||(e._lastInstance=new e(t)),e._lastInstance},e.reset=function(){e._lastInstance=null},e.resetFrequentlyUsed=function(){null!=e._lastInstance&&(e._lastInstance.frequentlyUsed=null)},e.clear=function(t){null!=e._lastInstance&&e._lastInstance.guildId===t&&(e._lastInstance=null)},e.prototype.ensureDisambiguated=function(){null==this.disambiguatedEmoji&&this._buildDisambiguatedCustomEmoji()},e.prototype.getDisambiguatedEmoji=function(){return null==this.disambiguatedEmoji&&this._buildDisambiguatedCustomEmoji(),this.disambiguatedEmoji},e.prototype.getCustomEmoji=function(){return null==this.customEmojis&&this._buildDisambiguatedCustomEmoji(),this.customEmojis},e.prototype.getByName=function(e){if(null==this.emojisByName&&this._buildDisambiguatedCustomEmoji(),Object.prototype.hasOwnProperty.call(this.emojisByName,e))return this.emojisByName[e]},e.prototype.getEmoticonByName=function(e){if(null==this.emoticonsByName&&this._buildDisambiguatedCustomEmoji(),Object.prototype.hasOwnProperty.call(this.emoticonsByName,e))return this.emoticonsByName[e]},e.prototype.getById=function(e){if(null==this.emojisById&&this._buildDisambiguatedCustomEmoji(),Object.prototype.hasOwnProperty.call(this.emojisById,e))return this.emojisById[e]},e.prototype.getCustomEmoticonRegex=function(){return null==this.escapedEmoticonNames&&this._buildDisambiguatedCustomEmoji(),null==this.emoticonRegex&&this.escapedEmoticonNames&&(this.emoticonRegex=new RegExp("^\\b("+this.escapedEmoticonNames+")\\b")),this.emoticonRegex},e.prototype.getFrequentlyUsedEmojis=function(){var e=this;return this.ensureDisambiguated(),null==this.frequentlyUsed&&(this.frequentlyUsed=[],C.default.each(R,function(t){var n=void 0;(n=t.id?e.getById(t.id):S.default.getByName(t.name))&&e.frequentlyUsed.push(n)})),this.frequentlyUsed},e.prototype.getEscapedCustomEmoticonNames=function(){return null==this.escapedEmoticonNames&&this._buildDisambiguatedCustomEmoji(),this.escapedEmoticonNames},e.prototype.nameMatchesChain=function(e){return(0,C.default)(this.getDisambiguatedEmoji()).filter(function(t){var n=t.names,r=t.name;return n?C.default.some(n,e):e(r)})},e.prototype._buildDisambiguatedCustomEmoji=function(){var e=this,t={},n=[];this.emoticonRegex=null,this.frequentlyUsed=null,this.disambiguatedEmoji=[],this.customEmojis={},this.emoticonsByName={},this.emojisByName={},this.emojisById={};var r=function(n){var r=n.name,a=t[r]||0;if(t[r]=a+1,a>0){var i=r+"~"+a;n=u({},n,{name:i,originalName:r,allNamesString:":"+i+":"})}e.emojisByName[n.name]=n,n.id&&(e.emojisById[n.id]=n,e.customEmojis[n.name]=n),e.disambiguatedEmoji.push(n)},a=function(t){Object.prototype.hasOwnProperty.call(e.emoticonsByName,t.name)||(n.push(v.default.escape(t.name)),e.emoticonsByName[t.name]=t)};S.default.forEach(r);var i=function(e){var t=L[e];t&&(C.default.each(t.usableEmojis,r),C.default.each(t.emoticons,a))};i(this.guildId),h.default.getSortedGuilds().forEach(function(t){var n=t.guild;n.id!==e.guildId&&i(n.id)}),this.escapedEmoticonNames=n.join("|")},e}();O._lastInstance=null;var N=/(?:<a?:\w+:(\d+)>)|:(?:([^\s:]+?)(?:::skin\-tone\-\d)?:)/g,M="EmojiUsageHistory",R=[],D=new x.default(function(){return 100},function(e){var t=0;return e<=3?t=100:e<=15?t=70:e<=30?t=50:e<=45?t=30:e<=80&&(t=10),t},function(e){var t=S.default.getByName(e);return t||(Object.prototype.hasOwnProperty.call(k,e)?k[e]:null)},function(e,t){E.default.set(M,e),O.resetFrequentlyUsed(),R=t,P=I.slice(0),C.default.some(L,function(e){return e.usableEmojis.length>0})||P.splice(I.indexOf(A),1)},40),P=I.slice(0),k={},L={},U="EmojiDiversitySurrogate",F=function(e){function t(){return a(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(g.default,p.default,m.default);var e=E.default.get(M);D.overwriteHistory(e),e&&Object.keys(e).length||(D.track("eggplant"),D.track("fork_and_knife"),D.track("yum"),D.track("weary"),D.track("tired_face"),D.track("poop"),D.track("ok_hand"),D.track("100")),S.default.setDefaultDiversitySurrogate(E.default.get(U))},t.prototype.getGuildEmoji=function(e){var t=L[e];return t&&t.usableEmojis||{}},t.prototype.filterExternal=function(e,t,n){var r=e.getGuildId(),a=O.get(r).nameMatchesChain(t).reject(function(t){return w.default.isEmojiDisabled(t,e)}),i=p.default.getCurrentUser();return e.isPrivate()||!i||T.default.can(y.Permissions.USE_EXTERNAL_EMOJIS,i,e)||(a=a.filter(function(e){return null==e.guildId||e.guildId===r})),n>0&&(a=a.take(n)),a.value()},t.prototype.getDisambiguatedEmojiContext=function(e){return O.get(e)},t.prototype.search=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.toLowerCase(),a=v.default.escape(r),i=new RegExp(""+a,"i"),o=i.test.bind(i),s=this.filterExternal(e,o);if(s.length){var c=new RegExp("^"+a,"i"),l=new RegExp("(^|_|[A-Z])"+a+"s?([A-Z]|_|$)"),u=l.test.bind(l),f=c.test.bind(c),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e.toLowerCase(),a=1+(n===r?4:0)+(u(n)||u(e)?2:0)+(f(e)?1:0),i=D.getScore(t);return null!=i&&(a*=i/100),a};s=C.default.orderBy(s,[function(e){return e.names?d(e.names[0]):d(e.name,e.id)},function(e){return e.names?e.names[0]:e.name}],["desc","asc"])}return n&&(s=s.slice(0,n)),s},l(t,[{key:"categories",get:function(){return P}},{key:"diversitySurrogate",get:function(){return S.default.getDefaultDiversitySurrogate()||""}}]),t}(f.default.Store);t.default=new F(d.default,{GUILD_MEMBER_UPDATE:function(e){var t=e.guildId;if(e.user.id===p.default.getCurrentUser().id){var n=L[t];s(t,n&&n.usableEmojis),o()}},CONNECTION_OPEN:function(e){L={},k={},O.reset(),e.guilds.forEach(function(e){return s(e.id,e.emojis)}),o()},GUILD_CREATE:c,GUILD_UPDATE:c,GUILD_EMOJIS_UPDATE:function(e){s(e.guildId,e.emojis),o()},GUILD_DELETE:function(e){i(e.guild.id),o()},MESSAGE_CREATE:function(e){if(!e.optimistic)return!1;for(var t=S.default.translateSurrogatesToInlineEmoji(e.message.content),n=b.default.getChannel(e.message.channelId),r=n?n.getGuildId():null,a=void 0,i=!1;null!==(a=N.exec(t));){var o=void 0;(o=a[1]?O.get(r).getById(a[1]):S.default.getByName(a[2]))&&(D.track(o.id||o.uniqueName||o.name),i=!0)}if(!i)return!1;D.compute()},MESSAGE_REACTION_ADD:function(e){if(!e.optimistic)return!1;var t=b.default.getChannel(e.channelId),n=t?t.getGuildId():null,r=void 0;if(null==(r=0!=e.emoji.id?O.get(n).getById(e.emoji.id):S.default.getByName(S.default.convertSurrogateToName(e.emoji.name,!1))))return!1;D.track(r.id||r.uniqueName||r.name),D.compute()},EMOJI_DIVERSITY_COLOR_CHANGE:function(e){var t=e.color;S.default.setDefaultDiversitySurrogate(t),E.default.set(U,t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return!k||!k.isPrivate()}function i(e,t){var n=!1;if(F.forEach(function(r,a){var i=t(r);if(i!==r[e]){var o;F[a]=y({},r,(o={},o[e]=i,o)),n=!0}}),!n)return!1;F=[].concat(F),l()}function o(e){var t=F,n=null;if(a()||null==k)F=P;else if(F=s(k.id),k.isDM()){var r=t.find(function(e){var t=e.user,n=e.calling;return t.id!==M.default.getId()&&n!==D.CallMemberStates.IN_CALL}),i=F.find(function(e){var t=e.user,n=e.calling;return t.id!==M.default.getId()&&n===D.CallMemberStates.IN_CALL});(t.length<F.length||null!=r&&null!=i)&&(n=null!=i?i.user.id:null)}if((0,x.default)(F,t))return null!=e&&(l(e),c(n,e)),!1;l(),c(n)}function s(e){var t=R.default.getCall(e),n=I.default.getChannel(e);return null==t||t.unavailable||null==n?P:(0,S.default)(n.recipients).map(T.default.getUser).unshift(T.default.getCurrentUser()).filter(function(e){return null!=e}).map(function(n){var r=C.default.getVoiceState(null,n.id),a=D.CallMemberStates.NONE;return null!=r&&r.channelId===e?a=D.CallMemberStates.IN_CALL:null!=t&&null!=t.ringing&&t.ringing.includes(n.id)&&(a=D.CallMemberStates.RINGING),{user:n,voiceState:r,calling:a,streamId:N.default.getStreamId(n.id),speaking:O.default.isSpeaking(n.id)}}).filter(function(e){return e.calling!==D.CallMemberStates.NONE}).value()}function c(e,t){if(null==(t=null==t&&null!=k?k.id:t))return!1;var n=s(t);if(0===n.length)return!1;var r=n.find(function(e){return e.user.id===M.default.getId()});if(!(null!=r&&r.calling===D.CallMemberStates.IN_CALL))return!1;var a=G[t];null!=e?b({participantId:e,channelId:t}):(null==a||n.length>0&&null==n.find(function(e){return e.user.id===a}))&&b({participantId:null,channelId:t})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=e){var t=s(e);B[e]=u(t)}else null!=k&&(B[k.id]=u(F))}function u(e){return e.some(function(e){return e.calling===D.CallMemberStates.IN_CALL&&null!=e.voiceState&&e.voiceState.selfVideo})?D.CallModes.VIDEO:D.CallModes.VOICE}function f(){return!a()&&i("speaking",function(e){return O.default.isSpeaking(e.user.id)})}function d(){return!a()&&i("streamId",function(e){return N.default.getStreamId(e.user.id)})}function p(){return!a()&&i("user",function(e){return T.default.getUser(e.user.id)})}function g(){if(a())return!1;var e=C.default.getVoiceStates(D.ME);if(U===e)return!1;U=e;var t=S.default.find(U,function(e){return e.userId===M.default.getId()});return o(t&&t.channelId)}function h(){if(L)return!1;return v(A.default.getChannelId())}function m(e){return o(e.channelId)}function b(e){var t=e.participantId,n=e.channelId;if(null==n)return!1;var r=I.default.getChannel(n);if(null!=r&&r.isDM()&&null==t&&!G.hasOwnProperty(n)){var a=M.default.getId(),i=F.find(function(e){var t=e.user,n=e.calling;return t.id!==a&&n===D.CallMemberStates.IN_CALL});G[n]=null!=i?i.user.id:a}else G[n]=t}function v(e){var t=null!=e?I.default.getChannel(e):null;return k!==t&&(k=t,o())}t.__esModule=!0,t.PrivateChannelCallStore=void 0;var _=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=r(n(7)),S=r(n(14)),x=r(n(147)),w=r(n(5)),T=r(n(58)),C=r(n(1291)),A=r(n(550)),I=r(n(74)),O=r(n(1355)),N=r(n(1859)),M=r(n(24)),R=r(n(1339)),D=n(4),P=Object.freeze([]),k=void 0,L=!1,U=void 0,F=P,B={},G={},j=t.PrivateChannelCallStore=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(R.default),this.syncWith([A.default,I.default],h),this.syncWith([T.default],p),this.syncWith([O.default],f),this.syncWith([N.default],d),this.syncWith([C.default],g)},t.prototype.getVisibleCallParticipants=function(){return F},t.prototype.getSelectedParticipantId=function(e){if(null==(e=e||(null!=k?k.id:null)))return null;return null!=R.default.getCall(e)?G[e]:null},t.prototype.getCallMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e?null!=k?B[k.id]:D.CallModes.VOICE:B[e]},t.prototype.isInCall=function(e,t){var n=s(t).find(function(t){return t.user.id===e});return null!=n&&n.calling===D.CallMemberStates.IN_CALL},_(t,[{key:"selectedParticipantIds",get:function(){return G}}]),t}(E.default.Store);t.default=new j(w.default,{CONNECTION_OPEN:h,CHANNEL_SELECT:h,CALL_CREATE:m,CALL_UPDATE:m,CALL_DELETE:function(e){var t=e.channelId;return delete G[t],o(t)},PRIVATE_CHANNEL_CALL_SELECT_PARTICIPANT:function(e){b({participantId:e.participantId,channelId:k&&k.id})},PRIVATE_CHANNEL_CALL_SELECT_CHANNEL:function(e){var t=e.channelId,n=e.force;return L=n,v(t)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return y={},d.default.forEach(h.default.getGuilds(),function(e){o(e.id)}),!0}function i(e,t){e.index=t}function o(e){if(null==e||null==h.default.getGuild(e))return!1;var t=g.default.getChannels(e),n={_categories:[],null:[]},r=function(e){var t=e.channel;(n[t.parent_id]||n.null).push({channel:t,index:-1})};return t[_.ChannelTypes.GUILD_CATEGORY].forEach(function(e){var t=e.channel;n._categories.push({channel:t,index:-1}),n[t.id]=[]}),t[_.ChannelTypes.GUILD_TEXT].forEach(r),t[_.ChannelTypes.GUILD_VOICE].forEach(r),(0,v.getFlattenedChannelList)(n._categories,n).forEach(i),y[e]=n,!0}function s(e){return o(e.guild.id)}function c(e){return o(e.channel.guild_id)}function l(e){return o(e.guildId)}function u(e,t){return E=t,null!=e&&null!=e.getGuildId()&&o(e.getGuildId())}t.__esModule=!0;var f=r(n(7)),d=r(n(14)),p=r(n(5)),g=r(n(207)),h=r(n(48)),m=r(n(24)),b=r(n(74)),v=n(1328),_=n(4),y={},E=null,S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(g.default,h.default,m.default,b.default)},t.prototype.getCategories=function(e){return function(e){return y[String(e)]||{_categories:[],null:[]}}(e)},t}(f.default.Store);t.default=new S(p.default,{CONNECTION_OPEN:function(){a()},GUILD_CREATE:s,GUILD_UPDATE:s,GUILD_SYNC:s,GUILD_DELETE:function(e){var t=e.guild.id;delete y[t]},CHANNEL_CREATE:c,CHANNEL_UPDATE:c,CHANNEL_DELETE:c,GUILD_MEMBER_UPDATE:function(e){return o(e.guildId)},USER_UPDATE:function(e){return e.user.id===m.default.getId()&&a()},GUILD_ROLE_CREATE:l,GUILD_ROLE_UPDATE:l,GUILD_ROLE_DELETE:l,VOICE_CHANNEL_SELECT:function(e){var t=e.channelId;return null==t&&null!=E?u(b.default.getChannel(E),null):u(b.default.getChannel(t),t)},VOICE_STATE_UPDATE:function(e){var t=e.channelId,n=e.sessionId;return m.default.getSessionId()===n&&u(b.default.getChannel(t),t)},VOICE_CHANNEL_CLEAR:function(){return u(b.default.getChannel(E),null)}}),e.exports=t.default},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=t&&u.default.register(e,t);var r=e.getExperimentId();return(0,a.default)({displayName:"ExperimentContainer",mixins:[i.default.LazyStoreListenerMixin(e,s.default,c.default,l.default,d.default)],getDefaultProps:function(){return{renderFunctions:t}},getInitialState:function(){return this.getStateFromStores()},shouldComponentUpdate:function(e,t){return!(0,o.default)(this.props,e)||t.guildId!==this.state.guildId||t.channelId!==this.state.channelId||!f.default.experimentDescriptorEquals(t.experimentDescriptor,this.state.experimentDescriptor)},getStateFromStores:function(){var t=this.props.guildId||c.default.getGuildId(),n=this.props.channelId||s.default.getChannelId(t),a=null;return a=d.default.getOverrideExperimentDescriptor(r)||e.getExperimentDescriptor(t,n),{guildId:t,channelId:n,experimentDescriptor:a}},getRenderFunction:function(){var e=this.state.experimentDescriptor,t=this.props.renderFunctions;if(null==e)return t[p.ExperimentTypes.NONE]||g;var n=e.type,r=e.bucket,a=t[n];return null==a?t[p.ExperimentTypes.NONE]||g:null!=a[r]?a[r]:t[p.ExperimentTypes.NONE]||g},handleExperimentTriggered:function(){var e=this.state.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,this.props))return;u.default.trigger(e)}},componentDidMount:function(){this.handleExperimentTriggered()},componentDidUpdate:function(e,t){var n=this.state.experimentDescriptor;f.default.experimentDescriptorEquals(n,t.experimentDescriptor)||this.handleExperimentTriggered()},render:function(){var e=this.getRenderFunction(),t=this.state.experimentDescriptor,n=this.props;return n.renderFunctions,e(function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["renderFunctions"]),t)}})};var a=r(n(548)),i=r(n(7)),o=r(n(572)),s=r(n(550)),c=r(n(205)),l=r(n(24)),u=r(n(214)),f=r(n(576)),d=r(n(76)),p=n(4),g=function(){return null};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(14)),s=r(n(15)),c=r(n(7)),l=r(n(48)),u=r(n(202)),f=r(n(58)),d=r(n(101)),p=r(n(1288)),g=r(n(1283)),h=r(n(1381)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(86)),b=r(n(1372)),v=r(n(54)),_=n(85),y=n(580),E=n(1308),S=n(4),x=r(n(83)),w=r(n(1433)),T=r(n(1305)),C=r(n(1587)),A=r(n(1853)),I=r(n(1854)),O=r(n(4612)),N=r(n(1635)),M=r(n(21)),R=r(n(4617)),D=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n)),a=void 0,i=void 0;return null!=n.activity&&(a=n.activity.party,i=n.activity.assets),v.default.track(S.AnalyticEvents.OPEN_POPOUT,{type:"Profile Popout",other_user_id:n.user.id,application_id:null!=n.activity?n.activity.application_id:void 0,is_friend:g.default.isFriend(n.user.id),has_images:!(null==i||!i.large_image&&!i.small_image),party_max:null!=a&&null!=a.size?a.size[1]:void 0,party_id:null!=a?a.id:void 0}),o.default.bindAll(r,["handleOpenProfile","close"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){var e=this.props.onClose;e&&e()},t.prototype.getMode=function(){var e=this.props.activity;return null==e?"Normal":(0,E.isStreaming)(e)?"Streaming":(0,E.isListeningOnSpotify)(e)?"Spotify":"Playing"},t.prototype.getStatusMode=function(){var e=this.props,t=e.activity,n=e.status;return(0,E.isStreaming)(t)?"Streaming":(0,y.upperCaseFirstChar)(n)},t.prototype.getNonUserBotMode=function(){return this.props.user.isNonUserBot()?"NonUserBot":"Normal"},t.prototype.renderHeader=function(){var e=this.props,t=e.user,n=e.nickname,r=e.status,i=e.theme,o=m.hasAnimatedAvatar(t)?t.getAvatarURL("gif"):t.getAvatarURL(),s=t.isNonUserBot(),c=this.getMode(),l=this.getNonUserBotMode();return a("div",{className:(0,_.getClass)(R.default,"header",c)},void 0,a(x.default,{align:x.default.Align.CENTER,justify:x.default.Justify.CENTER,direction:x.default.Direction.VERTICAL,className:R.default.headerTop},void 0,a("div",{className:(0,_.getClass)(R.default,"avatarWrapper",l),onClick:s?null:this.handleOpenProfile},void 0,a(T.default,{src:o,size:T.default.Sizes.POPOUT,status:r,statusClass:R.default.avatarStatus}),a(x.default,{align:x.default.Align.CENTER,justify:x.default.Justify.CENTER,className:R.default.avatarHint},void 0,a("div",{className:R.default.avatarHintInner},void 0,M.default.Messages.VIEW_PROFILE))),a("div",{className:R.default.headerText},void 0,null!=n?a("div",{className:R.default.headerName},void 0,n):null,a(w.default,{user:t,invertBotTagColor:i!==S.ThemeTypes.LIGHT||"Normal"!==c,hideDiscriminator:s,className:null==n?R.default.headerTagNoNickname:R.default.headerTag,usernameClass:null==n?R.default.headerTagUsernameNoNickname:null,discriminatorClass:R.default.headerDiscriminator,botClass:R.default.headerBotTag}))),this.renderActivity())},t.prototype.renderActivity=function(){var e=this.props,t=e.activity,n=e.user;return null==t?null:a(C.default,{type:C.default.Types.USER_POPOUT,activity:t,className:R.default.activity,user:n,source:"Profile Popout"},"activity")},t.prototype.renderRoles=function(){var e=this.props,t=e.guild,n=e.user,r=e.guildMember,i=e.popoutKey;return null==t||null==r?null:[a("div",{className:R.default.bodyTitle},"title",M.default.Messages.ROLES_LIST.format({numRoles:r.roles.length})),a(N.default,{className:(0,s.default)(R.default.rolesList,R.default.endBodySection),guild:t,user:n,userRoles:r.roles,popoutKey:i},"roles")]},t.prototype.renderNote=function(){var e=this.props,t=e.user,n=e.setNote;return[a("div",{className:R.default.bodyTitle},"title",M.default.Messages.NOTE),a(A.default,{className:R.default.note,userId:t.id,autoFocus:n},"note")]},t.prototype.renderBody=function(){return this.props.user.isNonUserBot()?null:a("div",{className:R.default.body},void 0,this.renderRoles(),this.renderNote())},t.prototype.renderFooter=function(){var e=this.props,t=e.user,n=e.setNote,r=e.isMe;if(t.isNonUserBot())return null;var i=!r&&(g.default.isFriend(t.id)||null!=u.default.memberOf(t.id).find(function(e){return!d.default.isGuildRestricted(e)}));return a("div",{className:R.default.footer},void 0,i?a(O.default,{className:R.default.quickMessage,user:t,autoFocus:!n,onClose:this.close}):null,a(I.default,{type:"inline",tip:M.default.Messages.CONTEXT_MENU_HINT,className:R.default.protip}))},t.prototype.render=function(){return a("div",{className:R.default.userPopout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},t.prototype.handleOpenProfile=function(){h.default.open(this.props.user.id),this.close()},t}(i.default.PureComponent);t.default=c.default.connectStores([l.default,u.default,p.default,d.default,f.default],function(e){var t=e.user,n=e.guildId,r=e.channelId;return t=f.default.getUser(t.id)||t,{user:t,guild:l.default.getGuild(n),nickname:b.default.getNickname(n,r,t),guildMember:null!=n?u.default.getMember(n,t.id):null,activity:p.default.getActivity(t.id),status:t.isNonUserBot()?null:p.default.getStatus(t.id),isMe:f.default.getCurrentUser()===t,theme:d.default.theme}})(D),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return c.default.get(p.Endpoints.USER_PROFILE(e)).then(function(e){s.default.dispatch({type:p.ActionTypes.USER_UPDATE,user:e.body.user}),s.default.dispatch(o({type:p.ActionTypes.USER_PROFILE_MODAL_FETCH_SUCCESS},e.body))},function(e){return null!=e&&null!=e.body&&console.warn("fetchProfile error: "+e.body.code+" - "+e.body.message),Promise.reject(e)})}function i(e){s.default.dispatch({type:p.ActionTypes.USER_PROFILE_MODAL_OPEN,userId:e});var t=u.default.getActivity(e),n=void 0,r=void 0;null!=t&&(n=t.party,r=t.assets),d.default.track(p.AnalyticEvents.OPEN_MODAL,{type:"Profile Modal",other_user_id:e,application_id:null!=t?t.application_id:null,is_friend:f.default.isFriend(e),has_images:!(null==r||!r.large_image&&!r.small_image),party_max:null!=n&&null!=n.size?n.size[1]:void 0,party_id:null!=n?n.id:void 0})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=r(n(5)),c=r(n(39)),l=r(n(58)),u=r(n(1288)),f=r(n(1283)),d=r(n(54)),p=n(4);t.default={open:function(e){var t=l.default.getUser(e);if(null==t)return a(e).then(function(){return i(e)});t.bot||a(e),i(e)},push:function(e){a(e),s.default.dispatch({type:p.ActionTypes.USER_PROFILE_MODAL_PUSH,userId:e})},pop:function(){s.default.dispatch({type:p.ActionTypes.USER_PROFILE_MODAL_POP})},close:function(){s.default.dispatch({type:p.ActionTypes.USER_PROFILE_MODAL_CLOSE})},setSection:function(e){s.default.dispatch({type:p.ActionTypes.USER_PROFILE_MODAL_SET_SECTION,section:e})},fetchMutualFriends:function(e){c.default.get(p.Endpoints.USER_RELATIONSHIPS(e)).then(function(t){s.default.dispatch({type:p.ActionTypes.LOAD_MUTUAL_FRIENDS,userId:e,mutualFriends:t.body})})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e=e.toLowerCase(),p.default.isWindows()&&(e=(e=e.replace(/^[a-z]:/,"")).replace(/\\/g,"/")),e}function i(e){e&&((e=a(e)).endsWith("/")||(e+="/"),h.push(e))}function o(e,t){d.default.launchGame(e).then(function(){return d.default.waitConnected(e)}).then(function(){return Promise.race([d.default.waitSubscribed(e,l.RPCEvents.ACTIVITY_JOIN),d.default.waitSubscribed(e,l.RPCEvents.GAME_JOIN)])}).then(function(){return c.default.dispatch({type:l.ActionTypes.ACTIVITY_JOIN,applicationId:e,secret:t})}).catch(function(){return c.default.dispatch({type:l.ActionTypes.ACTIVITY_JOIN_FAILED,applicationId:e})})}t.__esModule=!0;var s=r(n(14)),c=r(n(5)),l=n(4),u=r(n(1315)),f=r(n(39)),d=r(n(1487)),p=r(n(22)),g=null,h=[],m="dosbox.exe";t.default={addGame:function(e){c.default.dispatch({type:l.ActionTypes.RUNNING_GAME_ADD_OVERRIDE,pid:e})},toggleOverlay:function(e){c.default.dirtyDispatch({type:l.ActionTypes.RUNNING_GAME_TOGGLE_OVERLAY,game:e})},editName:function(e,t){c.default.dispatch({type:l.ActionTypes.RUNNING_GAME_EDIT_NAME,game:e,newName:t})},identifyGame:function(e,t){return p.default.ensureModule("discord_game_utils").then(function(){g=p.default.requireModule("discord_game_utils");var e=p.default.require("process").env,t=p.default.require("electron").remote.app.getPath;p.default.isWindows()&&(i(e.LOCALAPPDATA),i(e["PROGRAMFILES(X86)"]),i(e.PROGRAMFILES),i(e.PROGRAMW6432),i(e.PROGRAMDATA),i("/games/")),i(t("home")),i(t("appData")),i(t("desktop")),i(t("documents")),i(t("downloads")),(h=s.default.uniq(h)).sort(function(e,t){return t.length-e.length})}).catch(function(e){console.error("could not load discord_game_utils",e)}).then(function(){return new Promise(function(t,n){null!=g?g.identifyGame(e,function(r,a){0==r?a.icon&&a.name?(c.default.dispatch({type:l.ActionTypes.GAME_ICON_UPDATE,gameName:a.name,icon:"data:image/png;base64,"+a.icon}),t(a)):n("Did not find data on "+e):n("Error "+r+" when fetching info on "+e)}):n("Game utils module not loaded")})})},getGames:function(){f.default.get({url:l.Endpoints.GAMES_DATABASE,headers:{"If-None-Match":u.default.etag},retries:1}).then(function(e){var t=e.body,n=e.headers.etag;c.default.dispatch({type:l.ActionTypes.GAMES_DATABASE_UPDATE,games:t,etag:n})},function(e){304===e.status&&c.default.dispatch({type:l.ActionTypes.GAMES_DATABASE_UPDATE,games:[],etag:u.default.etag})})},getGameNews:function(e){s.default.chunk(e,l.MAX_GAMES_NEWS).map(function(e){var t=e.map(function(e){return"game_ids="+e}).join("&");f.default.get({url:l.Endpoints.GAME_NEWS,query:t}).then(function(t){c.default.dispatch({type:l.ActionTypes.GAME_NEWS_UPDATE,gameNews:t.body,gameIds:e})},function(){c.default.dispatch({type:l.ActionTypes.GAME_NEWS_UPDATE,gameNews:[],gameIds:e})})})},readNews:function(e){c.default.dispatch({type:l.ActionTypes.GAME_NEWS_READ,gameId:e})},hideNews:function(e){c.default.dispatch({type:l.ActionTypes.GAME_NEWS_HIDE,gameId:e})},reportUnverifiedGame:function(e){var t=e.name,n=e.iconHash,r=e.publisher,i=e.distributor,o=e.distributorId,s=e.executableName;f.default.post({url:l.Endpoints.UNVERIFIED_GAMES,body:{name:t,os:p.default.platform,icon:n,distributor_game:function(e,t){return null==e||""===e?null:{distributor:e,sku:t}}(i,o),executable:function(e,t){e=a(e);var n=!1;return h.forEach(function(t){!n&&e.startsWith(t)&&(e=e.substr(t.length),n=!0)}),n||(e=e.split("/").pop()),t||(e=e.includes(m)?e.split("/").slice(-3).join("/"):e.split("/").slice(-2).join("/")),e}(s,!1),publisher:r,report_version:l.GAME_REPORT_VERSION},retries:1}).then(function(e){var t=e.body,n=t.name,r=t.hash,a=t.missing_data;c.default.dispatch({type:l.ActionTypes.UNVERIFIED_GAME_UPDATE,name:n,hash:r,missingData:a})})},uploadIcon:function(e,t,n){f.default.post({url:l.Endpoints.UNVERIFIED_GAMES_ICONS,body:{game_name:e,game_hash:t,icon:n},retries:1})},deleteEntry:function(e){c.default.dispatch({type:l.ActionTypes.RUNNING_GAME_DELETE_ENTRY,game:e})},checkLaunchable:function(e){var t=u.default.isLaunchable(e),n=u.default.getGame(e);null!=n&&d.default.isLaunchable(n).then(function(n){n!=t&&c.default.dispatch({type:l.ActionTypes.GAME_LAUNCHABLE_UPDATE,gameId:e,isLaunchable:n})})},launch:function(e){var t=u.default.getGame(e);return null!=t?d.default.launch(t):Promise.reject()},join:function(e,t,n,r,a){c.default.dispatch({type:l.ActionTypes.ACTIVITY_JOIN_LOADING,applicationId:n});var i=void 0;r&&a&&(i={channel_id:r,message_id:a}),f.default.get({url:l.Endpoints.USER_ACTIVITY_JOIN(e,t),retries:3,query:i}).then(function(e){return o(n,e.body.secret)},function(){return c.default.dispatch({type:l.ActionTypes.ACTIVITY_JOIN_FAILED,applicationId:n})})},joinWithSecret:o,spectate:function(e,t,n,r,a){c.default.dispatch({type:l.ActionTypes.ACTIVITY_SPECTATE_LOADING,applicationId:n});var i=void 0;r&&a&&(i={channel_id:r,message_id:a}),f.default.get({url:l.Endpoints.USER_ACTIVITY_SPECTATE(e,t),retries:3,query:i}).then(function(e){var t=e.body.secret;d.default.launchGame(n).then(function(){return d.default.waitConnected(n)}).then(function(){return Promise.race([d.default.waitSubscribed(n,l.RPCEvents.ACTIVITY_SPECTATE),d.default.waitSubscribed(n,l.RPCEvents.GAME_SPECTATE)])}).then(function(){return c.default.dispatch({type:l.ActionTypes.ACTIVITY_SPECTATE,applicationId:n,secret:t})}).catch(function(){return c.default.dispatch({type:l.ActionTypes.ACTIVITY_SPECTATE_FAILED,applicationId:n})})},function(){return c.default.dispatch({type:l.ActionTypes.ACTIVITY_SPECTATE_FAILED,applicationId:n})})}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1280);t.default={componentDidMount:function(){if("function"==typeof this.getSubscriptions){this._subscriptions=this.getSubscriptions();for(var e in this._subscriptions)this._subscriptions.hasOwnProperty(e)&&r.ComponentDispatch.subscribe(e,this._subscriptions[e])}},componentWillUnmount:function(){for(var e in this._subscriptions)this._subscriptions.hasOwnProperty(e)&&r.ComponentDispatch.unsubscribe(e,this._subscriptions[e])}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return Object.keys(s.default.getGuilds()).some(function(t){return u.default.shouldShowForGuild(t)&&null!=c.default.getMember(t,e)})}t.__esModule=!0,t.isMemberOfGuildToShowInActivityFeed=a,t.shouldGetUpdatesAboutUser=function(e){var t=f.default.getBucket();return i.default.getId()!==e&&!o.default.isBlocked(e)&&(t===p.ExperimentBuckets.TREATMENT_1?u.default.shouldShowFriends&&o.default.isFriend(e)||a(e):t===p.ExperimentBuckets.TREATMENT_2&&(o.default.isFriend(e)||function(e){return Object.keys(s.default.getGuilds()).some(function(t){var n=l.default.getMemberCount(t);return c.default.isMember(t,e)&&null!=n&&n<=p.ACTIVITY_FEED_MEMBER_LIMIT_THRESHOLD})}(e)))},t.getAllActivities=function(){var e=Object.keys(s.default.getGuilds()).filter(function(e){return u.default.shouldShowForGuild(e)});d.default.getActivities(e)};var i=r(n(24)),o=r(n(1283)),s=r(n(48)),c=r(n(202)),l=r(n(213)),u=r(n(1409)),f=r(n(570)),d=r(n(1491)),p=n(4)},function(e,t,n){"use strict";e.exports=function(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}},function(e,t,n){"use strict";(function(t,r){function a(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function i(e,n){if(e>65536)throw new Error("requested too many random bytes");var a=new t.Uint8Array(e);e>0&&s.getRandomValues(a);var i=o.from(a.buffer);return"function"==typeof n?r.nextTick(function(){n(null,i)}):i}var o=n(1282).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=i:e.exports=a}).call(t,n(13),n(87))},function(e,t,n){function r(e,t){this._block=a.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var a=n(1282).Buffer;r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=a.from(e,t));for(var n=this._block,r=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var c=o%r,l=Math.min(i-s,r-c),u=0;u<l;u++)n[c+u]=e[s+u];s+=l,(o+=l)%r==0&&this._update(n)}return this._len+=i,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=4294967295&n,a=(n-r)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,n){"use strict";var r=n(4823),a=n(4824),i=n(4825);e.exports=function(e){var t=document.createElement("iframe"),n=i({},a,e);return n.style&&"string"!=typeof n.style&&(i(t.style,n.style),delete n.style),r(t,n),t.getAttribute("id")||(t.id=t.name),t}},function(e,t,n){"use strict";e.exports=function(e){return e?"":".min"}},function(e,t,n){"use strict";(function(t){e.exports=function(e){return e=e||t.navigator.userAgent,/iPhone|iPod|iPad/i.test(e)}}).call(t,n(13))},function(e,t,n){var r=n(1715);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(1536),a=n(1538);e.exports=function(e){return r(a(e))}},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(5)),o=n(4),s=r(n(54)),c=r(n(39));t.default={fetch:function(){c.default.get(o.Endpoints.CONNECTIONS).then(function(e){return i.default.dispatch({type:o.ActionTypes.USER_CONNECTIONS_UPDATE,local:!0,accounts:e.body})},function(){return i.default.dispatch({type:o.ActionTypes.USER_CONNECTIONS_UPDATE,local:!0,accounts:[]})})},authorize:function(e,t){return s.default.track(o.AnalyticEvents.CONNECTED_ACCOUNT_INITIATED,{platform_type:e,location:t}),c.default.get(o.Endpoints.CONNECTIONS_AUTHORIZE(e))},callback:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.default.post({url:o.Endpoints.CONNECTIONS_CALLBACK(e),body:a({},t,{insecure:n,friend_sync:o.FRIEND_SYNC_PLATFORM_TYPES.has(e)})})},connect:function(e,t,n,r){c.default.put({url:o.Endpoints.CONNECTION(e,encodeURIComponent(t)),body:{name:n,friend_sync:o.FRIEND_SYNC_PLATFORM_TYPES.has(e)},context:{location:r}})},disconnect:function(e,t){c.default.delete(o.Endpoints.CONNECTION(e,encodeURIComponent(t)))},setVisibility:function(e,t,n){return this.update(e,t,{visibility:n})},setFriendSync:function(e,t,n){return this.update(e,t,{friend_sync:n})},setShowActivity:function(e,t,n){return this.update(e,t,{show_activity:n})},update:function(e,t,n){return c.default.patch({url:o.Endpoints.CONNECTION(e,encodeURIComponent(t)),body:n})},joinServer:function(e){i.default.dispatch({type:o.ActionTypes.USER_CONNECTIONS_INTEGRATION_JOINING,integrationId:e,joining:!0}),c.default.post(o.Endpoints.INTEGRATIONS_JOIN(e),function(){i.default.dispatch({type:o.ActionTypes.USER_CONNECTIONS_INTEGRATION_JOINING,integrationId:e,joining:!1})})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return c.default.post({url:u.Endpoints.CALL_RING(e),body:{recipients:t}})}t.__esModule=!0;var i=r(n(5)),o=r(n(1339)),s=r(n(58)),c=r(n(39)),l=r(n(21)),u=n(4),f=r(n(143)),d=r(n(1300)),p=r(n(1361)),g=r(n(54));t.default={call:function(e,t,n,r){var a=this,i=function(n){f.default.selectVoiceChannel(null,e,t),n&&a.ring(e)};if(null!=r){var o=s.default.getUser(r);c.default.get({url:u.Endpoints.CALL(e)}).then(function(e){i(n&&e.body.ringable)},function(){g.default.track("open_popout",{type:"Not Friend",source:"Call"}),d.default.show({title:l.default.Messages.START_CALL,body:l.default.Messages.CALL_INVITE_NOT_FRIENDS.format({username:o.username}),confirmText:l.default.Messages.ADD_FRIEND_BUTTON,cancelText:l.default.Messages.OKAY,onConfirm:function(){p.default.addRelationship(o.id,{location:"Call"})}})})}else i(n)},ring:function(e,t){var n=o.default.getCall(e);null==n||null==n.messageId||o.default.isCallUnavailable(e)?i.default.dispatch({type:u.ActionTypes.CALL_ENQUEUE_RING,channelId:e,recipients:t}):a(e,t)},doRing:a,stopRinging:function(e,t){return c.default.post({url:u.Endpoints.CALL_STOP_RINGING(e),body:{recipients:t}})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){try{var t=m.default.parse(e);return t.hostname=b.default.toASCII(t.hostname||""),m.default.format(t)}catch(t){return e}}function i(e){var t=a(e[1]);return{type:"link",content:[{type:"text",content:t}],target:t,title:void 0}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(4),c=r(n(218)),l=r(n(58)),u=r(n(74)),f=r(n(48)),d=r(n(1372)),p=r(n(140)),g=r(n(1360)),h=r(n(14)),m=r(n(219)),b=r(n(606)),v=void 0;v=n(4414);var _={newline:c.default.defaultRules.newline,paragraph:c.default.defaultRules.paragraph,escape:c.default.defaultRules.escape,link:o({},c.default.defaultRules.link,{parse:function(e,t,n){var r=c.default.unescapeUrl(e[2]);return/^https?:\/\//i.test(r)?{content:t(e[1],n),target:a(r),title:e[3]}:t(e[1],n)}}),autolink:o({},c.default.defaultRules.autolink,{parse:i}),url:o({},c.default.defaultRules.url,{match:function(e,t){if(!t.inline)return null;var n=/^((?:https?|steam):\/\/[^\s<]+[^<.,:;"'\]\s])/.exec(e);if(null!=n){for(var r=0,a=n[0],i=a.length-1;i>=0&&")"===a[i];i--){var o=a.indexOf("(",r);if(-1===o){a=a.slice(0,a.length-1);break}r=o+1}n[0]=n[1]=a}return n},parse:i}),strong:c.default.defaultRules.strong,em:c.default.defaultRules.em,u:c.default.defaultRules.u,br:c.default.defaultRules.br,text:c.default.defaultRules.text,inlineCode:c.default.defaultRules.inlineCode,emoticon:{order:c.default.defaultRules.text.order,match:function(e){return/^(\\_\(\)_\/)/.exec(e)},parse:function(e){return{type:"text",content:e[1]}}},codeBlock:{order:c.default.defaultRules.codeBlock.order,match:function(e){return/^```(([A-z0-9\-]+?)\n+)?\n*([^]+?)\n*```/.exec(e)},parse:function(e){return{lang:(e[2]||"").trim(),content:e[3]||""}}},roleMention:{order:c.default.defaultRules.text.order,match:function(e){return/^<@&(\d+)>/.exec(e)},parse:function(e,t,n){e[0];var r=e[1],a=u.default.getChannel(n.channelId),i=a?a.getGuildId():null,o=i?f.default.getGuild(i):null,s=o?o.roles[r]:null;return null==s?{type:"text",content:"@deleted-role"}:{type:"mention",color:s.color,content:[{type:"text",content:"@"+s.name}]}}},mention:{order:c.default.defaultRules.text.order,match:function(e){return/^<@!?(\d+)>|^(@(?:everyone|here))/.exec(e)},parse:function(e,t,n){var r=void 0,a=void 0,i=l.default.getUser(e[1]);if(null!=i){a=i.id,r=i.toString();var o=u.default.getChannel(n.channelId);null!=o&&(r=d.default.getNickname(o.getGuildId(),n.channelId,i)||r)}return{userId:a,channelId:n.channelId,content:[{type:"text",content:null!=r?"@"+r:e[0]}]}}},channel:{order:c.default.defaultRules.text.order,match:function(e){return/^<#(\d+)>/.exec(e)},parse:function(e){var t=u.default.getChannel(e[1]),n=l.default.getCurrentUser();return t&&t.type===s.ChannelTypes.GUILD_TEXT&&p.default.can(s.Permissions.VIEW_CHANNEL,n,t)?{channelId:null!=t?t.id:null,guildId:null!=t?t.guild_id:null,content:[{type:"text",content:null!=t?"#"+t.toString():"#deleted-channel"}]}:{type:"text",content:null!=t?"#"+t.toString():"#deleted-channel"}}},emoji:{order:c.default.defaultRules.text.order,match:function(e){return g.default.EMOJI_NAME_RE.exec(e)},parse:function(e){var t=g.default.convertNameToSurrogate(e[1]);return{type:"text",content:t||":"+e[1]+":"}}},customEmoji:{order:c.default.defaultRules.text.order,match:function(e){return/^<a?:(\w+):(\d+)>/.exec(e)},parse:function(e){return{type:"text",content:":"+e[1]+":"}}},s:{order:c.default.defaultRules.u.order,match:c.default.inlineRegex(/^~~([\s\S]+?)~~(?!_)/),parse:c.default.defaultRules.u.parse}},y=v.createRules(o({},_,{link:o({},_.link,{match:function(){return null}})})),E=o({},h.default.omit(y,["inlineCode","codeBlock","br"]),{codeBlock:o({},y.codeBlock,{react:y.text.react})}),S=v.createRules(_),x=h.default.omit(y,["codeBlock","br","mention","channel","roleMention"]);t.default=o({},v,{getDefaultRules:function(){return o({},y)},parse:v.parserFor(y),parseAllowLinks:v.parserFor(S),parseTopic:v.parserFor(E),parseEmbedTitle:v.parserFor(x),parseReturnTree:v.parserFor(y,!0)}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=(r(n(3)),r(n(548))),o=r(n(549)),s=r(n(21)),c=r(n(7)),l=n(1400),u=r(n(1275)),f=r(n(1299)),d=r(n(101)),p=r(n(1277)),g=(0,i.default)({displayName:"DeveloperModeGroup",mixins:[c.default.StoreListenerMixin(d.default),o.default],getStateFromStores:function(){return{developerMode:d.default.developerMode}},render:function(){return this.state.developerMode&&l.SUPPORTS_COPY?a(f.default,{},void 0,a(u.default,{label:s.default.Messages.COPY_ID,action:this.handleCopyID})):null},handleCopyID:function(e){p.default.close();var t=this.props,n=t.shiftId,r=t.id,a=n&&e.shiftKey?n:r;(0,l.copy)(a)}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.SUPPORTS_COPY=void 0,t.copy=function(e){return!!i&&(r.default.embedded?(r.default.copy(e),!0):a.copy(e))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(22)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4624)),i=t.SUPPORTS_COPY=function(){if(r.default.embedded)return!!r.default.copy;try{return document.queryCommandEnabled("copy")||document.queryCommandSupported("copy")}catch(e){return!1}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(547)),o=r(n(3)),s=r(n(548)),c=r(n(204)),l=r(n(15)),u=r(n(1362)),f=r(n(101)),d=r(n(1344)),p=(0,s.default)({displayName:"SubMenuItem",mixins:[d.default],propTypes:{label:i.default.oneOfType([i.default.string,i.default.array]).isRequired,render:i.default.oneOfType([i.default.array,i.default.func]).isRequired,invertChildY:i.default.bool,disabled:i.default.bool,action:i.default.func},getInitialState:function(){return{open:!1,position:{top:0,left:0},theme:f.default.theme}},uiMenuNode:null,_timer:null,componentDidMount:function(){this.uiMenuNode=c.default.findDOMNode(this)},render:function(){var e=this.props,t=e.label,n=e.render,r=e.disabled,i=e.action,s=e.invertChildY,c="function"==typeof n?n():n.filter(function(e){return e});if(0===c.length)return null;var f=s?30*(Math.min(c.length,9)-1):0,d=void 0,p={className:"context-menu",style:{top:this.state.position.top-f,left:this.state.position.left},onClick:function(e){e.stopPropagation()}};return this.state.open&&(d=c.length<=9?o.default.createElement("div",p,c):o.default.createElement("div",p,a(u.default,{isContextMenu:!0,theme:this.state.theme},void 0,c))),a("div",{className:(0,l.default)("item item-subMenu",{"item-subMenu-has-scroller":c.length<=9}),onClick:r?function(){}:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,t,d)},handleMouseEnter:function(){if(this.clearTimeout(this._timer),this.uiMenuNode&&!this.props.disabled){var e=this.uiMenuNode.getBoundingClientRect(),t=e.top,n=e.left;this.setState({open:!0,position:{top:t-2,left:n}})}},handleMouseLeave:function(){var e=this;this.clearTimeout(this._timer),this._timer=this.setTimeout(function(){e.setState({open:!1})},100)}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){if(L&&e.id===y.default.getChannelId())return!1;if(e.isManaged()&&!e.isParty())return!1;var r=T.default.getName(e.getGuildId(),e.id,n),a=r;switch(e.type){case I.ChannelTypes.GUILD_TEXT:var i=b.default.getChannel(e.parent_id);if(t.type===I.MessageTypes.DEFAULT)a=B(a,e,i);else{null!=v.default.getGuild(e.getGuildId())&&(a=B(a,e,i))}break;case I.ChannelTypes.GROUP_DM:e.isManaged()&&n.bot&&a==e||(a=a+" ("+e.toString(!0)+")")}var o=t.content;if(t.type!==I.MessageTypes.DEFAULT&&null==(o=m.default.stringify(t)))return console.warn("SystemMessageUtils.stringify(...) could not convert",t),!1;var s=void 0;if(null!=t.activity&&null!=t.application){var c=t.activity.type===I.ActivityActionTypes.JOIN,l=void 0;switch(e.type){case I.ChannelTypes.GUILD_TEXT:l=c?O.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_JOIN:O.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_SPECTATE;break;case I.ChannelTypes.GROUP_DM:l=c?O.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_JOIN:O.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_SPECTATE;break;default:l=c?O.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN:O.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_SPECTATE}s=l.format({user:r,game:t.application.name})}else s=h.default.unparse(o,e.id);if(!s.length&&t.attachments.length){var p=t.attachments[0].filename;s=O.default.Messages.NOTIFICATION_BODY_ATTACHMENT.format({filename:p})}if(!s.length&&t.embeds.length){var _=t.embeds[0];if(null!=_.description)s=null!=_.title?_.title+": "+_.description:_.description;else if(null!=_.title)s=_.title;else if(null!=_.fields){var E=_.fields[0];s=E.name+": "+E.value}}var S=n.getAvatarURL();u.default.dirtyDispatch({type:I.ActionTypes.RPC_NOTIFICATION_CREATE,channelId:e.id,message:t,icon:S,title:a,body:s});var x=-1===k.disabledSounds.indexOf(M);if(k.desktopType===I.DesktopNotificationTypes.NEVER)return x&&g.playSound(M,R),!1;var A=f.default.showNotification(S,a,s,{tag:e.id,sound:x?M:null,volume:R,onClick:function(){w.default.track(I.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:I.ActionTypes.MESSAGE_CREATE,notif_user_id:t.author.id,message_id:t.id,message_type:t.type,channel_id:e.id,channel_type:e.type,guild_id:e.guild_id}),d.default.transitionTo(I.Routes.CHANNEL(e.getGuildId()||I.ME,e.id)),C.default.clickedNotification()}});null!=A&&F.track(e.id,A)}function o(e){var t=e.desktopType;k.desktopType=t,l.default.set(N,k),w.default.track(I.AnalyticEvents.LOCAL_SETTINGS_UPDATED,{notifications_enabled:t===I.DesktopNotificationTypes.ALL})}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=r(n(7)),l=r(n(40)),u=r(n(5)),f=r(n(1653)),d=r(n(49)),p=r(n(22)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1438)),h=r(n(1359)),m=r(n(1866)),b=r(n(74)),v=r(n(48)),_=r(n(58)),y=r(n(550)),E=r(n(1311)),S=r(n(1371)),x=r(n(1283)),w=r(n(54)),T=r(n(1372)),C=r(n(1516)),A=r(n(1297)),I=n(4),O=r(n(21)),N="notifications",M="message1",R=.4,D="message2",P=.4,k={},L=p.default.hasFocus(),U=I.NotificationPermissionTypes.NEVER,F=new(function(){function e(){a(this,e),this._channels={}}return e.prototype.track=function(e,t){var n=this._channels[e];for(null==n&&(n=[],this._channels[e]=n),n.push(t);n.length>5;)n.shift().close()},e.prototype.clearChannel=function(e){var t=this._channels[e];null!=t&&(delete this._channels[e],t.forEach(function(e){return e.close()}))},e}()),B=function(e,t,n){return e+" ("+t.toString(!0)+(null!=n?", "+n.toString():"")+")"},G=function(e){function t(){return a(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){(k=l.default.get(N)||k).disabledSounds=k.disabledSounds||[],k.disableUnreadBadge=k.disableUnreadBadge||!1,k.taskbarFlash=null==k.taskbarFlash||k.taskbarFlash,k.ttsType=k.ttsType||I.TTSNotificationTypes.NEVER,null==k.desktopType&&(k.desktopType=p.default.embedded?I.DesktopNotificationTypes.ALL:I.DesktopNotificationTypes.NEVER),U=f.default.hasPermission()?I.NotificationPermissionTypes.ENABLED:I.NotificationPermissionTypes.NEVER,this.waitFor(_.default,b.default)},t.prototype.getDesktopType=function(){return k.desktopType},t.prototype.getTTSType=function(){return k.ttsType},t.prototype.getDisabledSounds=function(){return k.disabledSounds},t.prototype.getDisableUnreadBadge=function(){return k.disableUnreadBadge},t.prototype.isSoundDisabled=function(e){return-1!==k.disabledSounds.indexOf(e)},t.prototype.isFocused=function(){return L},s(t,[{key:"taskbarFlash",get:function(){return k.taskbarFlash}}]),t}(c.default.Store);t.default=new G(u.default,{NOTIFICATIONS_SET_DESKTOP_TYPE:o,NOTIFICATIONS_SET_TTS_TYPE:function(e){var t=e.ttsType;k.ttsType=t,l.default.set(N,k)},NOTIFICATIONS_SET_DISABLED_SOUNDS:function(e){var t=e.sounds;k.disabledSounds=t,l.default.set(N,k)},NOTIFICATIONS_SET_PERMISSION_STATE:function(e){var t=e.enabled,r=e.source;U=t,w.default.track("enable_notifications",{enabled:t===I.NotificationPermissionTypes.ENABLED,source:r}),U===I.NotificationPermissionTypes.BLOCKED?o({desktopType:I.DesktopNotificationTypes.NEVER}):U===I.NotificationPermissionTypes.ENABLED&&(o({desktopType:I.DesktopNotificationTypes.ALL}),p.default.embedded||f.default.showNotification(n(619),O.default.Messages.NOTIFICATION_TITLE_DISCORD,O.default.Messages.BROWSER_NOTIFICATIONS_ENABLED_BODY,{sound:M,volume:R,tag:"hello",onClick:function(){window.focus()}}))},NOTIFICATIONS_SET_DISABLE_UNREAD_BADGE:function(e){var t=e.disableUnreadBadge;k.disableUnreadBadge=t,l.default.set(N,k)},NOTIFICATIONS_SET_TASKBAR_FLASH:function(e){var t=e.taskbarFlash;k.taskbarFlash=t,l.default.set(N,k)},NOTIFICATION_CREATE:function(e){var t=e.icon,n=e.title,r=e.body,a=e.options;return k.desktopType!==I.DesktopNotificationTypes.NEVER&&S.default.getStatus()!==I.StatusTypes.DND&&(f.default.showNotification(t,n,r,a),!1)},WINDOW_FOCUS:function(e){if(L=e.focused){var t=y.default.getChannelId();null!=t&&F.clearChannel(t)}},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=b.default.getChannel(t);if(null==r)return!1;var a=_.default.getUser(n.author.id),o=_.default.getCurrentUser();return a.id!=o.id&&!x.default.isBlocked(a.id)&&S.default.getStatus()!==I.StatusTypes.DND&&!E.default.allowNoMessages(r)&&(E.default.allowAllMessages(r)?i(r,n,a):h.default.isMentioned(n,o.id,E.default.isSuppressEveryoneEnabled(r.getGuildId()))?i(r,n,a):void 0)},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&F.clearChannel(t),!1},MESSAGE_ACK:function(e){var t=e.channelId;return F.clearChannel(t),!1},ACTIVITY_START:function(e){var t=e.userId,n=e.activity;if(k.desktopType===I.DesktopNotificationTypes.NEVER)return!1;if(S.default.getStatus()===I.StatusTypes.DND)return!1;switch(n.type){case I.ActivityTypes.PLAYING:var r=_.default.getUser(t);if(null==r)return!1;var a=r.toString(),i=n.name,o=r.getAvatarURL(),s=O.default.Messages.NOTIFICATION_TITLE_START_GAME,c=O.default.Messages.NOTIFICATION_BODY_START_GAME.format({username:a,gameName:i});return f.default.showNotification(o,s,c,{sound:D,playSoundIfDisabled:!1,volume:P,onClick:function(){w.default.track(I.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:I.ActionTypes.ACTIVITY_START,activity_type:I.ActivityTypes.PLAYING,notif_user_id:t,activity_name:i}),A.default.openPrivateChannel(_.default.getCurrentUser().id,t)}}),!1;default:return!1}}}),e.exports=t.default},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){for(var e in z){var t=z[e];if(t.connected&&null!=V[e]){var n=V[e].find(function(e){return e.is_active});if(null!=n)return{socket:t,device:n}}}}function o(e,t){e in z?z[e].accessToken=t:z[e]=new Z(e,t)}function s(e){if(e in z){z[e].disconnect(),delete z[e];var t=q[e];null!=t&&null!=W&&t.track.id===W.track.id&&(W=null),delete q[e]}}function c(){var e=Object.keys(z),t=w.default.getAccounts().filter(function(e){return e.type===m.PlatformTypes.SPOTIFY});if(null==t)return!1;var n=t.map(function(e){return e.id}),r=e,a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var c;if(a){if(i>=r.length)break;c=r[i++]}else{if((i=r.next()).done)break;c=i.value}var l=c;n.includes(l)||s(l)}var u=!1,f=t,d=Array.isArray(f),p=0;for(f=d?f:f[Symbol.iterator]();;){var g;if(d){if(p>=f.length)break;g=f[p++]}else{if((p=f.next()).done)break;g=p.value}var h=g;null!=W&&W.account.id===h.id&&(W.account=h,u=!0),e.includes(h.id)||(h.accessToken?o(h.id,h.accessToken):(0,b.getAccessToken)(h.id))}return u}function l(e){var t=e.activity,n=e.userId,r=i();if(null==r)return!1;var a=r.socket,o=r.device,s=t.sync_id,c=t.party,l=t.timestamps;if(null==s||null==c||null==c.id||!(0,R.isSpotifyParty)(c.id))return!1;var u=null!=l&&null!=l.start?l.start:Date.now(),f=Date.now()-u;(0,b.play)(a.accountId,a.accessToken,s,{position:+f,deviceId:o.id}),K={userId:n,partyId:c.id,trackId:s,startTime:u}}function u(){var e=O.default.values(z),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r;if(C.default.canUseSpotify())a.connect();else{a.disconnect();var i=q[a.accountId];null!=i&&null!=W&&i.track.id===W.track.id&&(W=null),delete q[a.accountId]}}}function f(){if(null!=W){var e=i();if(null!=e){var t=e.socket;Y=!0,(0,b.pause)(t.accountId,t.accessToken),I.default.track(m.AnalyticEvents.SPOTIFY_AUTO_PAUSED)}}}function d(e){return e.userId===x.default.getId()&&(A.default.isCurrentUserSpeaking()&&null!=W?H.start(k,f,!1):H.stop()),!1}t.__esModule=!0,t.SpotifySocket=void 0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=r(n(7)),h=r(n(5)),m=n(4),b=n(1432),v=n(1451),_=n(206),y=r(n(150)),E=r(n(572)),S=r(n(1304)),x=r(n(24)),w=r(n(1431)),T=r(n(1288)),C=r(n(1505)),A=r(n(1355)),I=r(n(54)),O=r(n(14)),N=r(n(216)),M=r(n(217)),R=n(1488),D=S.default.get(m.PlatformTypes.SPOTIFY),P="hm://pusher/v1/connections/",k=3e4,L=1500,U=(0,M.default)({PLAYER_STATE_CHANGED:null,DEVICE_STATE_CHANGED:null}),F="message",B="ping",G="single",j=N.default.v4(),H=new _.Timeout,z={},V={},q={},W=void 0,K=void 0,Y=!1,$=!1,Z=t.SpotifySocket=function(){function e(t,n){a(this,e),this.accountId=t,this.accessToken=n,this.pingInterval=new _.Interval,this.backoff=new y.default,C.default.canUseSpotify()&&this.connect()}return e.prototype.connect=function(){var e=this;this.connected||this._requestedConnect||(this._requestedDisconnect=!1,this._requestedConnect=!0,(0,b.getPlayerState)(this.accountId,this.accessToken).then(function(){e._requestedConnect=!1,e.socket=new WebSocket("wss://dealer.spotify.com/?access_token="+e.accessToken),e.socket.onopen=e.handleOpen.bind(e),e.socket.onmessage=e.handleMessage.bind(e),e.socket.onclose=e.socket.onerror=e.handleClose.bind(e)}).catch(function(){e._requestedConnect=!1,e.handleClose()}))},e.prototype.disconnect=function(){this._requestedDisconnect=!0,this.backoff.cancel();try{this.socket.close()}catch(e){}},e.prototype.ping=function(){this.connected&&this.socket.send(JSON.stringify({type:B}))},e.prototype.handleOpen=function(){var e=this;this.backoff.succeed(),this.pingInterval.start(3e4,function(){return e.ping()}),(0,b.getProfile)(this.accountId,this.accessToken),(0,b.getDevices)(this.accountId,this.accessToken)},e.prototype.handleMessage=function(e){var t=e.data;if("string"==typeof t){var n=JSON.parse(t),r=n.type,a=n.uri,i=n.payloads;switch(r){case F:if("string"==typeof a&&a.startsWith(P))this.connectionId=decodeURIComponent(a.split(P)[1]),(0,b.subscribePlayerStateNotifications)(this.accountId,this.accessToken,this.connectionId);else if(Array.isArray(i)){var o=i,s=Array.isArray(o),c=0;for(o=s?o:o[Symbol.iterator]();;){var l;if(s){if(c>=o.length)break;l=o[c++]}else{if((c=o.next()).done)break;l=c.value}var u=l.events,f=Array.isArray(u),d=0;for(u=f?u:u[Symbol.iterator]();;){var p;if(f){if(d>=u.length)break;p=u[d++]}else{if((d=u.next()).done)break;p=d.value}var g=p;this.handleEvent(g)}}}}}},e.prototype.handleClose=function(){var e=this;if(this.pingInterval.stop(),!this._requestedDisconnect)try{this.backoff.fail(function(){e._requestedDisconnect||e.connect()})}catch(e){}},e.prototype.handleEvent=function(e){var t=e.type,n=e.event;switch(t){case U.PLAYER_STATE_CHANGED:null!=n&&null!=n.state?(0,b.updatePlayerState)(this.accountId,this.accessToken,n.state):(0,b.getPlayerState)(this.accountId,this.accessToken);break;case U.DEVICE_STATE_CHANGED:(0,b.getDevices)(this.accountId,this.accessToken),(0,b.getPlayerState)(this.accountId,this.accessToken)}},p(e,[{key:"connected",get:function(){return null!=this.socket&&[WebSocket.CONNECTING,WebSocket.OPEN].includes(this.socket.readyState)}}]),e}(),Q=function(e){function t(){return a(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(w.default,A.default,T.default),this.syncWith([C.default],u),(0,b.fetchIsSpotifyProtocolRegistered)()},t.prototype.hasConnectedAccount=function(){return Object.keys(z).length>0},t.prototype.isProtocolRegistered=function(){return $},t.prototype.getActiveSocketAndDevice=function(){return i()},t.prototype.getPlayableComputerDevices=function(){var e=[];for(var t in z){var n=z[t];if(n.connected&&null!=V[t]){var r=V[t].find(function(e){return!e.is_restricted&&"Computer"===e.type});null!=r&&e.push({socket:n,device:r})}}return e},t.prototype.canPlay=function(e){var t=e.sync_id,n=e.party;return null!=i()&&null!=t&&null!=n&&null!=n.id&&(0,R.isSpotifyParty)(n.id)},t.prototype.getSyncingWith=function(){return K},t.prototype.wasAutoPaused=function(){return Y},t.prototype.getTrack=function(){return null!=W?W.track:null},t.prototype.getPlayerState=function(e){return q[e]},t.prototype.getActivity=function(){if(null==W)return null;var e=W,t=e.account.showActivity,n=e.track,r=n.artists,a=n.album,i=n.name,o=n.id,s=n.duration,c=e.startTime,l=e.context;if(!t)return null;var u=void 0,f=r.slice(0,5);r.length>0&&(u=f.map(function(e){return e.name.replace(/;/g,"")}).join("; "));var d={},p=null!=a.image?(0,v.getAssetFromImageURL)(m.PlatformTypes.SPOTIFY,a.image.url):null;null!=a.image&&null!=p&&(d.large_image=p,a.type!==G&&(d.large_text=a.name));var g=void 0;null!=l&&(g=l.uri);var h=void 0;return h=null!=K&&null!=K.partyId?K.partyId:""+R.SPOTIFY_PARTY_PREFIX+j,{name:D.name,assets:d,details:i,state:u,timestamps:{start:c,end:c+s},party:{id:h},sync_id:o,flags:m.ActivityFlags.PLAY|m.ActivityFlags.SYNC,metadata:{context_uri:g,album_id:a.id,artist_ids:f.map(function(e){return e.id})}}},t}(g.default.Store);t.default=new Q(h.default,{USER_CONNECTIONS_UPDATE:function(e){return c()},CONNECTION_OPEN:function(e){return c()},SPOTIFY_ACCOUNT_ACCESS_TOKEN:function(e){return o(e.accountId,e.accessToken),!1},SPOTIFY_ACCOUNT_ACCESS_TOKEN_REVOKE:function(e){s(e.accountId)},SPOTIFY_PROFILE_UPDATE:function(e){var t=e.accountId,n=e.isPremium,r=z[t];if(null==r)return!1;r.isPremium=n},SPOTIFY_PLAYER_STATE:function(e){var t=e.accountId,n=e.isPlaying,r=e.track,a=e.position,i=e.device,o=e.context,s=!1;if(null!=i)if(null!=V[t])for(var c=0;c<V[t].length;c++){var l=V[t][c];if(l.id===i.id&&!(0,E.default)(l,i)){V[t][c]=i,s=!0;break}}else V[t]=[i],s=!0;n||(r=null);var u=w.default.getAccount(t,m.PlatformTypes.SPOTIFY);if(null==u)return s;var f=q[t],p=q[t]=null!=r?{account:u,track:r,startTime:function(e,t){var n=Date.now(),r=null!=e?e.startTime:0,a=n-t;return Math.abs(a-r)>L?a:r}(f,a),context:o}:null,g=W;return W=O.default.values(q).find(function(e){return!!e}),d({userId:x.default.getId()}),null!=K&&(!n&&a>0||null!=p&&K.trackId!==p.track.id)&&(K=null),g===W||null==f&&null==p?s:null!=f&&null!=p&&f.track.id===p.track.id&&f.startTime===p.startTime?s:void 0},ACTIVITY_PLAY:function(e){var t=e.activity,n=e.metadata,r=i();if(null==r)return!1;var a=r.socket,o=r.device,s=t.sync_id,c=t.party;if(null==s||null==c||null==c.id||!(0,R.isSpotifyParty)(c.id))return!1;var l=void 0;null!=n&&(l=n.context_uri),(0,b.play)(a.accountId,a.accessToken,s,{contextUri:l,deviceId:o.id})},ACTIVITY_SYNC:l,PRESENCE_UPDATE:function(e){var t=e.user;if(null==i())return!1;if(null==K||t.id!==K.userId)return!1;var n=T.default.getActivity(t.id);if(null==n)return!1;var r=n.sync_id,a=n.timestamps,o=null!=r&&K.trackId!==r,s=null!=a&&K.startTime!==a.start;return!(!o&&!s)&&l({activity:n,userId:t.id})},SPOTIFY_SET_DEVICES:function(e){var t=e.accountId,n=e.devices;V[t]=n},SPOTIFY_SET_PROTOCOL_REGISTERED:function(e){var t=e.isRegistered;$=t},NOTICE_DISMISS:function(e){if(e.type!==m.NoticeTypes.SPOTIFY_AUTO_PAUSED)return!1;Y=!1},SPEAKING:d,VOICE_STATE_UPDATE:d})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){c=[]}t.__esModule=!0;var i=r(n(7)),o=r(n(5)),s=n(4),c=[],l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasLayers=function(){return c.length>0},t.prototype.getLayers=function(){return c},t}(i.default.Store);t.default=new l(o.default,{LAYER_PUSH:function(e){var t=e.component;return(c.length>0?c[c.length-1]:null)!==s.Layers.VERIFICATION&&!(c.indexOf(t)>=0)&&void(c=[].concat(c,[t]))},LAYER_POP:function(){if(!c.length)return!1;c=c.slice(0,-1)},LAYER_POP_ALL:a,LOGOUT:a,NOTIFICATION_CLICK:a}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.key;if(null!=t){return!!function(e){return c[e]}(t)&&(!function(e){var t=Object.keys(c),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}if(c[a].dependsOn===e)return!0}return!1}(t)&&void delete c[t])}c={}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(7)),s=r(n(5)),c=(n(4),{}),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(e){return null!=c[e]},t.prototype.getPopouts=function(){return Object.keys(c).map(function(e){return c[e]})},t}(o.default.Store);t.default=new l(s.default,{POPOUT_OPEN:function(e){var t=e.popout;t.dependsOn||(c={}),c[t.key]=t},POPOUT_CLOSE:a,POPOUT_CLOSE_ALL:function(){for(var e in c)a({key:e})},POPOUT_NEEDS_RERENDER:function(e){var t=e.key;c[t]&&(c[t]=i({},c[t],{needsRerender:!0}))},POPOUT_DID_RERENDER:function(e){var t=e.key;c[t]&&(c[t]=i({},c[t],{needsRerender:!1}))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){m.default.set(b,{shouldShowFriends:v,shouldShowGuilds:_,showGuildSettingsMap:y})}function i(e,t){var n;y=c({},y,(n={},n[e]=t,n)),a()}function o(e){if(h.default.getBucket()===f.ExperimentBuckets.TREATMENT_2){var t=d.default.getMemberCount(e);return null!=t&&t<f.ACTIVITY_FEED_MEMBER_LIMIT_THRESHOLD}if(!_)return!1;var n=d.default.getMemberCount(e);if(null==n||n>f.ACTIVITY_FEED_MEMBER_LIMIT_THRESHOLD)return!1;if(null==y[e]){var r=n<f.ACTIVITY_FEED_MEMBER_DEFAULT_THRESHOLD;return i(e,r),r}return y[e]}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=r(n(7)),u=r(n(5)),f=n(4),d=r(n(213)),p=r(n(1491)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1384)),h=r(n(570)),m=r(n(40)),b="FeedViewSettingsStore",v=!0,_=!0,y={},E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){!function(){var e=m.default.get(b);null!=e&&(v=!!e.shouldShowFriends,_=!!e.shouldShowGuilds,y=e.showGuildSettingsMap||{})}()},t.prototype.shouldShowForGuild=function(e){return o(e)},t.prototype.shouldShowForGuilds=function(e){var t={};return e.forEach(function(e){t[e]=o(e)}),t},s(t,[{key:"shouldShowFriends",get:function(){return v}},{key:"shouldShowGuilds",get:function(){return _}}]),t}(l.default.Store);t.default=new E(u.default,{ACTIVITY_FEED_SET_SHOW_FRIENDS:function(e){var t=e.shouldShow;(v=t)&&p.default.getActivities([]),a()},ACTIVITY_FEED_SET_SHOW_GUILDS:function(e){var t=e.shouldShow;(_=t)&&g.getAllActivities(),a()},ACTIVITY_FEED_SET_SHOW_GUILD:function(e){var t=e.guildId,n=e.shouldShow;i(t,n),n&&p.default.getActivities([t])}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){0===Object.keys(m).length?u.default.remove(h):u.default.set(h,m)}function i(){b+=1}function o(e){if(null==m[e])return!1;delete m[e],i(),a()}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=r(n(7)),l=r(n(5)),u=r(n(40)),f=r(n(74)),d=r(n(207)),p=r(n(1357)),g=n(4),h="collapsedCategories",m={},b=0,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(f.default,p.default),null!=(m=u.default.get(h)||{}).null&&delete m.null},t.prototype.isCollapsed=function(e){return!(null==e||"null"==e||!m[e])&&m[e]},s(t,[{key:"version",get:function(){return b}}]),t}(c.default.Store);t.default=new v(l.default,{CONNECTION_OPEN:function(){Object.keys(m).forEach(function(e){0===p.default.totalUnavailableGuilds&&null==f.default.getChannel(e)&&delete m[e]}),i(),a()},CATEGORY_COLLAPSE:function(e){var t=e.id;if(m[t])return!1;m[t]=!0,i(),a()},CATEGORY_EXPAND:function(e){return o(e.id)},CATEGORY_COLLAPSE_ALL:function(e){var t=e.guildId;d.default.getChannels(t)[g.ChannelTypes.GUILD_CATEGORY].forEach(function(e){var t=e.channel;"null"!=t.id&&(m[t.id]=!0)}),i(),a()},CATEGORY_EXPAND_ALL:function(e){var t=e.guildId;d.default.getChannels(t)[g.ChannelTypes.GUILD_CATEGORY].forEach(function(e){var t=e.channel;delete m[t.id]}),i(),a()},CHANNEL_DELETE:function(e){return o(e.channel.id)},LOGOUT:function(){u.default.remove(h)}}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.TYPE_GAMEPAD_BUTTON=t.TYPE_KEYBOARD_MODIFIER_KEY=t.TYPE_KEYBOARD_KEY=t.TYPE_MOUSE_BUTTON=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.codeToKey=function(e){return u[e]||"unknown"},t.toString=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a.default.embedded&&(e="object"!==(void 0===e?"undefined":r(e))?"":e.map(function(e){var t=e[0],n=e[1];return t===o||t===s?u[n]||"UNK"+n:t===i?"mouse"+n:t===c?"gamepad"+n:"dev"+t+","+n}).filter(function(e){return null!=e}).join("+")),t)if(-1!==navigator.appVersion.indexOf("Mac OS X")){var n=e.toUpperCase().split("+");[["META",""],["RIGHT META","RIGHT "],["SHIFT",""],["RIGHT SHIFT","RIGHT "],["ALT",""],["RIGHT ALT","RIGHT "],["CTRL",""],["RIGHT CTRL","RIGHT "],["ENTER",""],["BACKSPACE",""],["DEL",""],["ESC",""],["PAGEUP",""],["PAGEDOWN",""],["UP",""],["DOWN",""],["LEFT",""],["RIGHT",""],["HOME",""],["END",""],["TAB",""],["SPACE",""]].forEach(function(e){var t=e[0],r=e[1];n=n.map(function(e){return t===e?r:e})}),e=n.join(" + ")}else e=e.replace(/\+/g," + ").toUpperCase();return e};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(22)),i=t.TYPE_MOUSE_BUTTON=1,o=t.TYPE_KEYBOARD_KEY=0,s=t.TYPE_KEYBOARD_MODIFIER_KEY=2,c=t.TYPE_GAMEPAD_BUTTON=3,l=void 0;a.default.isLinux()?l={escape:9,f1:67,f2:68,f3:69,f4:70,f5:71,f6:72,f7:73,f8:74,f9:75,f10:76,f11:95,f12:96,f14:107,f15:78,f16:127,"`":49,1:10,2:11,3:12,4:13,5:14,6:15,7:16,8:17,9:18,0:19,"-":20,"=":21,backspace:22,tab:23,q:24,w:25,e:26,r:27,t:28,y:29,u:30,i:31,o:32,p:33,"[":34,"]":35,"\\":51,capslock:66,a:38,s:39,d:40,f:41,g:42,h:43,j:44,k:45,l:46,";":47,"'":48,enter:36,"left shift":50,z:52,x:53,c:54,v:55,b:56,n:57,m:58,",":59,".":60,"/":61,"right shift":62,"left ctrl":37,"left alt":64,"left meta":133,space:65,"right meta":134,"right alt":108,"right ctrl":105,menu:135,numlock:77,"numpad =":125,"numpad /":106,"numpad *":63,"numpad 7":79,"numpad 8":80,"numpad 9":81,"numpad -":82,"numpad 4":83,"numpad 5":84,"numpad 6":85,"numpad +":86,"numpad 1":87,"numpad 2":88,"numpad 3":89,"numpad enter":104,"numpad 0":90,"numpad .":91,home:110,pageup:112,end:115,pagedown:117,insert:118,delete:119,left:113,right:114,down:116,up:111,sleep:150,back:166,forward:167,"home key":180,favorites:164,email:163,play:172,stop:174,"vol down":122,"vol up":123,"track back":173,"track skip":171}:a.default.isOSX()?l={a:4,s:22,d:7,f:9,h:11,g:10,z:29,x:27,c:6,v:25,b:5,q:20,w:26,e:8,r:21,y:28,t:23,1:30,2:31,3:32,4:33,6:35,5:34,"=":46,9:38,7:36,"-":45,8:37,0:39,"]":48,o:18,u:24,"[":47,i:12,p:19,l:15,j:13,"'":52,k:14,";":51,"\\":49,",":54,"/":56,n:17,m:16,".":55,"`":53,"numpad .":99,"numpad *":85,"numpad +":87,"numpad clear":83,"numpad /":84,"numpad enter":88,"numpad -":86,"numpad =":103,"numpad 0":98,"numpad 1":89,"numpad 2":90,"numpad 3":91,"numpad 4":92,"numpad 5":93,"numpad 6":94,"numpad 7":95,"numpad 8":96,"numpad 9":97,enter:40,tab:43,space:44,backspace:42,esc:41,meta:227,shift:225,capslock:57,alt:226,ctrl:224,"right shift":229,"right alt":230,"right ctrl":228,"right meta":231,f17:108,f18:109,f19:110,f20:111,f5:62,f6:63,f7:64,f3:60,f8:65,f9:66,f11:68,f13:104,f16:107,f14:105,f10:67,f12:69,f15:106,home:74,pageup:75,del:76,f4:61,end:77,f2:59,pagedown:78,f1:58,left:80,right:79,down:81,up:82}:a.default.isWindows()&&(l={a:65,s:83,d:68,f:70,h:72,g:71,z:90,x:88,c:67,v:86,b:66,q:81,w:87,e:69,r:82,y:89,t:84,1:49,2:50,3:51,4:52,6:54,5:53,"=":187,9:57,7:55,"-":189,8:56,0:48,"]":221,o:79,u:85,"[":219,i:73,p:80,l:76,j:74,k:75,";":186,",":188,"/":191,n:78,m:77,".":190,"numpad .":110,"numpad *":106,"numpad +":107,"numpad clear":144,"numpad /":111,"numpad -":109,"numpad =":226,"numpad 0":96,"numpad 1":97,"numpad 2":98,"numpad 3":99,"numpad 4":100,"numpad 5":101,"numpad 6":102,"numpad 7":103,"numpad 8":104,"numpad 9":105,enter:13,tab:9,space:32,backspace:8,esc:27,meta:91,shift:160,capslock:20,alt:164,ctrl:162,"right shift":161,"right alt":165,"right ctrl":163,"right meta":93,f17:128,f18:129,f19:130,f5:116,f6:117,f7:118,f3:114,f8:119,f9:120,f11:122,f13:124,f16:127,f14:125,f10:121,f12:123,f15:126,home:36,pageup:33,del:46,f4:115,end:35,f2:113,pagedown:34,f1:112,left:37,right:39,down:40,up:38,insert:45,break:19,"scroll lock":145,"print screen":44,rewind:177,play:179,"fast forward":176,"`":192,"\\":220,"'":222});var u={};for(var f in l)l.hasOwnProperty(f)&&(u[l[f]]=f);a.default.isOSX()||(u[223]="`")},function(e,t,n){"use strict";var r=n(1274);e.exports=function(e,t){return e instanceof r?e:new r({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}},function(e,t,n){"use strict";(function(t){function r(e){l.call(this,"digest"),this._hash=e,this.buffers=[]}function a(e){l.call(this,"digest"),this._hash=e}var i=n(1278),o=n(1517),s=n(1518),c=n(1522),l=n(1348);i(r,l),r.prototype._update=function(e){this.buffers.push(e)},r.prototype._final=function(){var e=t.concat(this.buffers),n=this._hash(e);return this.buffers=null,n},i(a,l),a.prototype._update=function(e){this._hash.update(e)},a.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new r(o):new a("rmd160"===e||"ripemd160"===e?new s:c(e))}}).call(t,n(201).Buffer)},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,n(201).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),a=new t(r),i=0;i<r;++i)a[i]=e[i]^n[i];return a}}).call(t,n(201).Buffer)},function(e,t,n){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var a=n(1324),i=n(1317);t.BlockHash=r,r.prototype.update=function(e,t){if(e=a.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=a.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var a=1;a<n;a++)r[a]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[a++]=0;r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=e>>>24&255,r[a++]=e>>>16&255,r[a++]=e>>>8&255,r[a++]=255&e}else for(r[a++]=255&e,r[a++]=e>>>8&255,r[a++]=e>>>16&255,r[a++]=e>>>24&255,r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=0,i=8;i<this.padLength;i++)r[a++]=0;return r}},function(e,t,n){var r=t;r.bignum=n(1290),r.define=n(4797).define,r.base=n(1418),r.constants=n(1690),r.decoders=n(4803),r.encoders=n(4805)},function(e,t,n){var r=t;r.Reporter=n(4800).Reporter,r.DecoderBuffer=n(1689).DecoderBuffer,r.EncoderBuffer=n(1689).EncoderBuffer,r.Node=n(4801)},function(e,t,n){"use strict";function r(e){if(e=e||{},this.channel=e.channel,!this.channel)throw new s({type:s.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}var a=n(4826),i=n(4827),o=n(4828).checkOrigin,s=n(1274);r.prototype.on=function(e,t){var n,r,i=t,s=this;this._isDestroyed||(this.merchantUrl&&(i=function(){o(this.origin,s.merchantUrl)&&t.apply(this,arguments)}),n=this._namespaceEvent(e),(r=Array.prototype.slice.call(arguments))[0]=n,r[1]=i,this._log("on",r),a.on.apply(a,r),this._listeners.push({eventName:e,handler:i,originalHandler:t}))},r.prototype.emit=function(e){var t;this._isDestroyed||((t=Array.prototype.slice.call(arguments))[0]=this._namespaceEvent(e),this._log("emit",t),a.emit.apply(a,t))},r.prototype._offDirect=function(e){var t=Array.prototype.slice.call(arguments);this._isDestroyed||(t[0]=this._namespaceEvent(e),this._log("off",t),a.off.apply(a,t))},r.prototype.off=function(e,t){var n,r,a=t;if(!this._isDestroyed){if(this.merchantUrl)for(n=0;n<this._listeners.length;n++)(r=this._listeners[n]).originalHandler===t&&(a=r.handler);this._offDirect(e,a)}},r.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},r.prototype.teardown=function(){var e,t;for(t=0;t<this._listeners.length;t++)e=this._listeners[t],this._offDirect(e.eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},r.prototype._log=function(e,t){this._isVerbose&&console.log(e,t)},r.events=i,e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return null!=e.flags&&(e.flags&t)===t}function i(e){return"customEmoji"===e.type&&(e.type="emoji"),"emoji"===e.type&&e.src&&(e.src=o(e.src)),Array.isArray(e.content)&&(e.content=e.content.map(i)),e}function o(e){return/^http/.test(e)?e:location.protocol+"//"+location.host+("/"===e.charAt(0)?"":"/")+e}function s(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(e)>-1}function c(e){return new Promise(function(t){C.default.whenSynced(e,function(){return t()}),_.default.syncGuild(e)})}function l(e){return{id:e.id,username:e.username,discriminator:e.discriminator,avatar:e.avatar,bot:e.bot}}function u(e){var t=v.default.parseReturnTree(e.content,!0,{channelId:e.channel_id}).map(i),n=e.author?E.default.lookupMember(e.channel_id,e.author.id):null,r=void 0,a=void 0;return null!=n&&(r=n.colorString,a=n.nick),{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:a,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?l(e.author):void 0,pinned:e.pinned,type:e.type}}function f(e,t,n){var r=n.mute,a=n.deaf,i=n.selfMute,o=n.selfDeaf,s=n.suppress,c=n.userId,u=A.default.getUser(c);if(!u)throw new Error("Invalid user id: "+c);return{nick:N.default.getName(e,t,u),mute:w.default.isLocalMute(u.id),volume:w.default.getLocalVolume(u.id),pan:w.default.getLocalPan(u.id),voice_state:{mute:r,deaf:a,self_mute:i,self_deaf:o,suppress:s},user:l(u)}}function d(e){if(null==e)return!1;var t=window.location.origin;return e===t||!e.match("staging")&&!(!k.test(e)||!k.test(t))}function p(e){return e.map(function(e){return{type:e[0],code:e[1],name:(0,O.codeToKey)(e[1])}})}function g(e){if(null==e)return!1;if("string"==typeof e)return e!==R.RPC_LOCAL_SCOPE;if("object"!==(void 0===e?"undefined":h(e)))return!0;var t=e[R.RPC_SCOPE_CONFIG.ANY];return!Array.isArray(t)||!t.includes(R.RPC_LOCAL_SCOPE)}t.__esModule=!0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getRemoteIconURL=o,t.deduplicate=function(e){return L.indexOf(e)>-1||(L.unshift(e),L.splice(50),!1)},t.containsSameValues=function(e,t){return m.default.isEqual(e,m.default.pick(t,Object.keys(e)))},t.validateOrigin=s,t.syncGuild=c,t.transformChannel=function(e,t){var n=[],r=e.getGuildId();return r&&n.push(c(r)),[R.ChannelTypes.GUILD_VOICE,R.ChannelTypes.GUILD_CATEGORY].includes(e.type)||n.push(new Promise(function(t){S.default.whenReady(e.id,function(){return t()}),y.default.fetchMessages(e.id,null,null,R.MAX_MESSAGES_PER_CHANNEL)})),Promise.all(n).then(function(){var n=t?S.default.getMessages(e.id).toArray().map(u):[],a=T.default.getVoiceStatesForChannel(r,e.id).map(function(t){return f(r,e.id,t)});return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:n,voice_states:a}})},t.transformUser=l,t.transformInternalTextMessage=u,t.transformVoiceState=f,t.isMatchingOrigin=d,t.transformShortcut=p,t.getVoiceSettings=function(){var e=w.default.getSettings(),t=function(e){return Object.values(e).sort(function(e,t){return e.index-t.index}).map(function(e){return{id:e.id,name:e.name}})},n=[];return e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(n=p(e.modeOptions.shortcut)),{input:{available_devices:t(w.default.getInputDevices()),device_id:e.inputDeviceId,volume:e.inputVolume},output:{available_devices:t(w.default.getOutputDevices()),device_id:e.outputDeviceId,volume:e.outputVolume},mode:{type:e.mode,auto_threshold:e.modeOptions.autoThreshold,threshold:e.modeOptions.threshold,shortcut:n,delay:e.modeOptions.delay},automatic_gain_control:e.automaticGainControl,echo_cancellation:e.echoCancellation,noise_suppression:e.noiseSuppression,qos:e.qos,silence_warning:e.silenceWarning,deaf:e.deaf,mute:e.mute}},t.hasMessageReadPermission=function(e,t,n){var r=I.default.getGuild(e.getGuildId());return(r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(R.OAuth2Scopes.MESSAGES_READ)>-1},t.getVoiceConnectionState=function(e){switch(e){case R.RTCConnectionStates.RTC_CONNECTED:case R.RTCConnectionStates.RTC_CONNECTING:case R.RTCConnectionStates.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}},t.validateSocketClient=function(e,t,n){return null===t&&(e.authorization.scopes=[R.RPC_LOCAL_SCOPE]),!n&&d(t)?(e.authorization.scopes=[R.RPC_PRIVATE_SCOPE,R.RPC_PRIVATE_LIMITED_SCOPE],Promise.resolve()):n?M.default.get({url:R.Endpoints.APPLICATION_RPC(n),retries:2}).then(function(n){var r=n.body,a=r.rpc_origins,i=r.id,o=r.name,c=r.cover_image,l=r.flags;if("string"==typeof t&&!s(t,a))throw new D.default(R.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin");e.application={id:i,name:o,coverImage:c,flags:l}},function(){throw new D.default(R.RPCCloseCodes.INVALID_CLIENTID,"Invalid Client ID")}):Promise.reject(new D.default(R.RPCCloseCodes.INVALID_CLIENTID,"No Client ID Specified"))},t.computeActivityFlags=function(e,t){var n=t.instance,r=t.secrets,i=0;return n&&(i|=R.ActivityFlags.INSTANCE),null!=r&&(r.join&&(i|=R.ActivityFlags.JOIN,a(e,U.ALLOW_ACTIVITY_ACTION_JOIN_REQUEST)&&(i|=R.ActivityFlags.JOIN_REQUEST)),r.spectate&&a(e,U.ALLOW_ACTIVITY_ACTION_SPECTATE)&&(i|=R.ActivityFlags.SPECTATE)),i},t.validateScope=function(e,t){if(null==t)return!0;if("string"==typeof t)return e.includes(t);if("object"!==(void 0===t?"undefined":h(t)))return!1;var n=t[R.RPC_SCOPE_CONFIG.ANY],r=t[R.RPC_SCOPE_CONFIG.ALL];return!(!Array.isArray(n)||!n.find(function(t){return e.includes(t)}))||!(!Array.isArray(r)||0!==m.default.difference(r,e).length)},t.hasControlScope=g,t.checkControlling=function(e,t){!e.application.controlling&&g(t)&&(b.default.dispatch({type:R.ActionTypes.RPC_APP_CONTROLLING,application:e.application}),e.application.controlling=!0)};var m=r(n(14)),b=r(n(5)),v=r(n(1398)),_=r(n(139)),y=r(n(1292)),E=r(n(1353)),S=r(n(1320)),x=r(n(567)),w=r(n(75)),T=(r(n(1621)),r(n(1291))),C=r(n(575)),A=r(n(58)),I=r(n(48)),O=n(1411),N=r(n(1372)),M=r(n(39)),R=n(4),D=r(n(566)),P=R.API_HOST.split(".").slice(-2).join("."),k=new RegExp("^"+x.default.escape("https://")+"(?:[a-z]+\\.)?"+x.default.escape(P)+"$"),L=[],U={ALLOW_ACTIVITY_ACTION_SPECTATE:512,ALLOW_ACTIVITY_ACTION_JOIN_REQUEST:1024}},function(e,t){e.exports={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=[];for(var n in e)t=t.concat(e[n].binds);return t.map(function(e){return e.replace("mod",m)})}function i(e){var t=function(t){var n=e[t],r=c.default.getKeybindList();l.default.embedded||(r=r.concat(_));var a=n.binds.filter(function(e){return e=e.replace("mod",m),r.indexOf(e)<0});if(0===a.length)return"continue";var i=n.global?g.bindGlobal:g.bind;n.action&&i.call(g,a,n.action),n.keyup&&i.call(g,a,n.keyup,"keyup"),n.keydown&&i.call(g,a,n.keydown,"keydown"),n.keypress&&i.call(g,a,n.keypress,"keypress")};for(var n in e){t(n)}}t.__esModule=!0;var o=r(n(1598)),s=r(n(1747)),c=r(n(1554)),l=r(n(22)),u=r(n(26)),f=n(1748),d=void 0,p=!1,g=(0,s.default)(new o.default(window)),h=/Darwin|OS X/.test(u.default.os.family||""),m=h?"cmd":"ctrl",b=h?"opt":"alt",v=h?"return":"enter",_=[].concat(f.JUMP_TO_GUILD.binds,["mod+shift+[","mod+shift+]","ctrl+shift+tab","ctrl+tab","mod+n","mod+t","mod+shift+t","mod+plus","mod+minus","mod+0"]).map(function(e){return e.replace("mod",m)});if(l.default.isDesktop()){new o.default(document).bind("backspace",function(e){return e.preventDefault()})}t.default={combokeys:g,modKey:m,altKey:b,returnKey:v,checkDupes:function(e){for(var t={},n=[],r=a(e),i=0,o=r.length;i<o;i++)void 0===t[r[i]]?t[r[i]]=0:t[r[i]]+=1;for(var s in t)t[s]&&n.push(s);n.length&&console.warn("Duplicate keyboard shortcuts defined:",n)},setLayout:function(e){d=e},enable:function(){p||(p=!0,this.checkDupes(d),i(d))},enableTemp:function(e){i(e)},disableTemp:function(){this.disable(),this.enable()},disable:function(){p&&(p=!1,g.reset())},validateKeybind:function(e){p&&this.hasBind(e)&&g.unbind(e)},hasBind:function(e){var t=a(d);return e=e.replace("meta","cmd"),e=e.replace(/right|left/i,"").trim(),!(t.indexOf(e)<0)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){e.stopPropagation()}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return null;return e.type===g.ChannelTypes.GUILD_TEXT&&null!=e.isNSFW&&e.isNSFW()?d.default.Names.CHANNEL_TEXT_NSFW:t?d.default.Names.LOCK_CLOSED:!0===e.isRoleRequired||"function"==typeof e.isRoleRequired&&e.isRoleRequired()?m[e.type]:b[e.type]}t.__esModule=!0;var o,s,c,l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();t.getIconNameForChannel=i;var u=r(n(3)),f=r(n(83)),d=r(n(138)),p=n(85),g=n(4),h=r(n(4997)),m=(o={},o[g.ChannelTypes.GUILD_TEXT]=d.default.Names.CHANNEL_TEXT_LIMITED,o[g.ChannelTypes.GUILD_VOICE]=d.default.Names.CHANNEL_VOICE_LIMITED,o),b=(s={},s[g.ChannelTypes.GUILD_TEXT]=d.default.Names.CHANNEL_TEXT,s[g.ChannelTypes.GUILD_VOICE]=d.default.Names.CHANNEL_VOICE,s),v=(c={},c[g.ChannelTypes.GUILD_TEXT]="Text",c[g.ChannelTypes.GUILD_VOICE]="Voice",c),_="Selected",y="Hovered",E="Unread",S="Muted",x="Locked",w="Default",T=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r.handleMouseDown=r.handleMouseDown.bind(r),r.handleMouseUp=r.handleMouseUp.bind(r),r.handleContextMenu=r.handleContextMenu.bind(r),r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleMouseLeave=r.handleMouseLeave.bind(r),r.state={hovered:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getMode=function(){var e=this.props,t=e.muted,n=e.selected,r=e.unread,a=e.locked,i=this.state.hovered;return n?_:a?x:i?y:t?S:r?E:w},t.prototype.handleClick=function(e){var t=this.props,n=t.onClick,r=t.channel;n&&n(e,r)},t.prototype.handleMouseEnter=function(e){var t=this.props,n=t.onMouseEnter,r=t.channel;this.setState({hovered:!0}),n&&n(e,r)},t.prototype.handleMouseLeave=function(e){var t=this.props,n=t.onMouseLeave,r=t.channel;this.setState({hovered:!1}),n&&n(e,r)},t.prototype.handleMouseDown=function(e){var t=this.props,n=t.onMouseDown,r=t.channel;n&&n(e,r)},t.prototype.handleMouseUp=function(e){var t=this.props,n=t.onMouseUp,r=t.channel;n&&n(e,r)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,r=t.channel;n&&n(e,r)},t.prototype.renderUnread=function(){var e=this.props,t=e.unread,n=e.muted,r=e.selected;return n||!t||r?null:l("div",{className:h.default.unread})},t.prototype.renderTypeIcon=function(){var e=this.props,t=e.channel,n=i(t,e.locked),r=this.getMode();return l(f.default.Child,{wrap:!0,grow:0,shrink:0,className:h.default.marginReset},void 0,l(d.default,{name:n,className:(0,p.getClass)(h.default,"color",r,v[t.type]),foreground:h.default.foreground,background:h.default.background,width:16,height:16}))},t.prototype.renderName=function(){var e=this.props,t=e.channel,n=t.name,r=t.type,a=e.unread,i=this.getMode();return i===y&&a&&(i=E),l(f.default.Child,{className:(0,p.getClass)(h.default,"name",i,v[r])},void 0,n)},t.prototype.renderIcons=function(){var e=this.props.children;return 0===u.default.Children.count(e)?null:l(f.default,{grow:0,onClick:a,align:f.default.Align.CENTER,className:h.default.marginReset},void 0,e)},t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.onMouseDown,r=e.onMouseUp,a=e.onContextMenu,i=e.connectDragPreview,o=e.channel.type,s=this.getMode(),c=l("div",{className:(0,p.getClass)(h.default,"content",s,v[o])},void 0,this.renderTypeIcon(),this.renderName(),this.renderIcons());return l("div",{className:(0,p.getClass)(h.default,"wrapper",s,v[o]),onClick:t&&this.handleClick,onMouseUp:r&&this.handleMouseUp,onMouseDown:n&&this.handleMouseDown,onContextMenu:a&&this.handleContextMenu,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnread(),i?i(c):c)},t}(u.default.PureComponent);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(3)),o=r(n(15)),s=n(85),c=r(n(5007)),l={XSMALL:c.default.xsmall,SMALL:c.default.small,MEDIUM:c.default.medium,LARGE:c.default.large},u="default",f="static",d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={hovered:!1},r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleMouseLeave=r.handleMouseLeave.bind(r),r.getMode=r.getMode.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getMode=function(){return null!=this.props.srcHover?f:u},t.prototype.render=function(){var e=this.props,t=e.size,n=e.src,r=e.srcHover,l=e.className,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["size","src","srcHover","className"]),f={backgroundImage:"url('"+(this.state.hovered&&r?r:n)+"')"},d=this.getMode();return i.default.createElement("button",a({className:(0,o.default)((0,s.getClass)(c.default,"iconButton",d),l,t),style:f,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u))},t.prototype.handleMouseEnter=function(){this.state.hovered||this.setState({hovered:!0})},t.prototype.handleMouseLeave=function(){this.state.hovered&&this.setState({hovered:!1})},t}(i.default.PureComponent);d.defaultProps={size:l.MEDIUM,disabled:!1},d.Sizes=l,t.default=d,e.exports=t.default},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return l.default.patch({url:c.Endpoints.ME,body:e}).then(function(e){var t=e.body;if(t.token){var n=t.token;delete t.token,o.default.dispatch({type:c.ActionTypes.UPDATE_TOKEN,token:n})}return o.default.dispatch({type:c.ActionTypes.USER_UPDATE,user:t}),e})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.accountDetailsInit=function(){o.default.dispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_INIT})},t.accountDetailsClose=function(){o.default.dirtyDispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_CLOSE})},t.toggleEditingProfile=function(e){o.default.dispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PROFILE,isEditingProfile:e})},t.toggleEditingPassword=function(e){o.default.dispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PASSWORD,isEditingPassword:e})},t.updateAccountInfo=function(e){o.default.dispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_UPDATE_INFO,update:e})},t.deleteAccount=function(e){return(0,u.default)({title:s.default.Messages.DELETE_ACCOUNT},function(t){return l.default.post({url:c.Endpoints.DELETE_ACCOUNT,body:i({password:e},t)})},{checkEnabled:!1}).then(function(){return o.default.dispatch({type:c.ActionTypes.LOGOUT})})},t.saveAccountRequest=a,t.saveAccountChanges=function(e,t,n,r,l){return o.default.dispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT}),(0,u.default)({title:s.default.Messages.TWO_FA_CHANGE_ACCOUNT},function(o){var s=i({username:e,email:t,password:n,avatar:r,new_password:l},o),u=f.default.get(c.DEVICE_TOKEN);return null!=c.DEVICE_PUSH_PROVIDER&&null!=u&&(s.push_provider=c.DEVICE_PUSH_PROVIDER,s.push_token=u),a(s)},{checkEnabled:!1,hooks:{onEarlyClose:function(){return o.default.dispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE,errors:{}})}}}).then(function(e){var t=e.body;return p.default.track("user_avatar_updated",{animated:(0,d.hasAnimatedAvatar)(t)}),o.default.dispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS}),t.email},function(e){o.default.dispatch({type:c.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE,errors:e.body})})};var o=r(n(5)),s=r(n(21)),c=n(4),l=r(n(39)),u=r(n(582)),f=r(n(40)),d=n(86),p=r(n(54))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(7)),o=r(n(5)),s=n(4),c=r(n(1396)),l=r(n(1841)),u=r(n(144)),f=[],d={},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isJoining=function(e){return d[e]||!1},t.prototype.isFetching=function(){return null==f},t.prototype.getAccounts=function(){return f},t.prototype.getUnsafeAccounts=function(){return f.filter(function(e){return s.UNSAFE_PLATFORM_TYPES.has(e.type)})},t.prototype.getAccount=function(e,t){return f.find(function(n){return n.id===e&&n.type===t})},t}(i.default.Store);t.default=new p(o.default,{CONNECTION_OPEN:function(e){f=e.connectedAccounts.map(function(e){return new l.default(e)})},USER_CONNECTIONS_UPDATE:function(e){e.local?f=e.accounts.map(function(e){return new l.default(a({},e,{integrations:e.integrations.map(function(e){return a({},e,{guild:new u.default(e.guild)})})}))}):c.default.fetch()},USER_CONNECTIONS_INTEGRATION_JOINING:function(e){d[e.integrationId]=e.joining}}),e.exports=t.default},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(t,n,r,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return i=c({},i,{headers:{authorization:"Bearer "+r}}),f.default[t](i).then(function(e){return 202===e.status?Promise.reject(e):e}).catch(function(r){var c=!0!==i.onlyRetryOnAuthorizationErrors&&202===r.status;return(401===r.status||c)&&s>0?(202===r.status?(0,h.timeoutPromise)(v):Promise.resolve()).then(function(){return o(n)}).then(function(e){var r=e.body.access_token;return a(t,n,r,i,s-1)}).then(function(t){return new Promise(function(n){return e(function(){return n(t)})})}):Promise.reject(r)})}function i(e,t,n){var r=void 0;d.default.isDesktop()||(r=window.open("","_blank")),(0,g.getMetadata)(e,t).then(function(e){return n(e)}).then(function(e){var t=e.resourceType,n=e.resourceId,a=p.default.isProtocolRegistered()?_.PLAYER_OPEN(t,n):_.WEB_OPEN(t,n);null!=r?r.location.href=a:window.open(a)}).catch(function(){null!=r&&r.close()})}function o(e){return f.default.get({url:m.Endpoints.CONNECTION_ACCESS_TOKEN(m.PlatformTypes.SPOTIFY,e)}).catch(function(t){return 401===t.status&&l.default.dispatch({type:m.ActionTypes.SPOTIFY_ACCOUNT_ACCESS_TOKEN_REVOKE,accountId:e}),Promise.reject(t)}).then(function(t){var n=t.body.access_token;return l.default.dispatch({type:m.ActionTypes.SPOTIFY_ACCOUNT_ACCESS_TOKEN,accountId:e,accessToken:n}),t})}function s(e,t,n){var r=n.device,a=n.progress_ms,i=n.is_playing,o=n.item,s=n.context,u=void 0;null!=o&&(u={id:o.id,name:o.name,duration:o.duration_ms,album:{id:o.album.id,name:o.album.name,image:o.album.images[0]},artists:o.artists}),null!=r&&!0!==r.is_active&&(r=c({},r,{is_active:!0}));var f=void 0;if(null!=s&&[y.PLAYLIST,y.ALBUM].includes(s.type)){var d=p.default.getPlayerState(e);f=null!=d&&null!=d.context&&d.context.uri===s.uri?Promise.resolve(d.context):s.type===y.ALBUM?Promise.resolve(s):E.get(e,t,{url:s.href}).then(function(e){return e.body})}else f=Promise.resolve();return f.then(function(t){null==t||t.type!==y.PLAYLIST||t.public||(t=null),l.default.dispatch({type:m.ActionTypes.SPOTIFY_PLAYER_STATE,accountId:e,track:u,volumePercent:null!=r?r.volume_percent:0,isPlaying:i,position:a,context:t,device:r})})}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getAccessToken=o,t.subscribePlayerStateNotifications=function(e,t,n){return E.put(e,t,{url:_.NOTIFICATIONS_PLAYER,query:{connection_id:n}})},t.getProfile=function(e,t){return E.get(e,t,{url:_.PROFILE}).then(function(t){return l.default.dispatch({type:m.ActionTypes.SPOTIFY_PROFILE_UPDATE,accountId:e,isPremium:"premium"===t.body.product}),t})},t.updatePlayerState=s,t.getPlayerState=function(e,t){return E.get(e,t,{url:_.PLAYER,onlyRetryOnAuthorizationErrors:!0}).then(function(n){return s(e,t,n.body).then(function(){return n})}).catch(function(){return l.default.dispatch({type:m.ActionTypes.SPOTIFY_PLAYER_STATE,accountId:e,track:null,volumePercent:0,isPlaying:!1,position:0,context:null})})},t.getDevices=function(e,t){return E.get(e,t,{url:_.PLAYER_DEVICES}).then(function(t){return t.body&&l.default.dispatch({type:m.ActionTypes.SPOTIFY_SET_DEVICES,accountId:e,devices:t.body.devices}),t})},t.play=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=_.PLAYER_OPEN(y.TRACK,n),i=r.deviceId,o=r.position,s=r.contextUri;return E.put(e,t,{url:_.PLAYER_PLAY,query:{device_id:i},body:{context_uri:null!=s?s:void 0,uris:null==s?[a]:void 0,offset:null!=s?{uri:a}:void 0}}).then(function(n){return null==o?n:E.put(e,t,{url:_.PLAYER_SEEK,query:{position_ms:o}})}).then(function(e){return l.default.dispatch({type:m.ActionTypes.SPOTIFY_PLAYER_PLAY,id:n,position:null!=o?o:0}),e})},t.pause=function(e,t){return E.put(e,t,{url:_.PLAYER_PAUSE}).then(function(e){return l.default.dispatch({type:m.ActionTypes.SPOTIFY_PLAYER_PAUSE}),e})},t.openPremiumSite=function(){window.open(_.PREMIUM_SITE)},t.openTrack=function(e){var t=e.sync_id;if(null!=t){var n=y.TRACK,r=p.default.isProtocolRegistered()?_.PLAYER_OPEN(n,t):_.WEB_OPEN(n,t);window.open(r)}},t.openAlbum=function(e,t){i(e,t,function(e){var t=e.album_id;if(null==t)throw new Error("no album id in metadata");return{resourceType:y.ALBUM,resourceId:t}})},t.openArtist=function(e,t,n){i(e,t,function(e){var t=e.artist_ids;if(null==t)throw new Error("no artist ids in metadata");var r=t[n];if(null==r)throw new Error("invalid artist index");return{resourceType:y.ARTIST,resourceId:r}})},t.fetchIsSpotifyProtocolRegistered=function(){p.default.isProtocolRegistered()||d.default.isDesktop()&&u.default.isProtocolRegistered(m.SPOTIFY_APP_PROTOCOL).then(function(e){l.default.dispatch({type:m.ActionTypes.SPOTIFY_SET_PROTOCOL_REGISTERED,isRegistered:e})})};var l=r(n(5)),u=r(n(1487)),f=r(n(39)),d=r(n(22)),p=r(n(1406)),g=n(1582),h=n(206),m=n(4),b="https://web.archive.org/web/20171224234543/https://api.spotify.com/v1",v=5e3,_={PROFILE:b+"/me",NOTIFICATIONS_PLAYER:b+"/me/notifications/player",PLAYER:b+"/me/player",PLAYER_DEVICES:b+"/me/player/devices",PLAYER_PLAY:b+"/me/player/play",PLAYER_PAUSE:b+"/me/player/pause",PLAYER_SEEK:b+"/me/player/seek",WEB_OPEN:function(e,t){return"https://open.spotify.com/"+e+"/"+t},PLAYER_OPEN:function(e,t){return m.SPOTIFY_APP_PROTOCOL+":"+e+":"+t},PREMIUM_SITE:"https://web.archive.org/web/20171224234543/https://www.spotify.com/premium/"},y={TRACK:"track",ARTIST:"artist",ALBUM:"album",PLAYLIST:"playlist"},E={get:a.bind(null,"get"),put:a.bind(null,"put")}}).call(t,n(50).setImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(3)),o=r(n(15)),s=r(n(7)),c=r(n(1846)),l=r(n(1284)),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.usernameClass,n=e.discriminatorClass,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["usernameClass","discriminatorClass"]);return i.default.createElement(c.default,a({},r,{usernameClass:(0,o.default)("username",t),discriminatorClass:(0,o.default)("discriminator",n)}))},t}(i.default.Component);u.defaultProps={className:"discord-tag",invertBotTagColor:!1,hideDiscriminator:!1},t.default=s.default.connectStores([l.default],function(e){return{hideDiscriminator:e.hideDiscriminator||l.default.hidePersonalInformation}})(u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),o=r(n(547)),s=r(n(3)),c=r(n(548)),l=r(n(15)),u=r(n(549)),f=r(n(558)),d=r(n(1383)),p=n(4),g=r(n(605)),h=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.height=t,this.paddingTop=r,this.paddingBottom=a,this.numberOfChildren=n}return e.prototype.getTotalScrollableHeight=function(){return this.height*this.numberOfChildren+this.paddingTop+this.paddingBottom},e.prototype.getDisplayIndexStart=function(e){return Math.floor(Math.max(e-this.paddingTop,0)/this.height)},e.prototype.getDisplayIndexEnd=function(e){return Math.ceil(e/this.height)},e.prototype.getTopSpacerHeight=function(e){return e*this.height+this.paddingTop},e.prototype.getBottomSpacerHeight=function(e){var t=this.numberOfChildren,n=this.height,r=this.paddingBottom;return Math.max(0,(t-e)*n)+r},e}(),m=(0,c.default)({displayName:"LazyScroller",mixins:[d.default,u.default],propTypes:{onResize:o.default.func,onScroll:o.default.func,paddingTop:o.default.number,paddingBottom:o.default.number,elementHeight:o.default.number.isRequired,theme:o.default.string,keyboardScroll:o.default.bool,batchEndMultiplier:o.default.number,backgroundColor:o.default.string},statics:{Themes:f.default.Themes},getDefaultProps:function(){return{track:!0,paddingTop:0,paddingBottom:0,batchEndMultiplier:1.1,theme:f.default.Themes.GHOST}},getInitialState:function(){var e=this.props,t=e.elementHeight,n=e.children,r=e.paddingTop,a=e.paddingBottom;return{computer:this.createComputer(t,n,r,a),displayIndexStart:0,displayIndexEnd:0,scrolling:!1}},getSubscriptions:function(){if(this.props.keyboardScroll){var e;return e={},e[p.ComponentActions.SCROLL_PAGE_DOWN]=this.scrollPageDown,e[p.ComponentActions.SCROLL_PAGE_UP]=this.scrollPageUp,e}return null},createComputer:function(e,t,n,r){return new h(e,s.default.Children.count(t),n,r)},componentDidMount:function(){this._isMounted=!0,this.setState(this.getStateFromScroller())},componentWillReceiveProps:function(e){s.default.Children.count(this.props.children)===s.default.Children.count(e.children)&&this.props.elementHeight===e.elementHeight||this.setState(this.getStateFromScroller(e))},componentDidUpdate:function(e,t){t.containerHeight!==this.getContainerHeight()&&this.setState(this.getStateFromScroller())},componentWillUnmount:function(){clearTimeout(this._scrollingTimeout)},getScrollTop:function(){return this._scrollerRef.getScrollData().scrollTop},getContainerHeight:function(){return this._scrollerRef.getScrollData().offsetHeight},getStateFromScroller:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.paddingTop,n=e.paddingBottom,r=this.createComputer(e.elementHeight,e.children,t,n),a=this.getScrollTop(),i=this.getContainerHeight(),o=Math.ceil(i/4),s=o*Math.floor((a+t)/o),c=s+Math.ceil(4*o*e.batchEndMultiplier);return{containerHeight:i,computer:r,displayIndexStart:r.getDisplayIndexStart(Math.max(0,s-o)),displayIndexEnd:r.getDisplayIndexEnd(Math.min(r.getTotalScrollableHeight(),c+o))}},handleResize:function(e){this.setState(this.getStateFromScroller()),this.props.onResize&&this.props.onResize(e)},handleScroll:function(e){var t=this;clearTimeout(this._scrollingTimeout),this._scrollingTimeout=setTimeout(function(){t._isMounted&&t.setState({scrolling:!1})},100);var n=this.getStateFromScroller();n.scrolling=!0,this.setState(n),this.props.onScroll&&this.props.onScroll(e)},getScrollerNode:function(){return this._scrollerRef._scrollerRef},scrollIntoViewRect:function(e,t,n){this._scrollerRef.scrollIntoViewRect(e,t,n)},scrollIndexIntoView:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,bottom:0},r=this.props,a=r.paddingTop,i=r.elementHeight;this._scrollerRef.scrollIntoViewRect(Math.max(e*i+a-n.top,0),e*i+i+a+n.bottom,t)},scrollIntoView:function(e,t){this._scrollerRef.scrollIntoView(e,t)},scrollTo:function(e,t){this._scrollerRef.scrollTo(e,t)},scrollPageUp:function(){var e=this._scrollerRef;e&&e.scrollPageUp(!0,!0)},scrollPageDown:function(){var e=this._scrollerRef;e&&e.scrollPageDown(!0,!0)},buildHeightStyle:function(e){return{width:"100%",height:Math.ceil(e)+"px"}},setScrollerRef:function(e){this._scrollerRef=e},render:function(){var e,t=this.state,n=t.computer,r=t.scrolling,o=t.displayIndexStart,c=t.displayIndexEnd,u=this.props,d=u.theme,p=u.className,h=u.children,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(u,["theme","className","children"]),b=h.slice(o,c),v=n.getTopSpacerHeight(o),_=n.getBottomSpacerHeight(c);return s.default.createElement(f.default,a({},m,{className:(0,l.default)(p,(e={},e[g.default.scrolling]=r,e)),ref:this.setScrollerRef,theme:d,onResize:this.handleResize,onScroll:this.handleScroll}),i("div",{style:this.buildHeightStyle(v)}),b,i("div",{style:this.buildHeightStyle(_)}))}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),s=(r(n(547)),r(n(3))),c=r(n(15));n(4623);var l="CHECKBOX_REF",u=o("span",{}),f=function(e){function t(){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(s))),r.handleClick=function(){r.refs[l].click()},i=n,a(r,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children"]);return o("div",{className:(0,c.default)("checkbox",{disabled:n.disabled}),onClick:this.handleClick},void 0,o("div",{className:(0,c.default)("checkbox-inner",{alt:n.alt})},void 0,s.default.createElement("input",i({ref:l},n,{type:"checkbox"})),u),o("span",{},void 0,t))},t}(s.default.Component);t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(3)),s=r(n(15)),c=r(n(138)),l=n(85),u=n(4),f=n(211),d=r(n(4662)),p={DEFAULT:"default",INVERTED:"inverted",GHOST:"ghost"},g={BOX:d.default.box,ROUND:d.default.round},h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleFocus=r.handleFocus.bind(r),r.handleBlur=r.handleBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.state={focused:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleFocus=function(){this.setState({focused:!0})},t.prototype.handleBlur=function(){this.setState({focused:!1})},t.prototype.handleChange=function(e){var t=this.props.onChange;t&&t(e,e.currentTarget.checked)},t.prototype.getInputMode=function(){return this.props.disabled?"disabled":this.props.readOnly?"readonly":"default"},t.prototype.getStyle=function(){var e=this.props,t=e.value,n=e.type,r=e.color,a=this.props.style;if(!1===t)return a;switch(a=i({},a),n){case p.DEFAULT:a.borderColor=r;break;case p.GHOST:a.borderColor=(0,f.hex2rgb)(r,.15),a.backgroundColor=(0,f.hex2rgb)(r,.15);break;case p.INVERTED:a.backgroundColor=r,a.borderColor=r}return a},t.prototype.getColor=function(){var e=this.props,t=e.value,n=e.type,r=e.color;return t?n===p.INVERTED?u.Colors.WHITE:r:"transparent"},t.prototype.render=function(){var e,t=this.state.focused,n=this.props,r=n.disabled,i=n.readOnly,o=n.value,f=n.shape,p=n.className,g=n.children;return a("label",{className:(0,s.default)((0,l.getClass)(d.default,"checkboxWrapper",r?"disabled":""),p)},void 0,a("input",{className:(0,l.getClass)(d.default,"input",this.getInputMode()),type:"checkbox",onChange:r||i?u.NOOP:this.handleChange,onFocus:r||i?u.NOOP:this.handleFocus,onBlur:this.handleBlur,checked:o}),a("div",{className:(0,s.default)(d.default.checkbox,f,(e={},e[d.default.checked]=o,e[d.default.focused]=t,e)),style:this.getStyle()},void 0,a(c.default,{name:c.default.Names.CHECKMARK,width:18,height:18,color:this.getColor()})),g?a("div",{className:d.default.label},void 0,g):null)},t}(o.default.PureComponent);h.Types=p,h.Shapes=g,h.defaultProps={disabled:!1,readOnly:!1,value:!1,type:p.DEFAULT,color:u.Colors.BRAND,shape:g.BOX,onChange:u.NOOP},t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.status,r=e.body;if(429===n)return setTimeout(t,e.body.retry_after),!1;if(403===n)switch(r&&r.code){case m.AbortCodes.TOO_MANY_REACTIONS:g.default.show({title:f.default.Messages.TOO_MANY_REACTIONS_ALERT_HEADER,body:f.default.Messages.TOO_MANY_REACTIONS_ALERT_BODY,confirmText:f.default.Messages.OKAY});break;case m.AbortCodes.REACTION_BLOCKED:h.ComponentDispatch.dispatch(m.ComponentActions.SHAKE_APP,{duration:200,intensity:2})}return!0}function i(e,t,n,r,a){d.default.dispatch({type:e,channelId:t,messageId:n,userId:a||p.default.getId(),emoji:r,optimistic:!0})}function o(e,t,n,r){var a=encodeURIComponent(null!=n.id?n.name+":"+n.id:n.name);return null!=r?m.Endpoints.REACTION(e,t,a,r):m.Endpoints.REACTIONS(e,t,a,r)}function s(e,t,n){i(m.ActionTypes.MESSAGE_REACTION_ADD,e,t,n),u.default.put(o(e,t,n,"@me")).catch(function(r){a(r,function(){return s(e,t,n)})&&i(m.ActionTypes.MESSAGE_REACTION_REMOVE,e,t,n)})}function c(e,t){u.default.delete(m.Endpoints.REMOVE_REACTIONS(e,t)).catch(function(n){a(n,function(){return c(e,t)})})}function l(e,t,n,r){i(m.ActionTypes.MESSAGE_REACTION_REMOVE,e,t,n,r),u.default.delete(o(e,t,n,r||"@me")).catch(function(o){a(o,function(){return l(e,t,n,r)})&&i(m.ActionTypes.MESSAGE_REACTION_ADD,e,t,n,r)})}t.__esModule=!0,t.getReactions=function(e,t,n,r){return u.default.get({url:o(e,t,n),query:{limit:100,after:r}}).then(function(r){return d.default.dispatch({type:m.ActionTypes.MESSAGE_REACTION_ADD_USERS,channelId:e,messageId:t,users:r.body,emoji:n}),r.body})},t.addReaction=s,t.removeAllReactions=c,t.removeReaction=l;var u=r(n(39)),f=r(n(21)),d=r(n(5)),p=r(n(24)),g=r(n(1300)),h=n(1280),m=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new d(e,t)}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createSound=i,t.playSound=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!l.default.disableSounds){var n=i(e,t);return n.play(),n}};var s=r(n(1654)),c=r(n(22)),l=r(n(1284)),u=n(4),f=function(){function e(){a(this,e),this.nextSoundId=1,this.voe=c.default.getVoiceEngine()}return e.prototype.play=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=s.default.join("sounds",e+".wav");if(!c.default.supportsFeature(u.NativeFeatures.VOICE_RELATIVE_SOUNDS)){var a=c.default.require("process",!0).resourcesPath;r=s.default.join(a,r)}return c.default.supportsFeature(u.NativeFeatures.VOICE_SOUND_STOP_LOOP)?this.voe.playSound(this.nextSoundId,r,n,t):this.voe.playSound(r,t),this.nextSoundId++},e.prototype.stop=function(e){c.default.supportsFeature(u.NativeFeatures.VOICE_SOUND_STOP_LOOP)&&this.voe.stopSound(e)},e.prototype.setVolume=function(e,t){c.default.supportsFeature(u.NativeFeatures.VOICE_SOUND_STOP_LOOP)&&this.voe.setSoundVolume(e,t)},e}(),d=(function(){function e(t,n){a(this,e),this.player=new f,this.name=t,this._volume=n,this._id=0}e.prototype.loop=function(){this._id=this._id||this.player.play(this.name,this._volume,!0)},e.prototype.play=function(){this.stop(),this._id=this.player.play(this.name,this._volume,!1)},e.prototype.stop=function(){this._id>0&&(this.player.stop(this._id),this._id=0)},o(e,[{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.player.setVolume(this._id,this._volume)}}])}(),void 0);d=n(4674).WebAudioSound},function(e,t){},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.__esModule=!0;var i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(r(n(547)),r(n(3))),c=r(n(552)),l=n(4),u=r(n(1503)),f={light:.95,dark:.85,subtle:.25,solid:1},d={light:"rgba(255, 255, 255, 1)",dark:"rgba(0, 0, 0, 1)",subtle:"rgba(0, 0, 0, 1)",solid:l.Colors.ACCOUNT_GREY},p=c.default.Easing.inOut(c.default.Easing.cubic),g=function(e){function t(){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.getBackgroundColor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;return d[e.backdropStyle]},r.getOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;return f[e.backdropStyle]},r.getAnimationState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null!=e&&e!==r.props?{animate:new c.default.Value(0),opacity:[r.getOpacity(),r.getOpacity(e)],backgroundColor:[r.getBackgroundColor(),r.getBackgroundColor(e)]}:{animate:new c.default.Value(e!==r.props||t?1:0),opacity:[0,r.getOpacity()],backgroundColor:[r.getBackgroundColor(),r.getBackgroundColor()]}},r.componentWillEnter=function(e){r.state.animate.setValue(0),c.default.timing(r.state.animate,{toValue:1,duration:r.state.duration,easing:p}).start(e)},r.componentWillLeave=function(e){c.default.timing(r.state.animate,{toValue:0,duration:r.state.duration,easing:p}).start(e)},r.state=o({duration:r.props.backdropInstant?0:300},r.getAnimationState(r.props,!0)),i=n,a(r,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUpdate=function(e,t){var n=this;e.backdropStyle!==this.props.backdropStyle&&this.setState(this.getAnimationState(e),function(){c.default.timing(n.state.animate,{toValue:1,duration:t.duration,easing:p}).start(function(){return n.setState(n.getAnimationState())})})},t.prototype.render=function(){var e=c.default.accelerate({opacity:this.state.animate.interpolate({inputRange:[0,1],outputRange:this.state.opacity,easing:c.default.Easing.linear}),backgroundColor:this.state.animate.interpolate({inputRange:[0,1],outputRange:this.state.backgroundColor})});return i(c.default.div,{className:u.default.backdrop,style:e,onClick:this.props.onClose})},t}(s.default.PureComponent);g.LIGHT="light",g.DARK="dark",g.SUBTLE="subtle",g.SOLID="solid",g.defaultProps={backdropInstant:!1},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){w={},function(){if(null==T||T.expires>Date.now())return;o(T.pid)}()}function i(e){T={expires:Date.now()+E,pid:e},u.default.set(y,T),setTimeout(function(){return o(e)},E)}function o(e){null!=T&&T.pid===e&&(T=null,u.default.remove(y))}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=r(n(7)),l=r(n(5)),u=r(n(40)),f=r(n(1330)),d=r(n(1840)),p=r(n(1406)),g=r(n(101)),h=r(n(24)),m=r(n(22)),b=n(4),v=r(n(147)),_=r(n(14)),y="pinnedActivityPid",E=36e5,S=250,x=5e3,w={},T=u.default.get(y),C=void 0,A=_.default.throttle(function(e,t){l.default.dirtyDispatch({type:b.ActionTypes.LOCAL_ACTIVITY_UPDATE,pid:e,activity:t})},15e3,{leading:!0,trailing:!0}),I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(f.default,g.default,p.default)},t.prototype.getActivity=function(){var e=d.default.getStream();if(null==T&&null!=e)return s({type:b.ActivityTypes.STREAMING},e);if(g.default.showCurrentGame){var t=null!=T?T.pid:null,n=f.default.getVisibleGame();null==t&&null!=n&&(t=n.pid);var r=null!=t?w[t]:null;if(null==r&&null!=n&&(r={name:n.gameName,timestamps:{start:n.start}}),null!=r)return s({type:b.ActivityTypes.PLAYING},r)}var a=p.default.getActivity();return null!=a?s({type:b.ActivityTypes.LISTENING},a):null},t}(c.default.Store);t.default=new I(l.default,{START_SESSION:function(e){return a()},RUNNING_GAMES_CHANGE:function(e){return function(){var e=f.default.pids();null==T||e.includes(T.pid)||o(T.pid);var t=Object.keys(w).map(function(e){return+e}).filter(function(t){return!e.includes(t)}),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var i=a;delete w[i],C===i&&A.cancel()}}()},LOCAL_ACTIVITY_UPDATE:function(e){var t=e.pid,n=e.activity;if((0,v.default)(w[t],n))return!1;if(w[t]=n,null==n)o(t);else if(!f.default.pids().includes(t)&&m.default.embedded)var r=0,a=setInterval(function(){f.default.pids().includes(t)?clearInterval(a):(r+=S)<=x||(clearInterval(a),m.default.detectPid(t),i(t))},S)},LOCAL_ACTIVITY_UPDATE_THROTTLE:function(e){var t=e.pid,n=e.activity;C=t,A(t,n)},MESSAGE_CREATE:function(e){var t=e.message,n=t.activity,r=t.author,a=t.application,o=h.default.getId();if(null==n||null==a||r.id!==o)return!1;var s=Object.keys(w).map(function(e){return+e}).find(function(e){return w[e].application_id===a.id});if(null==s)return!1;i(s)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return u.default.get(l.Endpoints.APPLICATION_ASSETS(e)).then(function(t){var n=t.body;return m[e]={assets:d.default.keyBy(n,"name"),lastUpdated:Date.now()}})}function i(e){var t=m[e];return null==t||function(e){return Date.now()-e>p}(t.lastUpdated)?a(e):Promise.resolve(t)}function o(e){return i(e).then(function(e){return e.assets})}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return o(e).then(function(r){for(var i=t.length,o=0;o<i;o++){var c=t[o];if(null!=c){var l=Object.prototype.hasOwnProperty.call(r,c)&&r[c];if(!l){if(n<=0){t[o]=null;continue}return a(e).then(function(){return s(e,t,n-1)})}t[o]=l.id}}return t})}t.__esModule=!0;var c;t.getAssetFromImageURL=function(e,t){return e+":"+h[e].serialize(t)},t.getAssetImage=function(e,t,n){if(null==e&&null!=t&&t.includes(":")){var r=t.split(":"),a=r[0],i=r[1];return h.hasOwnProperty(a)?h[a].deserialize(i):null}if(null==e||null==t)return null;var o=null!=n?"?size="+(0,f.calculateSize)(n):"";return location.protocol+"//web.archive.org/web/20171224234543/https://cdn.discordapp.com/app-assets/"+e+"/"+t+".png"+o},t.getAssets=o,t.getAssetIds=s;var l=n(4),u=r(n(39)),f=n(220),d=r(n(14)),p=36e5,g="https://web.archive.org/web/20171224234543/https://i.scdn.co/image/",h=(c={},c[l.PlatformTypes.SPOTIFY]={deserialize:function(e){return""+g+encodeURIComponent(e)},serialize:function(e){return e.split(g)[1]}},c),m={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{guildId:e,scrollTop:0,scrollTo:null}}function i(e){if(c[e]){var t=c[e];return t.scrollTop===t.scrollHeight-t.offsetHeight}return!0}t.__esModule=!0;var o=r(n(7)),s=r(n(5)),c=(n(4),{}),l={},u={scrollTop:0},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.percentageScrolled=function(e){if(c[e]){var t=c[e];return t.scrollTop/t.scrollHeight}return 1},t.prototype.getChannelDimensions=function(e){return c[e]},t.prototype.getGuildDimensions=function(e){return l[e]||a(e)},t.prototype.getGuildListDimensions=function(){return u},t.prototype.isAtBottom=function(e){return i(e)},t}(o.default.Store);t.default=new f(s.default,{UPDATE_CHANNEL_DIMENSIONS:function(e){var t=e.channelId,n=e.scrollTop,r=e.scrollHeight,a=e.offsetHeight;if(null==n){if(null==c[t])return!1;delete c[t]}else c[t]={scrollTop:n,scrollHeight:r,offsetHeight:a}},UPDATE_CHANNEL_LIST_DIMENSIONS:function(e){var t=e.guildId,n=e.scrollTop,r=e.scrollTo;l[t]||(l[t]=a(t)),void 0!==n&&(l[t].scrollTop=n),void 0!==r&&(l[t].scrollTo=r)},UPDATE_GUILD_LIST_DIMENSIONS:function(e){var t=e.scrollTop;u.scrollTop=t},CALL_CREATE:function(e){var t=e.channelId;i(t)&&delete c[t]}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=S[e];return null==t&&(t=new w(e),S[e]=t),t}function o(e,t){return b.default.getNick(e,t.id)||t.toString()}function s(e){return{nick:e,comparator:e.toLowerCase()}}function c(e,t,n){var r=h.default.getUser(n),a=null==r;null==r&&(r=new y.default({id:n,username:"...",discriminator:n.slice(-5,-1)}));var i=f({voiceState:e,user:r},function(e,t){return s(o(e,t))}(t,r));return a&&(i._isPlaceholder=!0),i}function l(){return p.default.reduce(S,function(e,t){return t.updateUsers()||e},!1)}function u(){x.forEach(function(e){var t=e.guildId,n=e.userId;i(t||_.ME).updateVoiceState(n)}),x=[]}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=r(n(7)),p=r(n(14)),g=r(n(5)),h=r(n(58)),m=r(n(1291)),b=r(n(202)),v=r(n(24)),_=n(4),y=r(n(141)),E=Object.freeze([]),S={},x=[],w=function(){function e(t){a(this,e),this.guildId=t,this._voiceStates={},this._sortedVoiceStates=null}return e.prototype.isInvalid=function(){return null==this._sortedVoiceStates},e.prototype.invalidate=function(){this._sortedVoiceStates=null},e.prototype.updateVoiceState=function(e){var t=m.default.getVoiceState(this.guildId,e),n=this._voiceStates[e];null!=t?null==n?(this._voiceStates[e]=c(t,this.guildId,e),this.invalidate()):n.voiceState!==t&&(this._voiceStates[e]=f({},n,{voiceState:t}),this.invalidate()):null!=n&&(delete this._voiceStates[e],this.invalidate())},e.prototype.updateNick=function(e){var t=this._voiceStates[e];if(null!=t){var n=o(this.guildId,t.user);if(n!==t.nick)return this._voiceStates[e]=f({},t,s(n)),this.invalidate(),!0}return!1},e.prototype.forEach=function(e){var t=this.isInvalid();p.default.forEach(this._voiceStates,e);var n=this.isInvalid();return n&&n!==t},e.prototype.updateUsers=function(){var e=this;return this.forEach(function(t,n){var r=h.default.getUser(n);null!=r&&t.user!==r&&(e._voiceStates[n]=c(t.voiceState,e.guildId,n),e.invalidate())})},e.prototype.updateNicks=function(){var e=this;return this.forEach(function(t,n){if(!t._isPlaceholder){var r=o(e.guildId,t.user);t.nick!==r&&(e._voiceStates[n]=f({},t,s(r)),e.invalidate())}})},e.prototype.getVoiceStates=function(){return null==this._sortedVoiceStates&&(this._sortedVoiceStates=(0,p.default)(this._voiceStates).sortBy(function(e){return e.comparator}).groupBy(function(e){return e.voiceState.channelId}).value()),this._sortedVoiceStates},e}(),T=function(e){function t(){return a(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(v.default,h.default,b.default),this.syncWith([h.default],l),this.syncWith([m.default],u)},t.prototype.getVoiceStates=function(e){return i(e||_.ME).getVoiceStates()},t.prototype.getVoiceStatesForChannel=function(e,t){return this.getVoiceStates(e||_.ME)[t]||E},t}(d.default.Store);t.default=new T(g.default,{CONNECTION_OPEN:function(){S={},x=[]},VOICE_CHANNEL_SELECT:function(e){var t=e.guildId,n=v.default.getId();return null!=n&&x.push({guildId:t||_.ME,userId:n}),!1},VOICE_STATE_UPDATE:function(e){var t=e.guildId,n=e.userId;return x.push({guildId:t||_.ME,userId:n}),!1},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId,n=e.user;return i(t).updateNick(n.id)},GUILD_SYNC:function(e){return i(e.guild.id).updateNicks()},GUILD_DELETE:function(e){var t=e.guild;delete S[t.id]}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=r(n(3)),l=r(n(19)),u=r(n(204)),f=r(n(4637)),d=r(n(15)),p=r(n(4638)),g=r(n(1638)),h=r(n(1640)),m=r(n(4639)),b=r(n(4640)),v=r(n(1641)),_=function(e){return"string"==typeof e?e:null!==e&&JSON.stringify(e)||""},y=l.default.oneOfType([l.default.string,l.default.node]),E=1,S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return["clearValue","focusOption","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleRequired","handleTouchOutside","handleTouchMove","handleTouchStart","handleTouchEnd","handleTouchEndClearValue","handleValueClick","getOptionLabel","onOptionRef","removeValue","selectValue"].forEach(function(e){return n[e]=n[e].bind(n)}),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),s(t,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++E)+"-";var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:this.handleRequired(e[0],this.props.multi)})}},{key:"componentDidMount",value:function(){this.props.autofocus&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValueArray(e.value,e);e.required?this.setState({required:this.handleRequired(t[0],e.multi)}):this.props.required&&this.setState({required:!1})}},{key:"componentWillUpdate",value:function(e,t){if(t.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(t.isOpen);var n=t.isOpen?e.onOpen:e.onClose;n&&n()}}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=u.default.findDOMNode(this.focused);u.default.findDOMNode(this.menu).scrollTop=n.offsetTop,this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var r=u.default.findDOMNode(this.focused),a=u.default.findDOMNode(this.menu),i=r.getBoundingClientRect(),o=a.getBoundingClientRect();i.bottom>o.bottom?a.scrollTop=r.offsetTop+r.clientHeight-a.offsetHeight:i.top<o.top&&(a.scrollTop=r.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var s=this.menuContainer.getBoundingClientRect();window.innerHeight<s.bottom+this.props.menuBuffer&&window.scrollBy(0,s.bottom+this.props.menuBuffer-window.innerHeight)}e.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu())}},{key:"componentWillUnmount",value:function(){!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)}},{key:"toggleTouchOutsideEvent",value:function(e){e?!document.addEventListener&&document.attachEvent?document.attachEvent("ontouchstart",this.handleTouchOutside):document.addEventListener("touchstart",this.handleTouchOutside):!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(e){this.dragging=!0}},{key:"handleTouchStart",value:function(e){this.dragging=!1}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchEndClearValue",value:function(e){this.dragging||this.clearValue(e)}},{key:"handleMouseDown",value:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button)&&"INPUT"!==e.target.tagName){if(e.stopPropagation(),e.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen});if(this.state.isFocused){this.focus();var t=this.input;"function"==typeof t.getInput&&(t=t.getInput()),t.value="",this.setState({isOpen:!0,isPseudoFocused:!1})}else this._openAfterFocus=this.props.openOnClick,this.focus()}}},{key:"handleMouseDownOnArrow",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||this.state.isOpen&&(e.stopPropagation(),e.preventDefault(),this.closeMenu())}},{key:"handleMouseDownOnMenu",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:this.handleInputValueChange("")}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(e){if(!this.props.disabled){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:t}),this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(e){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=this.handleInputValueChange("")),this.setState(t)}else this.focus()}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.state.inputValue!==e.target.value&&(t=this.handleInputValueChange(t)),this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:t})}},{key:"handleInputValueChange",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":o(t))&&(e=""+t)}return e}},{key:"handleKeyDown",value:function(e){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(e),e.defaultPrevented))){switch(e.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue()));case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)return;return void this.selectFocusedOption();case 13:if(!this.state.isOpen)return;e.stopPropagation(),this.selectFocusedOption();break;case 27:this.state.isOpen?(this.closeMenu(),e.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(e),e.stopPropagation());break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;case 33:this.focusPageUpOption();break;case 34:this.focusPageDownOption();break;case 35:if(e.shiftKey)return;this.focusEndOption();break;case 36:if(e.shiftKey)return;this.focusStartOption();break;case 46:return void(!this.state.inputValue&&this.props.deleteRemoves&&(e.preventDefault(),this.popValue()));default:return}e.preventDefault()}}},{key:"handleValueClick",value:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)}},{key:"handleMenuScroll",value:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&t.scrollHeight-t.offsetHeight-t.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"handleRequired",value:function(e,t){return!e||(t?0===e.length:0===Object.keys(e).length)}},{key:"getOptionLabel",value:function(e){return e[this.props.labelKey]}},{key:"getValueArray",value:function(e,t){var n=this,r="object"===(void 0===t?"undefined":o(t))?t:this.props;if(r.multi){if("string"==typeof e&&(e=e.split(r.delimiter)),!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map(function(e){return n.expandValue(e,r)}).filter(function(e){return e})}var a=this.expandValue(e,r);return a?[a]:[]}},{key:"expandValue",value:function(e,t){var n=void 0===e?"undefined":o(e);if("string"!==n&&"number"!==n&&"boolean"!==n)return e;var r=t.options,a=t.valueKey;if(r)for(var i=0;i<r.length;i++)if(r[i][a]===e)return r[i]}},{key:"setValue",value:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=this.handleRequired(e,this.props.multi);this.setState({required:n})}this.props.onChange&&(this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange(e))}},{key:"selectValue",value:function(e){var t=this;if(this.props.closeOnSelect&&(this.hasScrolledToOption=!1),this.props.multi){var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},function(){t.addValue(e)})}else this.setState({inputValue:this.handleInputValueChange(""),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){t.setValue(e)})}},{key:"addValue",value:function(e){var t=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(e){return!e.disabled}),r=n.indexOf(e);this.setValue(t.concat(e)),n.length-1===r?this.focusOption(n[r-1]):n.length>r&&this.focusOption(n[r+1])}},{key:"popValue",value:function(){var e=this.getValueArray(this.props.value);e.length&&!1!==e[e.length-1].clearableValue&&this.setValue(this.props.multi?e.slice(0,e.length-1):null)}},{key:"removeValue",value:function(e){var t=this.getValueArray(this.props.value);this.setValue(t.filter(function(t){return t!==e})),this.focus()}},{key:"clearValue",value:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setValue(this.getResetValue()),this.setState({isOpen:!1,inputValue:this.handleInputValueChange("")},this.focus))}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(e){this.setState({focusedOption:e})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(e){var t=this._visibleOptions.map(function(e,t){return{option:e,index:t}}).filter(function(e){return!e.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,this.state.isOpen){if(t.length){for(var n=-1,r=0;r<t.length;r++)if(this._focusedOption===t[r].option){n=r;break}if("next"===e&&-1!==n)n=(n+1)%t.length;else if("previous"===e)n>0?n-=1:n=t.length-1;else if("start"===e)n=0;else if("end"===e)n=t.length-1;else if("page_up"===e){n=(a=n-this.props.pageSize)<0?0:a}else if("page_down"===e){var a;n=(a=n+this.props.pageSize)>t.length-1?t.length-1:a}-1===n&&(n=0),this.setState({focusedIndex:t[n].index,focusedOption:t[n].option})}}else this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||(t.length?t["next"===e?0:t.length-1].option:null)})}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"getInputValue",value:function(){return this.state.inputValue}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return c.default.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},c.default.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(e,t){var n=this,r=this.props.valueRenderer||this.getOptionLabel,a=this.props.valueComponent;if(!e.length)return this.state.inputValue?null:c.default.createElement("div",{className:"Select-placeholder"},this.props.placeholder);var i=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return c.default.createElement(a,{id:n._instancePrefix+"-value-"+t,instancePrefix:n._instancePrefix,disabled:n.props.disabled||!1===e.clearableValue,key:"value-"+t+"-"+e[n.props.valueKey],onClick:i,onRemove:n.removeValue,value:e},r(e,t),c.default.createElement("span",{className:"Select-aria-only"},""))}):this.state.inputValue?void 0:(t&&(i=null),c.default.createElement(a,{id:this._instancePrefix+"-value-item",disabled:this.props.disabled,instancePrefix:this._instancePrefix,onClick:i,value:e[0]},r(e[0])))}},{key:"renderInput",value:function(e,t){var n,r=this,o=(0,d.default)("Select-input",this.props.inputProps.className),s=!!this.state.isOpen,l=(0,d.default)((n={},a(n,this._instancePrefix+"-list",s),a(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),u=i({},this.props.inputProps,{role:"combobox","aria-expanded":""+s,"aria-owns":l,"aria-haspopup":""+s,"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],"aria-label":this.props["aria-label"],className:o,tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(e){return r.input=e},required:this.state.required,value:this.state.inputValue});if(this.props.inputRenderer)return this.props.inputRenderer(u);if(this.props.disabled||!this.props.searchable){var p=this.props.inputProps,g=(p.inputClassName,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(p,["inputClassName"])),h=(0,d.default)(a({},this._instancePrefix+"-list",s));return c.default.createElement("div",i({},g,{role:"combobox","aria-expanded":s,"aria-owns":h,"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value",className:o,tabIndex:this.props.tabIndex||0,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(e){return r.input=e},"aria-readonly":""+!!this.props.disabled,style:{border:0,width:1,display:"inline-block"}}))}return this.props.autosize?c.default.createElement(f.default,i({},u,{minWidth:"5"})):c.default.createElement("div",{className:o},c.default.createElement("input",u))}},{key:"renderClear",value:function(){if(!(!this.props.clearable||void 0===this.props.value||null===this.props.value||this.props.multi&&!this.props.value.length||this.props.disabled||this.props.isLoading)){var e=this.props.clearRenderer();return c.default.createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEndClearValue},e)}}},{key:"renderArrow",value:function(){var e=this.handleMouseDownOnArrow,t=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:e,isOpen:t});return c.default.createElement("span",{className:"Select-arrow-zone",onMouseDown:e},n)}},{key:"filterOptions",value:function(e){var t=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var r="function"==typeof this.props.filterOptions?this.props.filterOptions:g.default;return r(n,t,e,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(e,t){t&&(this.focused=e)}},{key:"renderMenu",value:function(e,t,n){return e&&e.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:e,selectValue:this.selectValue,valueArray:t,valueKey:this.props.valueKey,onOptionRef:this.onOptionRef}):this.props.noResultsText?c.default.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(e){var t=this;if(this.props.name){if(this.props.joinValues){var n=e.map(function(e){return _(e[t.props.valueKey])}).join(this.props.delimiter);return c.default.createElement("input",{type:"hidden",ref:function(e){return t.value=e},name:this.props.name,value:n,disabled:this.props.disabled})}return e.map(function(e,n){return c.default.createElement("input",{key:"hidden."+n,type:"hidden",ref:"value"+n,name:t.props.name,value:_(e[t.props.valueKey]),disabled:t.props.disabled})})}}},{key:"getFocusableOptionIndex",value:function(e){var t=this._visibleOptions;if(!t.length)return null;var n=this.props.valueKey,r=this.state.focusedOption||e;if(r&&!r.disabled){var a=-1;if(t.some(function(e,t){var i=e[n]===r[n];return i&&(a=t),i}),-1!==a)return a}for(var i=0;i<t.length;i++)if(!t[i].disabled)return i;return null}},{key:"renderOuter",value:function(e,t,n){var r=this,a=this.renderMenu(e,t,n);return a?c.default.createElement("div",{ref:function(e){return r.menuContainer=e},className:"Select-menu-outer",style:this.props.menuContainerStyle},c.default.createElement("div",{ref:function(e){return r.menu=e},role:"listbox",tabIndex:-1,className:"Select-menu",id:this._instancePrefix+"-list",style:this.props.menuStyle,onScroll:this.handleMenuScroll,onMouseDown:this.handleMouseDownOnMenu},a)):null}},{key:"render",value:function(){var e=this,t=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi?this.getValueArray(this.props.value):null),r=this.state.isOpen;this.props.multi&&!n.length&&t.length&&!this.state.inputValue&&(r=!1);var a=this.getFocusableOptionIndex(t[0]),i=null;i=this._focusedOption=null!==a?n[a]:null;var o=(0,d.default)("Select",this.props.className,{"Select--multi":this.props.multi,"Select--single":!this.props.multi,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"has-value":t.length}),s=null;return this.props.multi&&!this.props.disabled&&t.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(s=c.default.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",t[t.length-1][this.props.labelKey]))),c.default.createElement("div",{ref:function(t){return e.wrapper=t},className:o,style:this.props.wrapperStyle},this.renderHiddenField(t),c.default.createElement("div",{ref:function(t){return e.control=t},className:"Select-control",style:this.props.style,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},c.default.createElement("span",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(t,r),this.renderInput(t,a)),s,this.renderLoading(),this.renderClear(),this.renderArrow()),r?this.renderOuter(n,this.props.multi?null:t,i):null)}}]),t}();S.propTypes={"aria-describedby":l.default.string,"aria-label":l.default.string,"aria-labelledby":l.default.string,addLabelText:l.default.string,arrowRenderer:l.default.func,autoBlur:l.default.bool,autofocus:l.default.bool,autosize:l.default.bool,backspaceRemoves:l.default.bool,backspaceToRemoveMessage:l.default.string,className:l.default.string,clearAllText:y,clearRenderer:l.default.func,clearValueText:y,clearable:l.default.bool,closeOnSelect:l.default.bool,deleteRemoves:l.default.bool,delimiter:l.default.string,disabled:l.default.bool,escapeClearsValue:l.default.bool,filterOption:l.default.func,filterOptions:l.default.any,ignoreAccents:l.default.bool,ignoreCase:l.default.bool,inputProps:l.default.object,inputRenderer:l.default.func,instanceId:l.default.string,isLoading:l.default.bool,joinValues:l.default.bool,labelKey:l.default.string,matchPos:l.default.string,matchProp:l.default.string,menuBuffer:l.default.number,menuContainerStyle:l.default.object,menuRenderer:l.default.func,menuStyle:l.default.object,multi:l.default.bool,name:l.default.string,noResultsText:y,onBlur:l.default.func,onBlurResetsInput:l.default.bool,onChange:l.default.func,onClose:l.default.func,onCloseResetsInput:l.default.bool,onFocus:l.default.func,onInputChange:l.default.func,onInputKeyDown:l.default.func,onMenuScrollToBottom:l.default.func,onOpen:l.default.func,onSelectResetsInput:l.default.bool,onValueClick:l.default.func,openOnClick:l.default.bool,openOnFocus:l.default.bool,optionClassName:l.default.string,optionComponent:l.default.func,optionRenderer:l.default.func,options:l.default.array,pageSize:l.default.number,placeholder:y,required:l.default.bool,resetValue:l.default.any,scrollMenuIntoView:l.default.bool,searchable:l.default.bool,simpleValue:l.default.bool,style:l.default.object,tabIndex:l.default.string,tabSelectsValue:l.default.bool,value:l.default.any,valueComponent:l.default.func,valueKey:l.default.string,valueRenderer:l.default.func,wrapperStyle:l.default.object},S.defaultProps={addLabelText:'Add "{label}"?',arrowRenderer:p.default,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:m.default,clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:g.default,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:h.default,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onSelectResetsInput:!0,onCloseResetsInput:!0,openOnClick:!0,optionComponent:b.default,pageSize:5,placeholder:"Select...",required:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,valueComponent:v.default,valueKey:"value"},t.default=S},function(e,t,n){"use strict";(function(t){function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function r(e,t){var a,i,o,s=[];for(o in e)e.hasOwnProperty(o)&&(i=e[o],a=t?n(e)?t+"[]":t+"["+o+"]":o,"object"==typeof i?s.push(r(i,a)):s.push(encodeURIComponent(a)+"="+encodeURIComponent(i)));return s.join("&")}e.exports={parse:function(e){return e=e||t.location.href,/\?/.test(e)?e.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce(function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]),a=decodeURIComponent(n[1]);return e[r]=a,e},{}):{}},stringify:r,queryify:function(e,t){return e=e||"",null!=t&&"object"==typeof t&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=r(t)),e}}}).call(t,n(13))},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},function(e,t,n){function r(){a.call(this)}e.exports=r;var a=n(27).EventEmitter;n(1278)(r,a),r.Readable=n(1519),r.Writable=n(4738),r.Duplex=n(4739),r.Transform=n(4740),r.PassThrough=n(4741),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function i(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(c(),0===a.listenerCount(this,"error"))throw e}function c(){l.removeListener("data",n),e.removeListener("drain",r),l.removeListener("end",i),l.removeListener("close",o),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",c),l.removeListener("close",c),e.removeListener("close",c)}var l=this;l.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(l.on("end",i),l.on("close",o));var u=!1;return l.on("error",s),e.on("error",s),l.on("end",c),l.on("close",c),e.on("close",c),e.emit("pipe",l),e}},function(e,t,n){"use strict";(function(t){function n(e,n,r,a){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,a)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return t.nextTick(function(){e.apply(null,i)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(87))},function(e,t,n){var r=n(1282).Buffer,a=n(4750);e.exports=function(e,t,n,i){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=n/8,s=r.alloc(o),c=r.alloc(i||0),l=r.alloc(0);o>0||i>0;){var u=new a;u.update(l),u.update(e),t&&u.update(t),l=u.digest();var f=0;if(o>0){var d=s.length-o;f=Math.min(o,l.length),l.copy(s,d,0,f),o-=f}if(f<l.length&&i>0){var p=c.length-i,g=Math.min(i,l.length-f);l.copy(c,p,f,f+g),i-=g}}return l.fill(0),{key:s,iv:c}}},function(e,t,n){function r(e){s.isBuffer(e)||(e=s.from(e));for(var t=e.length/4|0,n=new Array(t),r=0;r<t;r++)n[r]=e.readUInt32BE(4*r);return n}function a(e){for(;0<e.length;e++)e[0]=0}function i(e,t,n,r,a){for(var i,o,s,c,l=n[0],u=n[1],f=n[2],d=n[3],p=e[0]^t[0],g=e[1]^t[1],h=e[2]^t[2],m=e[3]^t[3],b=4,v=1;v<a;v++)i=l[p>>>24]^u[g>>>16&255]^f[h>>>8&255]^d[255&m]^t[b++],o=l[g>>>24]^u[h>>>16&255]^f[m>>>8&255]^d[255&p]^t[b++],s=l[h>>>24]^u[m>>>16&255]^f[p>>>8&255]^d[255&g]^t[b++],c=l[m>>>24]^u[p>>>16&255]^f[g>>>8&255]^d[255&h]^t[b++],p=i,g=o,h=s,m=c;return i=(r[p>>>24]<<24|r[g>>>16&255]<<16|r[h>>>8&255]<<8|r[255&m])^t[b++],o=(r[g>>>24]<<24|r[h>>>16&255]<<16|r[m>>>8&255]<<8|r[255&p])^t[b++],s=(r[h>>>24]<<24|r[m>>>16&255]<<16|r[p>>>8&255]<<8|r[255&g])^t[b++],c=(r[m>>>24]<<24|r[p>>>16&255]<<16|r[g>>>8&255]<<8|r[255&h])^t[b++],i>>>=0,o>>>=0,s>>>=0,c>>>=0,[i,o,s,c]}function o(e){this._key=r(e),this._reset()}var s=n(1282).Buffer,c=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],a=[[],[],[],[]],i=[[],[],[],[]],o=0,s=0,c=0;c<256;++c){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,n[o]=l,r[l]=o;var u=e[o],f=e[u],d=e[f],p=257*e[l]^16843008*l;a[0][o]=p<<24|p>>>8,a[1][o]=p<<16|p>>>16,a[2][o]=p<<8|p>>>24,a[3][o]=p,p=16843009*d^65537*f^257*u^16843008*o,i[0][l]=p<<24|p>>>8,i[1][l]=p<<16|p>>>16,i[2][l]=p<<8|p>>>24,i[3][l]=p,0===o?o=s=1:(o=u^e[e[e[d^u]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:a,INV_SUB_MIX:i}}();o.blockSize=16,o.keySize=32,o.prototype.blockSize=o.blockSize,o.prototype.keySize=o.keySize,o.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),a=[],i=0;i<t;i++)a[i]=e[i];for(i=t;i<r;i++){var o=a[i-1];i%t==0?(o=o<<8|o>>>24,o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o],o^=c[i/t|0]<<24):t>6&&i%t==4&&(o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o]),a[i]=a[i-t]^o}for(var s=[],u=0;u<r;u++){var f=r-u,d=a[f-(u%4?0:4)];s[u]=u<4||f<=4?d:l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&d]]}this._nRounds=n,this._keySchedule=a,this._invKeySchedule=s},o.prototype.encryptBlockRaw=function(e){return e=r(e),i(e,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},o.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=s.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},o.prototype.decryptBlock=function(e){var t=(e=r(e))[1];e[1]=e[3],e[3]=t;var n=i(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),a=s.allocUnsafe(16);return a.writeUInt32BE(n[0],0),a.writeUInt32BE(n[3],4),a.writeUInt32BE(n[2],8),a.writeUInt32BE(n[1],12),a},o.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},e.exports.AES=o},function(e,t,n){"use strict";var r=t;r.base=n(4777),r.short=n(4778),r.mont=n(4779),r.edwards=n(4780)},function(e,t,n){(function(t){function r(e){var n;"object"!=typeof e||t.isBuffer(e)||(n=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var r,l,u=o(e,n),f=u.tag,d=u.data;switch(f){case"CERTIFICATE":l=a.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=a.PublicKey.decode(d,"der")),r=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=a.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+f);case"ENCRYPTED PRIVATE KEY":d=function(e,n){var r=e.algorithm.decrypt.kde.kdeparams.salt,a=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],l=e.algorithm.decrypt.cipher.iv,u=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,d=c.pbkdf2Sync(n,r,a,f),p=s.createDecipheriv(o,d,l),g=[];return g.push(p.update(u)),g.push(p.final()),t.concat(g)}(d=a.EncryptedPrivateKey.decode(d,"der"),n);case"PRIVATE KEY":switch(l=a.PrivateKey.decode(d,"der"),r=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:a.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=a.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+f);case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return d=a.ECPrivateKey.decode(d,"der"),{curve:d.parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+f)}}var a=n(4796),i=n(4808),o=n(4809),s=n(1523),c=n(1673);e.exports=r,r.signature=a.signature}).call(t,n(201).Buffer)},function(e,t,n){"use strict";(function(t){e.exports=function(e){return e=e||t.navigator.userAgent,/Android/.test(e)}}).call(t,n(13))},function(e,t,n){"use strict";var r=n(4838),a=n(1531);e.exports=function(e){return!(-1===(e=e||navigator.userAgent).indexOf("Chrome")&&-1===e.indexOf("CriOS")||r(e)||a(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(1718),a=n(1543);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(1350),a=n(4898),i=n(1543),o=n(1541)("IE_PROTO"),s=function(){},c=function(){var e,t=n(1717)("iframe"),r=i.length;for(t.style.display="none",n(4899).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=c(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(1335).f,a=n(1368),i=n(1321)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(1391),a=n(4924),i=n(4925),o=n(1350),s=n(1539),c=n(1731),l={},u={};(t=e.exports=function(e,t,n,f,d){var p,g,h,m,b=d?function(){return e}:c(e),v=r(n,f,t?2:1),_=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(i(b)){for(p=s(e.length);p>_;_++)if((m=t?v(o(g=e[_])[0],g[1]):v(e[_]))===l||m===u)return m}else for(h=b.call(e);!(g=h.next()).done;)if((m=a(h,v,g.value,t))===l||m===u)return m}).BREAK=l,t.RETURN=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(7)),o=r(n(1327)),s=r(n(142)),c=r(n(1749)),l=r(n(74)),u=r(n(58)),f=r(n(1339)),d=r(n(5));t.default=new i.default.CompoundStore(d.default,[o.default,s.default,c.default,l.default,f.default],function(){var e=s.default.isDisabled()?null:s.default.getChannelId(),t=o.default.getSelectedCallId(),n=c.default.getIncomingCallChannelIds();e&&f.default.isCallActive(e)&&n.unshift(e);var r=n.map(function(n){var r=l.default.getChannel(n);return a({},r,{iconURL:r.iconURL||r.getIconURL(),name:r.name||u.default.getUser(r.recipients[0]).username,audio:e===r.id,selected:t===r.id})});return{selectedGuildId:o.default.getSelectedGuildId(),ringing:c.default.hasIncomingCalls(),selectedVoiceChannelId:e,calls:r}}),e.exports=t.default},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){a.default.dispatch({type:i.ActionTypes.CLAIM_ACCOUNT_SUCCESS,email:e})}t.__esModule=!0,t.open=function(){a.default.dispatch({type:i.ActionTypes.CLAIM_ACCOUNT_MODAL_OPEN})},t.claim=function(e,t){return a.default.dispatch({type:i.ActionTypes.CLAIM_ACCOUNT_SUBMITTED}),(0,o.saveAccountRequest)({email:e,password:t}).then(function(){r(e)},function(e){return a.default.dispatch({type:i.ActionTypes.CLAIM_ACCOUNT_FAILURE,errors:e.body}),Promise.reject(e)})},t.claimSuccess=r,t.close=function(){a.default.dispatch({type:i.ActionTypes.CLAIM_ACCOUNT_MODAL_CLOSE})};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),i=n(4),o=n(1430)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(22)),i=r(n(1934));a.default.embedded&&a.default.isVersionEqualOrNewer({stable:{win32:"0.0.293",darwin:"0.0.243",linux:"0.0.1"},ptb:{win32:"0.0.24",darwin:"0.0.22",linux:"0.0.1"},canary:{win32:"0.0.132",darwin:"0.0.121",linux:"0.0.9"}})&&a.default.ensureModule("discord_rpc").then(function(){return i.default.loadServer()}),t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return null!=v?Promise.resolve(v):f.default.isDesktop()?f.default.ensureModule("discord_game_utils").then(function(){var e=f.default.getGameUtils();return null!=e&&null!=e.findLaunchable?(v=e,e):Promise.reject()}):Promise.reject()}function i(e){return{id:e.id,name:e.name,applicationId:e.applicationId,distributorGames:e.distributorGames,executables:e.executables.filter(function(e){return e.os==f.default.platform}).map(function(e){return e.name})}}function o(e){return{id:"app_"+e,applicationId:e}}function s(e){var t=Date.now();return t>b&&(b=t+E,m={}),m[e.id]?Promise.resolve(m[e.id]):a().then(function(t){return new Promise(function(n,r){t.findLaunchable(e,function(t){null!=t?(m[e.id]=t,n(t)):r()})})})}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e()?t():setTimeout(function(){r*_<=y?c(e,t,n,r+1):n()},_)}function l(e){return g.info("launch",e),new Promise(function(t,n){null!=v?v.launch(e,h,function(e){switch(e){case p.HAS_VISIBLE_WINDOW:case p.EXITED_EARLY:return void t();case p.FAILED:case p.TIMED_OUT_WAITING_FOR_WINDOW:default:return g.warn("launch failed:",e),void n(e)}}):n()})}t.__esModule=!0;var u=r(n(1619)),f=r(n(22)),d=(n(4),r(n(1620)),void 0),p={HAS_VISIBLE_WINDOW:0,FAILED:1,EXITED_EARLY:2,TIMED_OUT_WAITING_FOR_WINDOW:3},g=r(n(212)).default.create("Games"),h=6e4,m={},b=0,v=null,_=250,y=12e4,E=36e5;t.default={waitSubscribed:function(e,t){return null==d&&(d=n(1486)),new Promise(c.bind(this,function(){return null!=d&&d.isSubscribed(e,t)}))},waitConnected:function(e){return new Promise(c.bind(this,function(){return u.default.isConnected(e)}))},isLaunchable:function(e){return s(i(e)).then(function(e){return null!=e}).catch(function(){return!1})},launch:function(e){return s(i(e)).then(l)},isGameLaunchable:function(e){return s(o(e)).then(function(e){return null!=e}).catch(function(){return!1})},launchGame:function(e){return u.default.isConnected(e)?Promise.resolve():s(o(e)).then(l)},isProtocolRegistered:function(e){return a().then(function(t){return null!=t.isProtocolSchemeRegistered&&t.isProtocolSchemeRegistered(e)})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.SPOTIFY_PARTY_PREFIX=void 0,t.isSpotifyParty=function(e){return e.startsWith(u)},t.isSpotifyPlayable=function(e){return null!=e.getActiveSocketAndDevice()||e.isProtocolRegistered()},t.ensureSpotifyPlayable=function(){var e=i.default.getActiveSocketAndDevice();if(null!=e)return Promise.resolve(e);if(!i.default.isProtocolRegistered())return Promise.reject();var t=i.default.getPlayableComputerDevices();if(a.default.isObservedAppRunning(o.default.get(c.PlatformTypes.SPOTIFY).name)&&t.length>0){var n=t[0],r=n.socket,s=n.device;return Promise.resolve({socket:r,device:s})}return new Promise(function(e,n){var r=setTimeout(function(){i.default.removeChangeListener(a),n()},l),a=function n(){var a=function(){if(s){if(c>=o.length)return"break";l=o[c++]}else{if((c=o.next()).done)return"break";l=c.value}var a=l,u=a.socket,f=a.device;null==t.find(function(e){return e.device.id===f.id})&&(clearTimeout(r),i.default.removeChangeListener(n),e({socket:u,device:f}))},o=i.default.getPlayableComputerDevices(),s=Array.isArray(o),c=0;for(o=s?o:o[Symbol.iterator]();;){var l;if("break"===a())break}};i.default.addChangeListener(a),window.open(c.SPOTIFY_APP_PROTOCOL+":")})},t.ensureSpotifyPremium=function(){var e=i.default.getActiveSocketAndDevice();if(null==e)return Promise.reject(new Error("no active profile"));var t=e.socket;return t.isPremium?Promise.resolve():(0,s.getProfile)(t.accountId,t.accessToken).then(function(){if(!t.isPremium)return Promise.reject()})};var a=r(n(1330)),i=r(n(1406)),o=r(n(1304)),s=n(1432),c=n(4),l=3e4,u=t.SPOTIFY_PARTY_PREFIX="spotify:"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r(n(3)),r(n(15))),s=n(85),c=r(n(4650)),l={DEFAULT:c.default.themeDefault,CLEAR:c.default.themeClear},u={DEFAULT:c.default.sizeDefault,MINI:c.default.sizeMini},f={CHECKED:c.default.valueChecked,UNCHECKED:c.default.valueUnchecked},d="enabled",p="disabled",g=function(e){var t=e.onChange,n=e.value,r=e.fill,g=e.theme,h=void 0===g?l.DEFAULT:g,m=e.disabled,b=e.className,v=e.size,_=void 0===v?u.DEFAULT:v,y=e.style,E=m?p:d,S=n?f.CHECKED:f.UNCHECKED;return null!=r&&n&&(y=i({},y,{backgroundColor:r})),a("div",{className:(0,o.default)(b,(0,s.getClass)(c.default,"switch",E),S,_,h),style:y},void 0,a("input",{className:(0,s.getClass)(c.default,"checkbox",E),type:"checkbox",disabled:m,onChange:t,checked:n}))};g.Themes=l,g.Sizes=u,t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.getReactionTooltip=function(e,t){var n=o.default.getReactions(e.getChannelId(),e.id,t),r=c.default.getChannel(e.getChannelId()),f=null==r||r.isPrivate()?null:r.getGuildId();if(!(n=(0,a.default)(n).reject(function(e){return s.default.isBlocked(e.id)}).take(3).map(function(e){return null!=f&&l.default.getNick(f,e.id)||e.username}).value()).length)return"";var d=e.getReaction(t),p=Math.max(0,(d&&d.count||0)-n.length),g=void 0;return g=null==t.id?u.default.convertSurrogateToName(t.name):":"+t.name+":",1===n.length?p>0?i.default.Messages.REACTION_TOOLTIP_1_N.format({a:n[0],n:p,emojiName:g}):i.default.Messages.REACTION_TOOLTIP_1.format({a:n[0],emojiName:g}):2===n.length?p>0?i.default.Messages.REACTION_TOOLTIP_2_N.format({a:n[0],b:n[1],n:p,emojiName:g}):i.default.Messages.REACTION_TOOLTIP_2.format({a:n[0],b:n[1],emojiName:g}):3===n.length?p>0?i.default.Messages.REACTION_TOOLTIP_3_N.format({a:n[0],b:n[1],c:n[2],n:p,emojiName:g}):i.default.Messages.REACTION_TOOLTIP_3.format({a:n[0],b:n[1],c:n[2],emojiName:g}):i.default.Messages.REACTION_TOOLTIP_N.format({n:p,emojiName:g})},t.toReactionEmoji=function(e){return{id:e.id||null,name:e.id?e.name:e.surrogatePair,animated:e.animated}},t.emojiEquals=function(e,t){return null!=t.id?t.id==e.id:null==e.id&&t.name==e.name};var a=r(n(14)),i=r(n(21)),o=r(n(1648)),s=r(n(1283)),c=r(n(74)),l=r(n(202)),u=(r(n(1353)),r(n(1360)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(4),i=r(n(39)),o=r(n(5));t.default={stopGame:function(e,t){i.default.post({url:a.Endpoints.ACTIVITIES,body:{game_id:e,guild_ids:t},retries:1})},fetchFollowingUsers:function(){i.default.get({url:a.Endpoints.USER_GAMES_FOLLOWING,retries:3}).then(function(e){o.default.dispatch({type:a.ActionTypes.GAME_FOLLOWING_LOAD_SUCCESS,followingUserIds:e.body})})},getActivities:function(e){var t={};e.length>0&&(t.guild_ids=e),i.default.get({url:a.Endpoints.ACTIVITIES,query:t}).then(function(e){o.default.dispatch({type:a.ActionTypes.ACTIVITIES_UPDATE,activities:e.body})})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return Promise.all([l.default.get({url:f.Endpoints.BILLING}).then(function(e){c.default.dispatch({type:f.ActionTypes.BILLING_SYNC_PROFILE_SUCCESS,profile:e.body})}),l.default.get({url:f.Endpoints.BILLING_HISTORY}).then(function(e){c.default.dispatch({type:f.ActionTypes.BILLING_SYNC_HISTORY_SUCCESS,history:e.body})})]).then(function(){return c.default.dispatch({type:f.ActionTypes.BILLING_SYNC_SUCCESS})},function(e){c.default.dispatch({type:f.ActionTypes.BILLING_SYNC_ERROR,errors:e.body})})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.PremiumPlans.MONTHLY,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.PaymentSettings.STRIPE.PAYMENT_GATEWAY,a={url:f.Endpoints.BILLING_PREMIUM_SUBSCRIPTION,body:{}},i=void 0;e===f.PaymentModelModes.NEW?(i="put",a.body={token:t,payment_gateway:r,plan:n}):(i="patch",a.body={status:f.PremiumStatusTypes.ACTIVE,token:t});var o=e===f.PaymentModelModes.NEW?f.AnalyticEvents.PREMIUM_PURCHASE_COMPLETED:f.AnalyticEvents.PREMIUM_RESUBSCRIBED;return l.default[i](a).then(function(){c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE_COMPLETE}),c.default.dispatch({type:f.ActionTypes.PAYMENT_UPDATE_SUCCESS}),c.default.dispatch({type:f.ActionTypes.SUBSCRIBE_SUCCESS}),g.default.track(o,{success:!0,plan:n,payment_gateway:r})},function(e){return c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE_COMPLETE}),c.default.dispatch({type:f.ActionTypes.PAYMENT_UPDATE_FAILURE,error:e.body}),g.default.track(o,{success:!1,error_code:e.body.message,plan:n,payment_gateway:r}),Promise.reject(e.body)})}function o(e,t){return l.default.put({url:f.Endpoints.BILLING_PAYMENT_SOURCE,body:{payment_gateway:e,token:t}}).then(function(){return c.default.dispatch({type:f.ActionTypes.PAYMENT_UPDATE_SUCCESS})},function(e){return c.default.dispatch({type:f.ActionTypes.PAYMENT_UPDATE_FAILURE,error:e.body}),Promise.reject(e.body)})}function s(e){var t=e.number,n=e.exp,r=e.cvc,a=e.addressZip;return new Promise(function(e,i){(0,u.ensureStripeIsLoaded)().then(function(o){c.default.dispatch({type:f.ActionTypes.PAYMENT_PROCESSING}),o.card.createToken({number:t,cvc:r,exp:n,address_zip:a},function(t,n){200===t&&n&&n.id?e(n):(c.default.dispatch({type:f.ActionTypes.STRIPE_TOKEN_FAILURE,error:n?n.error:null}),i(n))})})})}t.__esModule=!0,t.getBillingInfo=void 0;var c=r(n(5)),l=r(n(39)),u=n(1652),f=n(4),d=r(n(1300)),p=r(n(21)),g=r(n(54));t.getBillingInfo=a,t.default={subscribeWithCreditCard:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.PaymentModelModes.NEW,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.PremiumPlans.MONTHLY;return new Promise(function(r,a){s(e).then(function(e){return i(t,e.id,n,f.PaymentSettings.STRIPE.PAYMENT_GATEWAY).then(r,a)},function(e){g.default.track(f.AnalyticEvents.PREMIUM_PURCHASE_COMPLETED,{success:!1,error_code:e.error.type+":"+e.error.code,plan:n,payment_gateway:f.PaymentSettings.STRIPE.PAYMENT_GATEWAY}),c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE_COMPLETE}),a(e)})})},subscribeWithPayPal:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.PremiumPlans.MONTHLY;return c.default.dispatch({type:f.ActionTypes.PAYMENT_PROCESSING}),i(e,t,n,f.PaymentSettings.BRAINTREE.PAYMENT_GATEWAY)},resubscribe:function(){return c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE}),i(f.PaymentModelModes.RESUBSCRIBE)},unsubscribe:function(e){return new Promise(function(t,n){d.default.show({body:e||p.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY,confirmText:p.default.Messages.PREMIUM_CANCEL_CONFIRM,cancelText:p.default.Messages.PREMIUM_CANCEL_CANCEL,onConfirm:function(){return c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE}),l.default.delete({url:f.Endpoints.BILLING_PREMIUM_SUBSCRIPTION}).then(function(){return c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE_COMPLETE})},function(e){return c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE_COMPLETE}),Promise.reject(e.body)}).then(t).catch(function(e){d.default.show({body:p.default.Messages.PREMIUM_CANCEL_FAILED_BODY}),n(e)})},onCancel:function(){return n()},className:"premium-unsubscribe"})})},upgrade:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.PremiumPlans.YEARLY,t=arguments[1];return new Promise(function(n,r){d.default.show({body:t||p.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY,confirmText:p.default.Messages.PREMIUM_UPGRADE_CONFIRM,cancelText:p.default.Messages.PREMIUM_UPGRADE_CANCEL,onConfirm:function(){return function(e){return l.default.patch({url:f.Endpoints.BILLING_PREMIUM_SUBSCRIPTION,body:{plan:e}}).then(function(){c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE_COMPLETE}),g.default.track(f.AnalyticEvents.PREMIUM_UPGRADE_COMPLETED,{success:!0,plan:e})},function(t){return c.default.dispatch({type:f.ActionTypes.PAYMENT_UPDATE_FAILURE,error:t.body}),g.default.track(f.AnalyticEvents.PREMIUM_UPGRADE_COMPLETED,{success:!1,plan:e,error_code:t.body.message}),Promise.reject(t.body)})}(e).then(n).catch(function(e){d.default.show({body:p.default.Messages.PREMIUM_UPGRADE_FAILED_BODY}),r(e)})},onCancel:function(){return r()},className:"premium-upgrade"})})},changeCard:function(e){return s(e).then(function(e){return o(f.PaymentSettings.STRIPE.PAYMENT_GATEWAY,e.id)})},changePayPalAccount:function(e){return o(f.PaymentSettings.BRAINTREE.PAYMENT_GATEWAY,e)},removePaymentSource:function(){return c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE}),l.default.delete({url:f.Endpoints.BILLING_PAYMENT_SOURCE}).then(function(){c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE_COMPLETE}),g.default.track(f.AnalyticEvents.PREMIUM_CREDIT_CARD_REMOVED)},function(){return c.default.dispatch({type:f.ActionTypes.BILLING_INFO_UPDATE_COMPLETE})})},getBillingInfo:function(){return c.default.dirtyDispatch({type:f.ActionTypes.BILLING_SYNC}),a()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),o=r(n(555)),s=r(n(3)),c=r(n(15));t.default=function(e){var t=e.isSubmit,n=void 0===t||t,r=e.disabled,l=void 0!==r&&r,u=e.className,f=e.children,d=e.success,p=void 0!==d&&d,g=e.failure,h=void 0!==g&&g,m=e.spinnerType,b=void 0===m?"chasing-dots":m,v=e.component,_=void 0===v?"button":v,y=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isSubmit","disabled","className","children","success","failure","spinnerType","component"]),E=_,S=l?i(o.default,{type:b}):null;return s.default.createElement(E,a({type:n?"submit":"button",disabled:l||p,className:(0,c.default)(u,{"btn-saving":l,"btn-success":p,"btn-failure":h,disabled:l})},y),S,f)},e.exports=t.default},,,,,,,,,,function(e,t){e.exports={backdrop:"backdrop-2ohBEd"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){Date.now()-d>f.IDLE_DURATION?p||s.default.dirtyDispatch({type:f.ActionTypes.IDLE,idle:!0,idleSince:d}):p&&s.default.dirtyDispatch({type:f.ActionTypes.IDLE,idle:!1}),Date.now()-d>Math.min(1e3*u.default.afkTimeout,f.IDLE_DURATION)?g||s.default.dirtyDispatch({type:f.ActionTypes.AFK,afk:!0}):g&&s.default.dirtyDispatch({type:f.ActionTypes.AFK,afk:!1})}function i(){return d=Date.now(),a(),!1}t.__esModule=!0;var o=r(n(7)),s=r(n(5)),c=r(n(22)),l=r(n(24)),u=r(n(101)),f=n(4),d=Date.now(),p=!1,g=!1;if(c.default.embedded){!function e(){c.default.getIdleMilliseconds(function(t){d=Math.max(Date.now()-t,d),a(),setTimeout(e,1e4)})}()}else setInterval(a,.25*f.IDLE_DURATION);var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isIdle=function(){return p},t.prototype.isAFK=function(){return g},t.prototype.getIdleSince=function(){return p?d:null},t}(o.default.Store);t.default=new h(s.default,{IDLE:function(e){p=e.idle},AFK:function(e){g=e.afk},SPEAKING:function(e){var t=e.userId;return e.speaking&&t===l.default.getId()&&i(),!1},GUILD_SELECT:i,CHANNEL_SELECT:i,VOICE_CHANNEL_SELECT:i,WINDOW_FOCUS:i}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return!0}t.__esModule=!0;var i,o,s=r(n(7)),c=r(n(5)),l=r(n(214)),u=r(n(76)),f=n(4),d=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([u.default],a)},t.prototype.getExperimentId=function(){return f.Experiments.SPOTIFY},t.prototype.getMetaData=function(){return{title:"Spotify",description:["TREATMENT_1: Spotify"]}},t.prototype.canUseSpotify=function(){var e=u.default.getEligibleExperiment(this.getExperimentId());return null!=e&&e.bucket==f.ExperimentBuckets.TREATMENT_1},t}(s.default.Store))(c.default);l.default.register(d,(o={},o[f.ExperimentTypes.USER]=(i={},i[f.ExperimentBuckets.TREATMENT_1]=function(){return null},i),o)),t.default=d,e.exports=t.default},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e.forEach(function(e){return r(e,t)}):"string"==typeof e.content?t.push(e.content):null!=e.content&&r(e.content,t),t}function a(e,t){if(Array.isArray(t))for(var n=t.length,r=0;r<n;r++)e.push(t[r]);else e.push(t)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(e)){for(var n=e.length,r=[],o=0;o<n;o++)a(r,i(e[o],t));return r}return null!=e.content&&(e.content=i(e.content,e)),null!=t&&e.type===t.type?e.content:e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:200};if("text"!==e.type&&(t.limit-=1,t.limit<=0))return s;if(Array.isArray(e))for(var n=e.length,r=0;r<n;r++){var a=o(e[r],t);if(a===s){e.length=r;break}e[r]=a}return e}t.__esModule=!0;var s=new Function;t.astToString=function(e){return r(e).join("")},t.flattenAst=i,t.constrainAst=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){if(S=[],!d.default.enabled){var e=u.default.getAccounts().filter(function(e){return v.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type});S=o.default.without.apply(o.default,[[v.PlatformTypes.FACEBOOK].concat(E)].concat(e))}}t.__esModule=!0;var i=r(n(7)),o=r(n(14)),s=r(n(5)),c=r(n(208)),l=r(n(1509)),u=r(n(1431)),f=r(n(101)),d=r(n(1284)),p=r(n(40)),g=r(n(1850)),h=r(n(1304)),m=r(n(22)),b=r(n(54)),v=n(4),_="DetectedPlatformAccountsStore",y=[],E=[],S=[],x=v.DetectedPlatformAccountsDisplayTypes.NONE,w={},T=[],C=void 0,A=new g.default(function(e,t){var n=u.default.getAccounts(),r=h.default.filter(function(e){return!e.serverSync&&e.enabled}).map(function(e){return e.type}).filter(function(e){return-1===E.indexOf(e)}).filter(function(e){return!n.some(function(t){return t.type===e})}).filter(function(e){return!y.some(function(t){return t.type===e})});r.length>0&&(t||f.default.detectPlatformAccounts)&&l.default.detectAccounts(r),e()}),I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,c.default,d.default,f.default),E=p.default.get(_)||E},t.prototype.getDetectedAccounts=function(){return y},t.prototype.getDisplayType=function(){return d.default.enabled?v.DetectedPlatformAccountsDisplayTypes.NONE:x},t.prototype.getAvailablePlatformTypes=function(){return S},t.prototype.hasAvailablePlatformType=function(e){return S.includes(e)},t.prototype.getNotDetectedPlatformTypes=function(){return T},t.prototype.isDetecting=function(e){return w[e]||!1},t.prototype.isOpen=function(){return this.getDisplayType()==v.DetectedPlatformAccountsDisplayTypes.MODAL},t.prototype.getProps=function(){return{detectedAccounts:y,displayType:x,analyticsLocation:C}},t}(i.default.Store);t.default=new I(s.default,{CONNECTION_OPEN:function(){m.default.embedded&&(A.start(6e4),A.run()),a()},CONNECTION_CLOSED:function(){return A.stop(),!1},USER_CONNECTIONS_UPDATE:function(){m.default.embedded&&A.run(),a()},PLATFORM_ACCOUNTS_DETECTING:function(e){var t=e.platformTypes,n=e.location;t.forEach(function(e){return w[e]=!0}),null!=n&&(T=[])},PLATFORM_ACCOUNTS_DETECTED:function(e){var t=e.platformTypes,n=e.accounts,r=e.location;t.forEach(function(e){return w[e]=!1});var a=u.default.getAccounts();y=[].concat(y.filter(function(e){return-1===t.indexOf(e.type)}),n.filter(function(e){return!a.some(function(t){return e.type===t.type&&e.id===t.id})}));var i=null!=r;y.length>0?(i?x=v.DetectedPlatformAccountsDisplayTypes.MODAL:x===v.DetectedPlatformAccountsDisplayTypes.NONE&&(x=c.default.isFocused()?v.DetectedPlatformAccountsDisplayTypes.NOTICE:v.DetectedPlatformAccountsDisplayTypes.MODAL),n.forEach(function(e){b.default.track("detect_platform_account",{platform_type:e.type,display_type:x,location:r})})):x=v.DetectedPlatformAccountsDisplayTypes.NONE,i&&(T=t.filter(function(e){return!y.some(function(t){return t.type===e})})),C=r},PLATFORM_ACCOUNTS_IGNORE:function(e){var t=e.platformTypes;null==t&&(t=(0,o.default)(y).map(function(e){return e.type}).uniq().value()),t.forEach(function(e){b.default.track("ignore_platform_account",{platform_type:e,display_type:x})}),E=o.default.uniq([].concat(E,y.map(function(e){return e.type}))),p.default.set(_,E),a(),y=[],x=v.DetectedPlatformAccountsDisplayTypes.NONE},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){x=e.displayType},WINDOW_FOCUS:function(e){var t=e.focused;x!==v.DetectedPlatformAccountsDisplayTypes.NOTICE||t||(x=v.DetectedPlatformAccountsDisplayTypes.MODAL)},STREAMER_MODE_UPDATE:function(e){return a()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return a()},EXPERIMENT_OVERRIDE_BUCKET:function(e){return a()},EXPERIMENT_OVERRIDE_TYPE:function(e){return a()}}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),a=n(4),i=n(1849);t.default={detectAccounts:function(e,t){return r.default.dispatch({type:a.ActionTypes.PLATFORM_ACCOUNTS_DETECTING,platformTypes:e,location:t}),(0,i.fetchAccounts)(e).then(function(n){return r.default.dispatch({type:a.ActionTypes.PLATFORM_ACCOUNTS_DETECTED,platformTypes:e,accounts:n,location:t}),n})},ignore:function(e){r.default.dispatch({type:a.ActionTypes.PLATFORM_ACCOUNTS_IGNORE,platformTypes:e})},changeDisplayType:function(e){r.default.dispatch({type:a.ActionTypes.DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE,displayType:e})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=!1,t=Object.keys(g),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var i=a,o=g[i],s=f.default.getActivity(i);null!=s&&o.applicationId===s.application_id||(delete g[i],e=!0)}return e}function i(e){var t=e.type,n=e.user,r=e.applicationId,a=new s.Timeout;g[n.id]={user:n,timeout:a,applicationId:r,state:t===u.ActionTypes.ACTIVITY_JOIN_REQUEST?u.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:u.ActivityJoinRequestStates.SENDER_INVITE_WAITING},a.start(d,function(){t===u.ActionTypes.ACTIVITY_JOIN_REQUEST?c.default.dirtyDispatch({type:u.ActionTypes.ACTIVITY_JOIN_REQUEST_CLOSE,userId:n.id}):c.default.dirtyDispatch({type:u.ActionTypes.ACTIVITY_JOIN_REQUEST_SEND_EXPIRE,userId:n.id})})}t.__esModule=!0;var o=r(n(7)),s=n(206),c=r(n(5)),l=r(n(14)),u=n(4),f=r(n(1288)),d=3e4,p=5e3,g={},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([f.default],a)},t.prototype.getRequest=function(e){return null!=e?g[e]:l.default.values(g)[0]},t}(o.default.Store);t.default=new h(c.default,{ACTIVITY_JOIN_REQUEST_CLOSE:function(e){var t=e.userId,n=g[t];if(null==n)return!1;n.timeout.stop(),delete g[t]},ACTIVITY_JOIN_REQUEST:i,ACTIVITY_JOIN_REQUEST_SEND:i,ACTIVITY_JOIN_REQUEST_SEND_EXPIRE:function(e){var t=e.userId,n=g[t];if(null==n)return!1;n.state=u.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED},ACTIVITY_JOIN_INVITE:function(e){var t=e.userId,n=e.secret,r=g[t];if(null==r)return!1;r.state=u.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED,r.secret=n,r.timeout.stop()},ACTIVITY_JOIN_INVITE_SEND:function(e){var t=e.userId,n=g[t];if(null==n)return!1;n.state=u.ActivityJoinRequestStates.RECEIVER_INVITE_SENT,n.timeout.start(p,function(){c.default.dirtyDispatch({type:u.ActionTypes.ACTIVITY_JOIN_REQUEST_CLOSE,userId:t})})}}),e.exports=t.default},function(e,t){e.exports={scrollbar:"scrollbar-11WJwo",scrollbarDefault:"scrollbarDefault-3oTVtP scrollbar-11WJwo",scrollbarGhost:"scrollbarGhost-K_3Xa9 scrollbar-11WJwo",scrollbarGhostHairline:"scrollbarGhostHairline-D_btXm scrollbar-11WJwo"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return u[e]||f}function i(e){var t=e.channelId,n=e.userId,r=u[t];if(null==r||null==r[n])return!1;var a=o({},r);clearTimeout(a[n]),delete a[n],u[t]=a}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=r(n(7)),c=r(n(5)),l=n(4),u={},f=Object.freeze({}),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getTypingUsers=function(e){return a(e)},t.prototype.isTyping=function(e,t){return null!=a(e)[t]},t.prototype.getCount=function(e){var t=a(e);return t==f?0:Object.keys(t).length},t}(s.default.Store);t.default=new d(c.default,{TYPING_START:function(e){var t=e.channelId,n=e.userId,r=o({},a(t));clearTimeout(r[n]),r[n]=function(e,t){return setTimeout(function(){c.default.dispatch({type:l.ActionTypes.TYPING_STOP,channelId:e,userId:t})},l.TYPING_TIMEOUT)}(t,n),u[t]=r},TYPING_STOP:i,CONNECTION_OPEN:function(){u={}},MESSAGE_CREATE:function(e){return i({channelId:e.channelId,userId:e.message.author.id})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=r(n(3)),o=r(n(15)),s=r(n(625)),c=r(n(4634)),l=r(n(1511)),u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.onChange=r.onChange.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPaddingRight=function(){var e=this.props.maxLength;return null==e?10:7.23*(""+e).length+10},t.prototype.renderMaxLength=function(){var e=this.props,t=e.maxLength,n=e.value;if(null==t)return null;var r=t-(null!=n?n.length:0);return a("div",{className:c.default.maxLength},void 0,r)},t.prototype.renderErrorMessage=function(){var e=this.props.error;return null==e?null:a("div",{className:s.default.errorMessage},void 0,e)},t.prototype.render=function(){var e,t=this.props,n=t.disabled,r=t.value,i=t.placeholder,u=t.error,f=t.autoFocus,d=t.maxLength,p=t.resizeable,g=t.className,h=t.id,m=t.rows;return a("div",{className:s.default.inputWrapper},void 0,a("div",{className:c.default.inputMaxLength},void 0,a("textarea",{type:"text",className:(0,o.default)(s.default.inputDefault,c.default.textArea,l.default.scrollbarDefault,g,(e={},e[s.default.error]=u,e[s.default.disabled]=n,e[c.default.resizeable]=p,e)),style:{paddingRight:this.getPaddingRight()},id:h,disabled:n,placeholder:i,value:r,autoFocus:f,maxLength:d,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,rows:m}),this.renderMaxLength()),this.renderErrorMessage())},t.prototype.onChange=function(e){var t=this.props,n=t.onChange,r=t.name;n&&n(e.target.value,r)},t.prototype.onFocus=function(e){var t=this.props,n=t.onFocus,r=t.name;n&&n(e,r)},t.prototype.onBlur=function(e){var t=this.props,n=t.onBlur,r=t.name;n&&n(e,r)},t}(i.default.PureComponent);u.defaultProps={name:"",disabled:!1,placeholder:"",autoFocus:!1,resizeable:!1,rows:3},t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(5)),o=n(4),s=r(n(54)),c=n(1309),l={};t.default=a({},l,{selectParticipant:function(e){i.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_CALL_SELECT_PARTICIPANT,participantId:e})},updateLayout:function(e,t){s.default.track(o.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,a({video_layout:t},(0,c.collectVoiceAnalyticsMetadata)(e))),i.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_CALL_UPDATE_LAYOUT,channelId:e,layout:t})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.mount=function(){a.default.dirtyDispatch({type:o.ActionTypes.ACTIVITY_FEED_MOUNT})},t.unmount=function(){a.default.dirtyDispatch({type:o.ActionTypes.ACTIVITY_FEED_UNMOUNT})},t.handleRedirect=function(){i.default.transitionTo(o.Routes.INDEX),a.default.dirtyDispatch({type:o.ActionTypes.ACTIVITY_FEED_HANDLE_REDIRECT})},t.setShowFriends=function(e){a.default.dispatch({type:o.ActionTypes.ACTIVITY_FEED_SET_SHOW_FRIENDS,shouldShow:e})},t.setShowGuilds=function(e){a.default.dispatch({type:o.ActionTypes.ACTIVITY_FEED_SET_SHOW_GUILDS,shouldShow:e})},t.setShowGuild=function(e,t){a.default.dispatch({type:o.ActionTypes.ACTIVITY_FEED_SET_SHOW_GUILD,guildId:e,shouldShow:t})},t.addMembersToFeed=function(e){a.default.dispatch({type:o.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD,userIds:e})},t.removeMembersFromFeed=function(e){a.default.dispatch({type:o.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_REMOVE,userIds:e})};var a=r(n(5)),i=r(n(49)),o=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(5)),o=n(4),s=r(n(1653));t.default={setDesktopType:function(e){i.default.dispatch({type:o.ActionTypes.NOTIFICATIONS_SET_DESKTOP_TYPE,desktopType:e})},setTTSType:function(e){i.default.dispatch({type:o.ActionTypes.NOTIFICATIONS_SET_TTS_TYPE,ttsType:e})},setDisabledSounds:function(e){i.default.dispatch({type:o.ActionTypes.NOTIFICATIONS_SET_DISABLED_SOUNDS,sounds:e})},setDisableUnreadBadge:function(e){i.default.dispatch({type:o.ActionTypes.NOTIFICATIONS_SET_DISABLE_UNREAD_BADGE,disableUnreadBadge:e})},setTaskbarFlash:function(e){i.default.dispatch({type:o.ActionTypes.NOTIFICATIONS_SET_TASKBAR_FLASH,taskbarFlash:e})},requestPermission:function(e){s.default.requestPermission(function(t){i.default.dispatch({type:o.ActionTypes.NOTIFICATIONS_SET_PERMISSION_STATE,enabled:t?o.NotificationPermissionTypes.ENABLED:o.NotificationPermissionTypes.BLOCKED,source:e})})},showNotification:function(e,t,n,r){i.default.dirtyDispatch({type:o.ActionTypes.NOTIFICATION_CREATE,icon:e,title:t,body:n,options:a({},r,{onClick:function(){r.onClick&&r.onClick(),i.default.dirtyDispatch({type:o.ActionTypes.NOTIFICATION_CLICK})}})})},clickedNotification:function(){i.default.dirtyDispatch({type:o.ActionTypes.NOTIFICATION_CLICK})}},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,a=-1732584194,u=271733878,f=0;f<e.length;f+=16){var d=n,p=r,g=a,h=u;r=c(r=c(r=c(r=c(r=s(r=s(r=s(r=s(r=o(r=o(r=o(r=o(r=i(r=i(r=i(r=i(r,a=i(a,u=i(u,n=i(n,r,a,u,e[f+0],7,-680876936),r,a,e[f+1],12,-389564586),n,r,e[f+2],17,606105819),u,n,e[f+3],22,-1044525330),a=i(a,u=i(u,n=i(n,r,a,u,e[f+4],7,-176418897),r,a,e[f+5],12,1200080426),n,r,e[f+6],17,-1473231341),u,n,e[f+7],22,-45705983),a=i(a,u=i(u,n=i(n,r,a,u,e[f+8],7,1770035416),r,a,e[f+9],12,-1958414417),n,r,e[f+10],17,-42063),u,n,e[f+11],22,-1990404162),a=i(a,u=i(u,n=i(n,r,a,u,e[f+12],7,1804603682),r,a,e[f+13],12,-40341101),n,r,e[f+14],17,-1502002290),u,n,e[f+15],22,1236535329),a=o(a,u=o(u,n=o(n,r,a,u,e[f+1],5,-165796510),r,a,e[f+6],9,-1069501632),n,r,e[f+11],14,643717713),u,n,e[f+0],20,-373897302),a=o(a,u=o(u,n=o(n,r,a,u,e[f+5],5,-701558691),r,a,e[f+10],9,38016083),n,r,e[f+15],14,-660478335),u,n,e[f+4],20,-405537848),a=o(a,u=o(u,n=o(n,r,a,u,e[f+9],5,568446438),r,a,e[f+14],9,-1019803690),n,r,e[f+3],14,-187363961),u,n,e[f+8],20,1163531501),a=o(a,u=o(u,n=o(n,r,a,u,e[f+13],5,-1444681467),r,a,e[f+2],9,-51403784),n,r,e[f+7],14,1735328473),u,n,e[f+12],20,-1926607734),a=s(a,u=s(u,n=s(n,r,a,u,e[f+5],4,-378558),r,a,e[f+8],11,-2022574463),n,r,e[f+11],16,1839030562),u,n,e[f+14],23,-35309556),a=s(a,u=s(u,n=s(n,r,a,u,e[f+1],4,-1530992060),r,a,e[f+4],11,1272893353),n,r,e[f+7],16,-155497632),u,n,e[f+10],23,-1094730640),a=s(a,u=s(u,n=s(n,r,a,u,e[f+13],4,681279174),r,a,e[f+0],11,-358537222),n,r,e[f+3],16,-722521979),u,n,e[f+6],23,76029189),a=s(a,u=s(u,n=s(n,r,a,u,e[f+9],4,-640364487),r,a,e[f+12],11,-421815835),n,r,e[f+15],16,530742520),u,n,e[f+2],23,-995338651),a=c(a,u=c(u,n=c(n,r,a,u,e[f+0],6,-198630844),r,a,e[f+7],10,1126891415),n,r,e[f+14],15,-1416354905),u,n,e[f+5],21,-57434055),a=c(a,u=c(u,n=c(n,r,a,u,e[f+12],6,1700485571),r,a,e[f+3],10,-1894986606),n,r,e[f+10],15,-1051523),u,n,e[f+1],21,-2054922799),a=c(a,u=c(u,n=c(n,r,a,u,e[f+8],6,1873313359),r,a,e[f+15],10,-30611744),n,r,e[f+6],15,-1560198380),u,n,e[f+13],21,1309151649),a=c(a,u=c(u,n=c(n,r,a,u,e[f+4],6,-145523070),r,a,e[f+11],10,-1120210379),n,r,e[f+2],15,718787259),u,n,e[f+9],21,-343485551),n=l(n,d),r=l(r,p),a=l(a,g),u=l(u,h)}return[n,r,a,u]}function a(e,t,n,r,a,i){return l(function(e,t){return e<<t|e>>>32-t}(l(l(t,e),l(r,i)),a),n)}function i(e,t,n,r,i,o,s){return a(t&n|~t&r,e,t,i,o,s)}function o(e,t,n,r,i,o,s){return a(t&r|n&~r,e,t,i,o,s)}function s(e,t,n,r,i,o,s){return a(t^n^r,e,t,i,o,s)}function c(e,t,n,r,i,o,s){return a(n^(t|~r),e,t,i,o,s)}function l(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var u=n(4731);e.exports=function(e){return u(e,r)}},function(e,t,n){"use strict";(function(t){function r(){f.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function a(e,t){return e<<t|e>>>32-t}function i(e,t,n,r,i,o,s,c){return a(e+(t^n^r)+o+s|0,c)+i|0}function o(e,t,n,r,i,o,s,c){return a(e+(t&n|~t&r)+o+s|0,c)+i|0}function s(e,t,n,r,i,o,s,c){return a(e+((t|~n)^r)+o+s|0,c)+i|0}function c(e,t,n,r,i,o,s,c){return a(e+(t&r|n&~r)+o+s|0,c)+i|0}function l(e,t,n,r,i,o,s,c){return a(e+(t^(n|~r))+o+s|0,c)+i|0}var u=n(1278),f=n(4732);u(r,f),r.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,u=this._c,f=this._d,d=this._e;d=i(d,n=i(n,r,u,f,d,e[0],0,11),r,u=a(u,10),f,e[1],0,14),r=i(r=a(r,10),u=i(u,f=i(f,d,n,r,u,e[2],0,15),d,n=a(n,10),r,e[3],0,12),f,d=a(d,10),n,e[4],0,5),f=i(f=a(f,10),d=i(d,n=i(n,r,u,f,d,e[5],0,8),r,u=a(u,10),f,e[6],0,7),n,r=a(r,10),u,e[7],0,9),n=i(n=a(n,10),r=i(r,u=i(u,f,d,n,r,e[8],0,11),f,d=a(d,10),n,e[9],0,13),u,f=a(f,10),d,e[10],0,14),u=i(u=a(u,10),f=i(f,d=i(d,n,r,u,f,e[11],0,15),n,r=a(r,10),u,e[12],0,6),d,n=a(n,10),r,e[13],0,7),d=o(d=a(d,10),n=i(n,r=i(r,u,f,d,n,e[14],0,9),u,f=a(f,10),d,e[15],0,8),r,u=a(u,10),f,e[7],1518500249,7),r=o(r=a(r,10),u=o(u,f=o(f,d,n,r,u,e[4],1518500249,6),d,n=a(n,10),r,e[13],1518500249,8),f,d=a(d,10),n,e[1],1518500249,13),f=o(f=a(f,10),d=o(d,n=o(n,r,u,f,d,e[10],1518500249,11),r,u=a(u,10),f,e[6],1518500249,9),n,r=a(r,10),u,e[15],1518500249,7),n=o(n=a(n,10),r=o(r,u=o(u,f,d,n,r,e[3],1518500249,15),f,d=a(d,10),n,e[12],1518500249,7),u,f=a(f,10),d,e[0],1518500249,12),u=o(u=a(u,10),f=o(f,d=o(d,n,r,u,f,e[9],1518500249,15),n,r=a(r,10),u,e[5],1518500249,9),d,n=a(n,10),r,e[2],1518500249,11),d=o(d=a(d,10),n=o(n,r=o(r,u,f,d,n,e[14],1518500249,7),u,f=a(f,10),d,e[11],1518500249,13),r,u=a(u,10),f,e[8],1518500249,12),r=s(r=a(r,10),u=s(u,f=s(f,d,n,r,u,e[3],1859775393,11),d,n=a(n,10),r,e[10],1859775393,13),f,d=a(d,10),n,e[14],1859775393,6),f=s(f=a(f,10),d=s(d,n=s(n,r,u,f,d,e[4],1859775393,7),r,u=a(u,10),f,e[9],1859775393,14),n,r=a(r,10),u,e[15],1859775393,9),n=s(n=a(n,10),r=s(r,u=s(u,f,d,n,r,e[8],1859775393,13),f,d=a(d,10),n,e[1],1859775393,15),u,f=a(f,10),d,e[2],1859775393,14),u=s(u=a(u,10),f=s(f,d=s(d,n,r,u,f,e[7],1859775393,8),n,r=a(r,10),u,e[0],1859775393,13),d,n=a(n,10),r,e[6],1859775393,6),d=s(d=a(d,10),n=s(n,r=s(r,u,f,d,n,e[13],1859775393,5),u,f=a(f,10),d,e[11],1859775393,12),r,u=a(u,10),f,e[5],1859775393,7),r=c(r=a(r,10),u=c(u,f=s(f,d,n,r,u,e[12],1859775393,5),d,n=a(n,10),r,e[1],2400959708,11),f,d=a(d,10),n,e[9],2400959708,12),f=c(f=a(f,10),d=c(d,n=c(n,r,u,f,d,e[11],2400959708,14),r,u=a(u,10),f,e[10],2400959708,15),n,r=a(r,10),u,e[0],2400959708,14),n=c(n=a(n,10),r=c(r,u=c(u,f,d,n,r,e[8],2400959708,15),f,d=a(d,10),n,e[12],2400959708,9),u,f=a(f,10),d,e[4],2400959708,8),u=c(u=a(u,10),f=c(f,d=c(d,n,r,u,f,e[13],2400959708,9),n,r=a(r,10),u,e[3],2400959708,14),d,n=a(n,10),r,e[7],2400959708,5),d=c(d=a(d,10),n=c(n,r=c(r,u,f,d,n,e[15],2400959708,6),u,f=a(f,10),d,e[14],2400959708,8),r,u=a(u,10),f,e[5],2400959708,6),r=l(r=a(r,10),u=c(u,f=c(f,d,n,r,u,e[6],2400959708,5),d,n=a(n,10),r,e[2],2400959708,12),f,d=a(d,10),n,e[4],2840853838,9),f=l(f=a(f,10),d=l(d,n=l(n,r,u,f,d,e[0],2840853838,15),r,u=a(u,10),f,e[5],2840853838,5),n,r=a(r,10),u,e[9],2840853838,11),n=l(n=a(n,10),r=l(r,u=l(u,f,d,n,r,e[7],2840853838,6),f,d=a(d,10),n,e[12],2840853838,8),u,f=a(f,10),d,e[2],2840853838,13),u=l(u=a(u,10),f=l(f,d=l(d,n,r,u,f,e[10],2840853838,12),n,r=a(r,10),u,e[14],2840853838,5),d,n=a(n,10),r,e[1],2840853838,12),d=l(d=a(d,10),n=l(n,r=l(r,u,f,d,n,e[3],2840853838,13),u,f=a(f,10),d,e[8],2840853838,14),r,u=a(u,10),f,e[11],2840853838,11),r=l(r=a(r,10),u=l(u,f=l(f,d,n,r,u,e[6],2840853838,8),d,n=a(n,10),r,e[15],2840853838,5),f,d=a(d,10),n,e[13],2840853838,6),f=a(f,10);var p=this._a,g=this._b,h=this._c,m=this._d,b=this._e;b=l(b,p=l(p,g,h,m,b,e[5],1352829926,8),g,h=a(h,10),m,e[14],1352829926,9),g=l(g=a(g,10),h=l(h,m=l(m,b,p,g,h,e[7],1352829926,9),b,p=a(p,10),g,e[0],1352829926,11),m,b=a(b,10),p,e[9],1352829926,13),m=l(m=a(m,10),b=l(b,p=l(p,g,h,m,b,e[2],1352829926,15),g,h=a(h,10),m,e[11],1352829926,15),p,g=a(g,10),h,e[4],1352829926,5),p=l(p=a(p,10),g=l(g,h=l(h,m,b,p,g,e[13],1352829926,7),m,b=a(b,10),p,e[6],1352829926,7),h,m=a(m,10),b,e[15],1352829926,8),h=l(h=a(h,10),m=l(m,b=l(b,p,g,h,m,e[8],1352829926,11),p,g=a(g,10),h,e[1],1352829926,14),b,p=a(p,10),g,e[10],1352829926,14),b=c(b=a(b,10),p=l(p,g=l(g,h,m,b,p,e[3],1352829926,12),h,m=a(m,10),b,e[12],1352829926,6),g,h=a(h,10),m,e[6],1548603684,9),g=c(g=a(g,10),h=c(h,m=c(m,b,p,g,h,e[11],1548603684,13),b,p=a(p,10),g,e[3],1548603684,15),m,b=a(b,10),p,e[7],1548603684,7),m=c(m=a(m,10),b=c(b,p=c(p,g,h,m,b,e[0],1548603684,12),g,h=a(h,10),m,e[13],1548603684,8),p,g=a(g,10),h,e[5],1548603684,9),p=c(p=a(p,10),g=c(g,h=c(h,m,b,p,g,e[10],1548603684,11),m,b=a(b,10),p,e[14],1548603684,7),h,m=a(m,10),b,e[15],1548603684,7),h=c(h=a(h,10),m=c(m,b=c(b,p,g,h,m,e[8],1548603684,12),p,g=a(g,10),h,e[12],1548603684,7),b,p=a(p,10),g,e[4],1548603684,6),b=c(b=a(b,10),p=c(p,g=c(g,h,m,b,p,e[9],1548603684,15),h,m=a(m,10),b,e[1],1548603684,13),g,h=a(h,10),m,e[2],1548603684,11),g=s(g=a(g,10),h=s(h,m=s(m,b,p,g,h,e[15],1836072691,9),b,p=a(p,10),g,e[5],1836072691,7),m,b=a(b,10),p,e[1],1836072691,15),m=s(m=a(m,10),b=s(b,p=s(p,g,h,m,b,e[3],1836072691,11),g,h=a(h,10),m,e[7],1836072691,8),p,g=a(g,10),h,e[14],1836072691,6),p=s(p=a(p,10),g=s(g,h=s(h,m,b,p,g,e[6],1836072691,6),m,b=a(b,10),p,e[9],1836072691,14),h,m=a(m,10),b,e[11],1836072691,12),h=s(h=a(h,10),m=s(m,b=s(b,p,g,h,m,e[8],1836072691,13),p,g=a(g,10),h,e[12],1836072691,5),b,p=a(p,10),g,e[2],1836072691,14),b=s(b=a(b,10),p=s(p,g=s(g,h,m,b,p,e[10],1836072691,13),h,m=a(m,10),b,e[0],1836072691,13),g,h=a(h,10),m,e[4],1836072691,7),g=o(g=a(g,10),h=o(h,m=s(m,b,p,g,h,e[13],1836072691,5),b,p=a(p,10),g,e[8],2053994217,15),m,b=a(b,10),p,e[6],2053994217,5),m=o(m=a(m,10),b=o(b,p=o(p,g,h,m,b,e[4],2053994217,8),g,h=a(h,10),m,e[1],2053994217,11),p,g=a(g,10),h,e[3],2053994217,14),p=o(p=a(p,10),g=o(g,h=o(h,m,b,p,g,e[11],2053994217,14),m,b=a(b,10),p,e[15],2053994217,6),h,m=a(m,10),b,e[0],2053994217,14),h=o(h=a(h,10),m=o(m,b=o(b,p,g,h,m,e[5],2053994217,6),p,g=a(g,10),h,e[12],2053994217,9),b,p=a(p,10),g,e[2],2053994217,12),b=o(b=a(b,10),p=o(p,g=o(g,h,m,b,p,e[13],2053994217,9),h,m=a(m,10),b,e[9],2053994217,12),g,h=a(h,10),m,e[7],2053994217,5),g=i(g=a(g,10),h=o(h,m=o(m,b,p,g,h,e[10],2053994217,15),b,p=a(p,10),g,e[14],2053994217,8),m,b=a(b,10),p,e[12],0,8),m=i(m=a(m,10),b=i(b,p=i(p,g,h,m,b,e[15],0,5),g,h=a(h,10),m,e[10],0,12),p,g=a(g,10),h,e[4],0,9),p=i(p=a(p,10),g=i(g,h=i(h,m,b,p,g,e[1],0,12),m,b=a(b,10),p,e[5],0,5),h,m=a(m,10),b,e[8],0,14),h=i(h=a(h,10),m=i(m,b=i(b,p,g,h,m,e[7],0,6),p,g=a(g,10),h,e[6],0,8),b,p=a(p,10),g,e[2],0,13),b=i(b=a(b,10),p=i(p,g=i(g,h,m,b,p,e[13],0,6),h,m=a(m,10),b,e[14],0,5),g,h=a(h,10),m,e[0],0,15),g=i(g=a(g,10),h=i(h,m=i(m,b,p,g,h,e[3],0,13),b,p=a(p,10),g,e[9],0,11),m,b=a(b,10),p,e[11],0,11),m=a(m,10);var v=this._b+u+m|0;this._b=this._c+f+b|0,this._c=this._d+d+p|0,this._d=this._e+n+g|0,this._e=this._a+r+h|0,this._a=v},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=r}).call(t,n(201).Buffer)},function(e,t,n){(t=e.exports=n(1665)).Stream=t,t.Readable=t,t.Writable=n(1520),t.Duplex=n(1367),t.Transform=n(1668),t.PassThrough=n(4737)},function(e,t,n){"use strict";(function(t,r,a){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var a=r.callback;t.pendingcb--,a(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function o(){}function s(e,t){b=b||n(1367),e=e||{},this.objectMode=!!e.objectMode,t instanceof b&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,a=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,a){--t.pendingcb,n?(m(a,r),m(h,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(a(r),e._writableState.errorEmitted=!0,e.emit("error",r),h(e,t))}(e,n,r,t,a);else{var i=p(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||d(e,n),r?v(f,e,n,i,a):f(e,n,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function c(e){if(b=b||n(1367),!(T.call(c,this)||this instanceof b))return new c(e);this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),E.call(this)}function l(e,t,n,r,a,i){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=S.from(t,n)),t}(t,r,a);r!==o&&(n=!0,a="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else u(e,t,!1,s,r,a,i);return c}function u(e,t,n,r,a,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function f(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),h(e,t)}function d(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)a[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;a.allBuffers=c,u(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t)}else{for(;n;){var l=n.chunk,f=n.encoding,d=n.callback;if(u(e,t,!1,t.objectMode?1:l.length,l,f,d),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function p(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function g(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),h(e,t)})}function h(e,t){var n=p(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,m(g,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}var m=n(1458);e.exports=c;var b,v=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:m;c.WritableState=s;var _=n(1414);_.inherits=n(1278);var y={deprecate:n(4736)},E=n(1666),S=n(1282).Buffer,x=a.Uint8Array||function(){},w=n(1667);_.inherits(c,E),s.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(s.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var T;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!T.call(this,e)||e&&e._writableState instanceof s}})):T=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var r=this._writableState,a=!1,i=function(e){return S.isBuffer(e)||e instanceof x}(e)&&!r.objectMode;return i&&!S.isBuffer(e)&&(e=function(e){return S.from(e)}(e)),"function"==typeof t&&(n=t,t=null),i?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=o),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),m(t,n)}(this,n):(i||function(e,t,n,r){var a=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),m(r,i),a=!1),a}(this,r,e,n))&&(r.pendingcb++,a=l(this,r,i,e,t,n)),a},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||d(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,h(e,t),n&&(t.finished?m(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=w.destroy,c.prototype._undestroy=w.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(87),n(50).setImmediate,n(13))},function(e,t,n){"use strict";function r(e){this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(d.isEncoding===p||!p(e)))throw new Error("Unknown encoding: "+e);return t||e}(e);var t;switch(this.encoding){case"utf16le":this.text=o,this.end=s,t=4;break;case"utf8":this.fillLast=i,t=4;break;case"base64":this.text=c,this.end=l,t=3;break;default:return this.write=u,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function i(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function o(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function u(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}var d=n(1282).Buffer,p=d.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},r.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(4742),t.sha1=n(4743),t.sha224=n(4744),t.sha256=n(1669),t.sha384=n(4745),t.sha512=n(1670)},function(e,t,n){var r=n(4752),a=n(4760),i=n(1679);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=a.createDecipher,t.createDecipheriv=t.Decipheriv=a.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(i)}},function(e,t,n){var r={ECB:n(4753),CBC:n(4754),CFB:n(4755),CFB8:n(4756),CFB1:n(4757),OFB:n(4758),CTR:n(1677),GCM:n(1677)},a=n(1679);for(var i in a)a[i].module=r[a[i].mode];e.exports=a},function(e,t,n){"use strict";t.utils=n(4762),t.Cipher=n(4763),t.DES=n(4764),t.CBC=n(4765),t.EDE=n(4766)},function(e,t,n){(function(t){function r(e,n){var r=function(e){var t=a(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),o=n.modulus.byteLength(),s=(i.mont(n.modulus),new i(e).mul(r.blinder).umod(n.modulus)),c=s.toRed(i.mont(n.prime1)),l=s.toRed(i.mont(n.prime2)),u=n.coefficient,f=n.prime1,d=n.prime2,p=c.redPow(n.exponent1),g=l.redPow(n.exponent2);p=p.fromRed(),g=g.fromRed();var h=p.isub(g).imul(u).umod(f);return h.imul(d),g.iadd(h),new t(g.imul(r.unblinder).umod(n.modulus).toArray(!1,o))}function a(e){for(var t=e.modulus.byteLength(),n=new i(o(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new i(o(t));return n}var i=n(1290),o=n(1386);e.exports=r,r.getr=a}).call(t,n(201).Buffer)},function(e,t,n){var r=t;r.utils=n(1324),r.common=n(1416),r.sha=n(4782),r.ripemd=n(4786),r.hmac=n(4787),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";var r=n(1345),a=n(1529),i={VERSION:"3.26.0",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},tokenizationErrorCodes:{81724:a.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:a.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},whitelistedStyles:["-moz-appearance","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","appearance","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","opacity","outline","text-shadow","transition"],whitelistedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},whitelistedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"}};i.events=r(["FRAME_READY","VALIDATE_STRICT","CONFIGURATION","TOKENIZATION_REQUEST","INPUT_EVENT","TRIGGER_INPUT_FOCUS","ADD_CLASS","REMOVE_CLASS","SET_ATTRIBUTE","REMOVE_ATTRIBUTE","CLEAR_FIELD","AUTOFILL_EXPIRATION_DATE","SET_MESSAGE"],"hosted-fields:"),e.exports=i},function(e,t,n){"use strict";var r=n(1274);e.exports={HOSTED_FIELDS_INVALID_FIELD_KEY:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:r.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},function(e,t,n){"use strict";(function(t){var r=n(1390);e.exports=function(e){return e=e||t.navigator.userAgent,!!r(e)&&(!!function(e){return/\bGSA\b/.test(e)}(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}}).call(t,n(13))},function(e,t,n){"use strict";(function(t){e.exports=function(e){return e=e||t.navigator.userAgent,/SamsungBrowser/i.test(e)}}).call(t,n(13))},function(e,t,n){"use strict";(function(t){function r(e){return(e=e||t.navigator.userAgent).indexOf("Opera Mini")>-1}var a=48,i=n(1463),o=n(1699),s=n(1530),c=n(1464),l=n(1531);e.exports=function(e){return e=e||t.navigator.userAgent,!(s(e)||o(e)||function(e){var n=/Version\/[\d\.]+/;return e=e||t.navigator.userAgent,!!i(e)&&n.test(e)&&!r(e)}(e)||r(e)||function(e){var n;return e=e||t.navigator.userAgent,!!(n=e.match(/CriOS\/(\d+)\./))&&parseInt(n[1],10)<a}(e)||function(e){return!c(e)&&!l(e)&&/samsung/i.test(e)}(e))}}).call(t,n(13))},function(e,t,n){"use strict";var r=n(4842);e.exports={create:function(e,t){var n=new r(e);n.initialize(function(){t(n)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(3)),o=n(4),s=r(n(4886)),c="onRecaptchaLibLoadCallback",l=(0,r(n(1730)).default)(s.default,"https://web.archive.org/web/20171224234543/https://www.google.com/recaptcha/api.js?onload=onRecaptchaLibLoadCallback&render=explicit",{callbackName:c,globalName:"grecaptcha"});t.default=function(e){return i.default.createElement(l,a({sitekey:o.RECAPTCHA_SITE_KEY},e))},e.exports=t.default},function(e,t,n){var r=n(1336);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(1537);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(1540),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(1542)("keys"),a=n(1467);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t,n){var r=n(1325),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(1538);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(4896)(!0);n(1547)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(1548),a=n(1334),i=n(1723),o=n(1349),s=n(1368),c=n(1421),l=n(4897),u=n(1470),f=n(4900),d=n(1321)("iterator"),p=!([].keys&&"next"in[].keys()),g=function(){return this};e.exports=function(e,t,n,h,m,b,v){l(n,t,h);var _,y,E,S=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",w="values"==m,T=!1,C=e.prototype,A=C[d]||C["@@iterator"]||m&&C[m],I=!p&&A||S(m),O=m?w?S("entries"):I:void 0,N="Array"==t?C.entries||A:A;if(N&&(E=f(N.call(new e)))!==Object.prototype&&E.next&&(u(E,x,!0),r||s(E,d)||o(E,d,g)),w&&A&&"values"!==A.name&&(T=!0,I=function(){return A.call(this)}),r&&!v||!p&&!T&&C[d]||o(C,d,I),c[t]=I,c[x]=g,m)if(_={values:w?I:S("values"),keys:b?I:S("keys"),entries:O},v)for(y in _)y in C||i(C,y,_[y]);else a(a.P+a.F*(p||T),t,_);return _}},function(e,t){e.exports=!0},function(e,t,n){n(4901);for(var r=n(1325),a=n(1349),i=n(1421),o=n(1321)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=r[l],f=u&&u.prototype;f&&!f[o]&&a(f,o,l),i[l]=i.Array}},function(e,t,n){t.f=n(1321)},function(e,t,n){var r=n(1467)("meta"),a=n(1336),i=n(1368),o=n(1335).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(1392)(function(){return c(Object.preventExtensions({}))}),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&c(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){var r=n(1325),a=n(1326),i=n(1548),o=n(1550),s=n(1335).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();t.isSafeRedirect=function(e){return/^\/[a-zA-Z0-9_-]/.test(e)},t.userSettingsRedirector=function(e){var t=e.match,n=t.params.section&&t.params.section.toUpperCase().replace(d,f),r=t.params.subsection&&t.params.subsection.toUpperCase().replace(d,f);return!l.UserSettingsSections.hasOwnProperty(n)||r&&!l.UserSettingsSections.hasOwnProperty(r)||o.default.call(function(){return s.default.open(n,r)}),a(u.Redirect,{to:i.default.defaultRoute})},t.userProfileRedirector=function(e){var t=e.match.params.id;return o.default.call(function(){return c.default.open(t)}),a(u.Redirect,{to:i.default.defaultRoute})};r(n(3));var i=r(n(574)),o=r(n(622)),s=r(n(556)),c=r(n(1381)),l=n(4),u=n(103),f="_",d=/-/g},function(e,t,n){"use strict";(function(r){function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(h.default.embedded)h.default.inputEventUnregister(e);else{if(A[e]){var t=O[e],n=R[t.action];n&&!0===n.isPressed&&r.nextTick(function(){return n.onTrigger(!1)}),A[e].reset(),A[e]=null}}}function o(e){if(M){var t=e.shortcut,n=e.action;if(""!==t&&null!=t&&n!==m.KeybindCustomActions.UNASSIGNED)if(void 0!=R[n]){var r=e.id,a=R[n].keyEvents;!function(e,t,n,r){if(h.default.embedded)h.default.inputEventRegister(parseInt(e),t,n,r);else{i(e);var a=(0,w.default)(new x.default(document));r.keyup&&a.bindGlobal(t,function(){return n(!1)},"keyup"),r.keydown&&a.bindGlobal(t,function(){return n(!0)},"keydown"),A[e]=a}}(r,t,function(e){return function(e,t){var n=O[e];null!=n&&R[n.action].onTrigger(t)}(r,e)},u({focused:!0,blurred:!0},a)),T.default.validateKeybind((0,C.toString)(e.shortcut))}else console.error("KeybindStore: Looking for callback action "+n+" but it doesn't exist in this version. Skipping")}}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=u({id:N.toString(),action:m.KeybindCustomActions.UNASSIGNED,shortcut:"",managed:!1},t),O=u({},O,(e={},e[t.id]=t,e)),p.default.set(I,O),N+=1,t}function c(e){var t,n=e.keybind;O=u({},O,(t={},t[n.id]=n,t)),p.default.set(I,O),o(n)}function l(){return function(){var e=b.default.getModeOptions().shortcut,t=d.default.find(O,function(e){return e.action===m.KeybindCustomActions.PUSH_TO_TALK&&!0===e.managed});null==t?o(s({action:m.KeybindCustomActions.PUSH_TO_TALK,shortcut:e,managed:!0})):c({keybind:u({},t,{shortcut:e})})}(),function(){if(_.default.enabled&&null==d.default.find(O,function(e){return e.action===m.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed})){var e="shift+`";h.default.embedded&&(h.default.isWindows()?e=[[0,160],[0,192]]:h.default.isOSX()&&(e=[[0,225],[0,53]])),o(s({action:m.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,shortcut:e,managed:!0}))}}(),!1}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=a(n(7)),d=a(n(14)),p=a(n(40)),g=a(n(5)),h=a(n(22)),m=n(4),b=a(n(75)),v=a(n(1284)),_=a(n(1327)),y=a(n(1310)),E=a(n(1340)),S=a(n(1597)),x=a(n(1598)),w=a(n(1747)),T=a(n(1422)),C=n(1411),A={},I="keybinds",O={},N=0,M=!0,R={};R[m.KeybindCustomActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},R[m.KeybindCustomActions.PUSH_TO_TALK]={onTrigger:function(e){b.default.getMode()===m.InputModes.PUSH_TO_TALK&&(R[m.KeybindCustomActions.PUSH_TO_TALK].isPressed=e,b.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e)}))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},R[m.KeybindCustomActions.PUSH_TO_MUTE]={onTrigger:function(e){b.default.getMode()===m.InputModes.VOICE_ACTIVITY&&(b.default.isSelfDeaf()||(R[m.KeybindCustomActions.PUSH_TO_MUTE].isPressed=e,y.default.setTemporarySelfMute(e)))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},R[m.KeybindCustomActions.TOGGLE_MUTE]={onTrigger:function(){y.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},R[m.KeybindCustomActions.TOGGLE_DEAFEN]={onTrigger:function(){y.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},R[m.KeybindCustomActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=_.default.enabled;E.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},R[m.KeybindCustomActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=b.default.getMode()==m.InputModes.PUSH_TO_TALK?m.InputModes.VOICE_ACTIVITY:m.InputModes.PUSH_TO_TALK;y.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},R[m.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(){E.default.setLocked(!_.default.locked)},keyEvents:{keyup:!0,keydown:!1}},R[m.KeybindCustomActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){S.default.setEnabled(!v.default.enabled)},keyEvents:{keyup:!0,keydown:!1}};var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){if(!__OVERLAY__){this.waitFor(b.default),O=p.default.get(I)||{};var e=!1;d.default.forEach(O,function(t,n){var r=parseInt(t.id,10);if(isNaN(r)||t.id!==n)return delete O[n],void(e=!0);N=Math.max(r,N),o(t)}),N+=1,e&&p.default.set(I,O)}},t.prototype.getKeybinds=function(){return O},t.prototype.getKeybindList=function(){var e=[];for(var t in O)O.hasOwnProperty(t)&&e.push((0,C.toString)(O[t].shortcut));return e},t.prototype.getOverlayKeybind=function(){return d.default.find(O,function(e){return e.action===m.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed})},t}(f.default.Store);t.default=new D(g.default,{CONNECTION_OPEN:function(e){return l()},AUDIO_SET_MODE:function(e){return l()},OVERLAY_SET_ENABLED:function(e){return l()},KEYBINDS_ADD_KEYBIND:function(){s()},KEYBINDS_DELETE_KEYBIND:function(e){var t=e.id;delete(O=u({},O))[t],p.default.set(I,O),i(t)},KEYBINDS_SET_KEYBIND:c,KEYBINDS_ENABLE_ALL_KEYBINDS:function(e){var t=e.enable;M=t,t?(T.default.enable(),d.default.forEach(O,o)):(T.default.disable(),d.default.forEach(O,function(e){return i(e.id)}))}}),e.exports=t.default}).call(t,n(87))},function(e,t,n){"use strict";e.exports=function(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(3)),s=r(n(204)),c=r(n(15)),l=r(n(1870)),u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.getMarkerState=r.getMarkerState.bind(r),r.handleMouseDown=r.handleMouseDown.bind(r),r.handleMouseMove=r.handleMouseMove.bind(r),r.handleMouseUp=r.handleMouseUp.bind(r),r.state=i({value:n.defaultValue},r.getMarkerState(n),{newClosestIndex:null}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getMarkerState=function(e){var t=e.markers,n=e.defaultValue,r=e.minValue,a=e.maxValue,i=[],o=[];if(!t)return{min:r,max:a,range:a-r,sortedMarkers:i,markerPositions:o};i=t.sort(function(e,t){return e-t});var s=this.findClosestMarkerByIndex(n,i),c=i[0],l=i[i.length-1],u=l-c;if(this.props.equidistant){var f=100/(i.length-1);o=i.map(function(e,t){return t*f})}else{o=i.map(function(e){return function(e){return 100*(e-c)/u}(e)})}return{min:c,max:l,range:u,sortedMarkers:i,markerPositions:o,closestMarkerIndex:s}},t.prototype.componentWillReceiveProps=function(e){this.props.defaultValue!=e.defaultValue&&this.setState(i({value:e.defaultValue},this.getMarkerState(e)))},t.prototype.componentWillUnmount=function(){this.reset()},t.prototype.renderBubble=function(e){var t=this.state.value,n=this.props,r=n.stickToMarkers,i=n.onValueRender;if(!r)return a("span",{className:l.default.bubble},void 0,i?i(t):e.toFixed(0)+"%")},t.prototype.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e},t.prototype.render=function(){var e,t=this,n=this.state,r=n.value,o=n.sortedMarkers,s=n.markerPositions,u=n.closestMarkerIndex,f=n.newClosestIndex,d=this.props,p=d.disabled,g=d.stickToMarkers,h=d.className,m=d.children,b=d.barStyles,v=d.fillStyles,_=0;g?null!=s&&(null!=f?_=s[f]:null!=u&&(_=s[u])):_=this.scaleValue(r);var y=_+"%",E=s&&o?s.map(function(e,n){var r=t.renderMark(o[n]);return a("div",{className:l.default.mark,style:{left:e+"%"}},n,a("div",{className:l.default.markValue},void 0,r),a("div",{className:l.default["markDash"+(null==r?"simple":"")]}))}):null;return a("div",{className:(0,c.default)(l.default.slider,h,(e={},e[l.default.disabled]=p,e))},void 0,a("input",{type:"number",className:l.default.input,value:_.toFixed(0),readOnly:!0}),a("div",{className:l.default.track},void 0,E),a("div",{className:l.default.bar,style:b},void 0,a("div",{className:l.default.barFill,style:i({},v,{width:y})})),m,a("div",{className:l.default.track},void 0,a("div",{className:l.default.grabber,style:{left:y},onMouseDown:this.handleMouseDown},void 0,this.renderBubble(_))))},t.prototype.reset=function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0)},t.prototype.findClosestMarkerByIndex=function(e,t){null==t&&(t=this.state.sortedMarkers);for(var n=0,r=0;r<t.length;r++){var a=t[r];if(e===a)return r;if(e<a)return 0===n?r:a-e<n?r:r-1;n=e-a}},t.prototype.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range},t.prototype.unscaleValue=function(e){return e*this.state.range/100+this.state.min},t.prototype.handleMouseDown=function(e){if(!this.props.disabled){document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0);var t=s.default.findDOMNode(this);if(null==t||t instanceof Text)throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode instanceof Element");this.setState({x:e.clientX,boundingRect:t.getBoundingClientRect(),newClosestIndex:this.state.closestMarkerIndex})}},t.prototype.handleMouseUp=function(){this.reset();var e=this.props,t=e.onValueChange,n=e.stickToMarkers,r=this.state.newClosestIndex;n&&null!=r?(t&&t(this.state.sortedMarkers[r]),this.setState({newClosestIndex:null,closestMarkerIndex:r})):t&&t(this.state.value)},t.prototype.handleMouseMove=function(e){e.preventDefault(),this.props.stickToMarkers?this.moveStaggered(e):this.moveSmoothly(e)},t.prototype.moveStaggered=function(e){var t=this.state,n=t.boundingRect,r=t.x,a=t.closestMarkerIndex,i=t.markerPositions,o=n.left,s=n.right;if(!(e.clientX<=o||e.clientX>=s)){var c=s-o,l=(e.clientX-r)/c,u=i[a]+100*l,f=void 0;if(this.props.equidistant)f=this.findClosestMarkerByIndex(u,i);else{var d=this.unscaleValue(u);f=this.findClosestMarkerByIndex(d)}this.setState({newClosestIndex:f})}},t.prototype.moveSmoothly=function(e){var t=this.props,n=t.minValue,r=t.maxValue,a=t.handleSize,i=t.asValueChanges,o=this.state.boundingRect,s=o.left,c=o.right,l=this.state.x-e.clientX,u=(this.state.value-n)/(r-n);if(!(e.clientX<=s&&l<0||e.clientX>=c&&l>0)){var f=c-s-a,d=f*u;u=Math.min(Math.max(d-l,0),f)/f}var p=n+u*(r-n);i&&i(p),this.setState({value:p,x:e.clientX})},t}(o.default.PureComponent);u.defaultProps={defaultValue:10,minValue:0,maxValue:100,handleSize:10,disabled:!1,stickToMarkers:!1,fillStyles:{}},t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),o=r(n(3)),s=r(n(15)),c=n(1400),l=r(n(4992)),u=r(n(137)),f=r(n(559)),d=n(206),p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={mode:l.default.Modes.DEFAULT},r._timeout=new d.Timeout,r.handleCopy=r.handleCopy.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this._timeout.stop()},t.prototype.render=function(){var e=this.props,t=e.isVertical,n=e.value,r=e.text,c=e.className,d=e.inputClassName,p=this.state.mode;return t?i("div",{className:(0,s.default)("copy-input-vertical",c,p)},void 0,i(f.default,{value:n,inputClassName:d}),i(u.default,{className:"copy-link-button margin-top-8",onClick:this.handleCopy,size:u.default.Sizes.MIN,color:this.getVerticalButtonColor(p),look:u.default.Looks.FILLED},void 0,r)):o.default.createElement(l.default,a({},this.props,{onCopy:this.handleCopy,mode:p}))},t.prototype.handleCopy=function(){var e=this,t=this.props,n=t.onCopy,r=t.value,a=(0,c.copy)(r);this.setState({mode:a?l.default.Modes.SUCCESS:l.default.Modes.ERROR}),this._timeout.start(300,function(){return e.setState({mode:l.default.Modes.DEFAULT})}),n&&n()},t.prototype.getVerticalButtonColor=function(e){switch(e){case l.default.Modes.SUCCESS:return u.default.Colors.GREEN;case l.default.Modes.ERROR:return u.default.Colors.RED;default:return u.default.Colors.BRAND}},t}(o.default.PureComponent);p.defaultProps={isVertical:!1},t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(146)),i=r(n(2)),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.code=e.code||"",this.temporary=e.temporary||!1,this.revoked=e.revoked||!1,this.uses=e.uses||0,this.maxUses=e.maxUses||0,this.maxAge=e.maxAge||0,this.createdAt=e.createdAt||new Date,this.channel=e.channel,this.guild=e.guild,this.inviter=e.inviter||null},t.prototype.isExpired=function(){var e=this.maxAge;if(e>0){if((0,i.default)(this.createdAt).add(e,"seconds").isBefore(Date.now()))return!0}return!1},t.prototype.getExpiresAt=function(){if(this.maxAge>0){return(0,i.default)(this.createdAt).add(this.maxAge,"seconds").toDate()}return 1/0},t.prototype.toString=function(){return this.code},t}(a.default);t.default=o,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=t?"/ptb":"",a=n?"&format="+n:"";return""+i.DownloadLinks.DESKTOP+r+"?platform="+e+a}t.__esModule=!0,t.makeDesktopDownloadURL=r,t.getCurrentPlatformDownloadURL=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.os.family;return e?-1!=e.indexOf(o)||-1!=e.indexOf(s)||-1!=e.indexOf(c)||-1!=e.indexOf(l)||-1!=e.indexOf(u)||-1!=e.indexOf(f)?h:-1!=e.indexOf(d)?g:p:p}();return r(e,!1,e===h?"tar.gz":null)};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),i=n(4),o="Ubuntu",s="Debian",c="Fedora",l="Red Hat",u="SuSE",f="Linux",d="OS X",p="win",g="osx",h="linux"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(t===s.default.getId())return Promise.resolve(e.metadata||{});var n=c.default.getActivityMetadata(t);return null!=n?Promise.resolve(n):null==e.session_id?Promise.reject(new Error("null/undefined session_id")):o.default.get(l.Endpoints.USER_ACTIVITY_METADATA(t,e.session_id)).then(function(e){var n=e.body;return i.default.dispatch({type:l.ActionTypes.ACTIVITY_METADATA_UPDATE,metadata:n,userId:t}),n})}t.__esModule=!0,t.sync=function(e,t){i.default.dispatch({type:l.ActionTypes.ACTIVITY_SYNC,activity:e,userId:t})},t.play=function(e,t){a(e,t).then(function(n){return i.default.dispatch({type:l.ActionTypes.ACTIVITY_PLAY,activity:e,userId:t,metadata:n})}).catch(function(){return i.default.dispatch({type:l.ActionTypes.ACTIVITY_PLAY,activity:e,userId:t})})},t.getMetadata=a;var i=r(n(5)),o=r(n(39)),s=r(n(24)),c=r(n(1288)),l=n(4)},function(e,t,n){e.exports=n.p+"e6ac860888002826fcedcb05bd8d4529.svg"},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),a=n(4);t.default={setSection:function(e){r.default.dispatch({type:a.ActionTypes.FRIENDS_SET_SECTION,section:e})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t,n=l.default.getCurrentUser();d=e.section||d,e.subsection&&null!=d&&(p[d]=e.subsection),b=!1,f=u.FormStates.OPEN,g={},(t={})[u.UserSettingsSections.ACCOUNT]={userId:n.id,username:n.username,discriminator:n.discriminator,email:n.email,avatar:n.avatar,password:"",newPassword:null,claimed:null!=n.email},m=o({},h=t)}function i(){f=u.FormStates.CLOSED,v=!1,h=null,m=null,d=null,p={}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=r(n(7)),c=r(n(5)),l=r(n(58)),u=n(4),f=u.FormStates.CLOSED,d=void 0,p={},g={},h=void 0,m=void 0,b=!1,v=!1,_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasChanges=function(){if(null==m||null==h)return!1;if(this.isOpen()){var e=Object.keys(h),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r,i=Object.keys(h[a]),o=Array.isArray(i),s=0;for(i=o?i:i[Symbol.iterator]();;){var c;if(o){if(s>=i.length)break;c=i[s++]}else{if((s=i.next()).done)break;c=s.value}var l=c;if(m[a][l]!=h[a][l])return!0}}}return!1},t.prototype.isOpen=function(){return v},t.prototype.getSection=function(){return d},t.prototype.getProps=function(){return{submitting:f===u.FormStates.SUBMITTING,section:d,subsection:null!=p&&null!=d?p[d]:null,settings:m,errors:g,hasChanges:this.hasChanges(),landingShown:b}},t}(s.default.Store);t.default=new _(c.default,{USER_SETTINGS_MODAL_OPEN:function(e){v=!0,a(e)},USER_SETTINGS_MODAL_INIT:a,USER_SETTINGS_MODAL_CLOSE:i,LOGOUT:i,USER_SETTINGS_MODAL_SUBMIT:function(){f=u.FormStates.SUBMITTING},USER_SETTINGS_MODAL_SUBMIT_FAILURE:function(e){if(f!==u.FormStates.SUBMITTING)return!1;f=u.FormStates.OPEN,d=u.UserSettingsSections.ACCOUNT,g=e.errors||{}},USER_SETTINGS_MODAL_SET_SECTION:function(e){d=e.section,e.subsection&&(p[d]=e.subsection)},USER_SETTINGS_MODAL_UPDATE_ACCOUNT:function(e){var t=e.settings;null==m&&(m={});var n=m[u.UserSettingsSections.ACCOUNT];m[u.UserSettingsSections.ACCOUNT]=o({},n,t)}}),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t.length;if(e.length!==i)return console.warn("Arrays are not of the same length!",e,t),[];var o=e.map(n).sort().join(":"),s=t.map(n).sort().join(":");if(o!==s)return console.warn("Object IDs in the old ordering and the new ordering are not the same.",o,s),[];for(var c={},l=0;l<i;l++)c[n(e[l])]=r(e[l]);for(var u=[],f=0;f<i;f++){var d=n(t[f]),p=c[d],g=a?f:i-1-f;p===g&&r(t[f])===g||u.push({id:d,position:g})}return a||u.reverse(),u}function a(e,t,n){var r=e[t],a=[].concat(e);return a.splice(t,1),a.splice(n,0,r),a}t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.default={moveItemFromTo:a,calculatePositionDeltas:r,getPositionUpdates:function(e,t,n,o,s){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return Array.isArray(e)||(e=i.default.values(e)),r(e,a(e,t,n),o,s,c)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),s=r(n(3)),c=r(n(7)),l=n(85),u=r(n(1315)),f=n(1432),d=r(n(1847)),p=r(n(1630)),g=r(n(1631)),h=function(e){function t(){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=a(this,e.call.apply(e,[this].concat(c))),r.renderActions=function(){var e=r.props,t=e.type,n=e.source,a=e.activity,i=e.user;return o(d.default,{className:(0,l.getClass)(g.default,"actions",t),type:t,source:n,activity:a,user:i})},i=n,a(r,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.showActions;return s.default.createElement(p.default,i({},this.props,{renderActions:e?this.renderActions:null,onOpenSpotifyTrack:this.handleOpenSpotifyTrack,onOpenSpotifyArtist:this.handleOpenSpotifyArtist,onOpenSpotifyAlbum:this.handleOpenSpotifyAlbum}))},t.prototype.handleOpenSpotifyTrack=function(e){(0,f.openTrack)(e)},t.prototype.handleOpenSpotifyArtist=function(e,t,n){(0,f.openArtist)(e,t,n)},t.prototype.handleOpenSpotifyAlbum=function(e,t){(0,f.openAlbum)(e,t)},t}(s.default.PureComponent);h.defaultProps={showActions:!0};var m=c.default.connectStores([u.default],function(e){var t=e.activity;return{game:u.default.getGameByName(t.name)}})(h);m.Types=p.default.Types,t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Math.round(screen.width/2-350),r=screen.height>640?Math.round(screen.height/2-320):0,a=void 0;h.default.isDesktop()||(a=window.open(location.protocol+"//"+location.host+m.Routes.CONNECTIONS(e)+"?loading=true","authorize","scrollbars=yes,resizable=yes,toolbar=no,location=yes,top="+r+",left="+n+",width=700,height=640")),p.default.authorize(e,t).then(function(e){var t=e.body.url;null!=t&&(null!=a?a.location.href=t:window.open(t))})}t.__esModule=!0;var i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();t.authorize=a;var o=r(n(547)),s=(r(n(3)),r(n(548))),c=r(n(7)),l=r(n(549)),u=r(n(1304)),f=r(n(1508)),d=r(n(1509)),p=r(n(1396)),g=r(n(555)),h=r(n(22)),m=n(4);n(4597);var b=i(g.default,{type:"pulsing-ellipsis",className:"ellipsis"}),v=(0,s.default)({displayName:"ConnectAccountButton",mixins:[l.default,c.default.LazyStoreListenerMixin(f.default)],propTypes:{disabled:o.default.bool,type:o.default.string.isRequired,location:o.default.string.isRequired},getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isDetecting:f.default.isDetecting(this.props.type)}},handleConnect:function(e){var t=u.default.get(e);t.serverSync?a(t.type,"Friends List"):d.default.detectAccounts([t.type],this.props.location)},render:function(){var e=this,t=this.state.isDetecting,n=u.default.get(this.props.type),r=void 0;return t&&(r=b),i("div",{className:"connect-account-btn"},void 0,i("button",{className:"connect-account-btn-inner",type:"button",disabled:this.props.disabled||t,style:{backgroundImage:"url('"+n.icon.color+"')"},onClick:function(){return e.handleConnect(e.props.type)}}),r)}});t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.request=function(e,t){var n=t.application_id,r=t.session_id;null!=n&&null!=r&&i.default.post(s.Endpoints.USER_ACTIVITY_JOIN_REQUEST(e.id,r)).then(function(){a.default.dispatch({type:s.ActionTypes.ACTIVITY_JOIN_REQUEST_SEND,user:e,applicationId:n})})},t.invite=function(e){var t=o.default.getSessionId();null!=t&&i.default.post(s.Endpoints.USER_ACTIVITY_JOIN_INVITE(t,e)).then(function(){a.default.dispatch({type:s.ActionTypes.ACTIVITY_JOIN_INVITE_SEND,userId:e})})},t.close=function(e){a.default.dispatch({type:s.ActionTypes.ACTIVITY_JOIN_REQUEST_CLOSE,userId:e})};var a=r(n(5)),i=r(n(39)),o=r(n(24)),s=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a,i,o,s,c,l,u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),f=r(n(3)),d=r(n(217)),p=n(206),g=r(n(21)),h=(0,d.default)({ACTIVITY_FEED:null,USER_ACTIVITY:null}),m=(0,d.default)({SECONDS:null,MINUTES:null,HOURS:null,DAYS:null}),b=(0,d.default)({START:null,END:null}),v=(l={},l[h.ACTIVITY_FEED]=(o={},o[b.START]=(a={},a[m.SECONDS]=function(){return g.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},a[m.MINUTES]=function(e){return g.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e})},a[m.HOURS]=function(e){return g.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e})},a[m.DAYS]=function(e){return g.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e})},a),o[b.END]=(i={},i[m.SECONDS]=function(){return g.default.Messages.GAME_FEED_USER_PLAYING_JUST_ENDED},i[m.MINUTES]=function(e){return g.default.Messages.GAME_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},i[m.HOURS]=function(e){return g.default.Messages.GAME_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},i[m.DAYS]=function(e){return g.default.Messages.GAME_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},i),o),l[h.USER_ACTIVITY]=(c={},c[b.START]=(s={},s[m.SECONDS]=function(){return g.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},s[m.MINUTES]=function(e){return g.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_MINUTES.format({time:e})},s[m.HOURS]=function(e){return g.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_HOURS.format({time:e})},s[m.DAYS]=function(e){return g.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_DAYS.format({time:e})},s),c),l),_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.timer=new p.Interval,r.update=function(){r.setState({time:r.getDiff()})},r.state={time:r.getDiff()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.timer.start(1e4,this.update)},t.prototype.componentWillUnmount=function(){this.timer.stop()},t.prototype.getDiff=function(){var e=this.props,t=e.start,n=e.end,r=Date.now(),a=0;return null!=t?a=r-t:null!=n&&(a=r-n),Math.floor(a/1e3/60)},t.prototype.getTimeUnit=function(e){return e<1?m.SECONDS:e<60?m.MINUTES:e<1440?m.HOURS:m.DAYS},t.prototype.transformTime=function(e,t){switch(e){case m.MINUTES:return t;case m.HOURS:return t/60;case m.DAYS:return t/60/24;default:case m.SECONDS:return 60*t}},t.prototype.render=function(){var e=this.props,t=e.start,n=e.location,r=e.className,a=this.state.time,i=this.getTimeUnit(a),o=null!=t?b.START:b.END,s=v[n][o];if(null==s)return null;var c=s[i],l=Math.floor(this.transformTime(i,a));return u("span",{className:r},void 0,c(l))},t}(f.default.PureComponent);_.Locations=h,t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(3)),o=r(n(1634)),s=r(n(199)),c=r(n(1341)),l=n(4),u=r(n(21)),f={applyChatRestrictions:function(e){return e.length>l.MAX_MESSAGE_LENGTH?(s.default.push(function(e){return i.default.createElement(c.default,a({title:u.default.Messages.MESSAGE_TOO_LONG_HEADER,body:u.default.Messages.MESSAGE_TOO_LONG_BODY.format({maxLength:l.MAX_MESSAGE_LENGTH}),confirmText:u.default.Messages.OKAY},e))}),!0):!!o.default.isFull()&&(s.default.push(function(e){return i.default.createElement(c.default,a({title:u.default.Messages.MESSAGE_RATE_LIMITED_HEADER,body:u.default.Messages.MESSAGE_RATE_LIMITED_BODY,confirmText:u.default.Messages.MESSAGE_RATE_LIMITED_BUTTON},e))}),!0)}};t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(4620)),i=r(n(1512)),o=n(4),s=null,c=null;t.default={typing:function(e){if(!(s===e&&null!=c&&c>Date.now())){s=e;i.default.getCount(e)>o.MAX_TYPING_USERS?c=Date.now()+o.TYPING_TIMEOUT:(a.default.sendTyping(e),c=Date.now()+.8*o.TYPING_TIMEOUT)}},clear:function(e){s===e&&(c=null)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Value=t.Creatable=t.AsyncCreatable=t.Async=void 0;var a=r(n(1454)),i=r(n(1642)),o=r(n(4641)),s=r(n(1643)),c=r(n(1641));a.default.Async=i.default,a.default.AsyncCreatable=o.default,a.default.Creatable=s.default,a.default.Value=c.default,t.default=a.default,t.Async=i.default,t.AsyncCreatable=o.default,t.Creatable=s.default,t.Value=c.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(c.default.can(o.Permissions.MANAGE_MESSAGES,{channelId:e})){var t=l.default.getChannel(e);if(null!=t){var n=u.default.getMemberCount(t.getGuildId());return null!=n&&n>=f}}return!1}function i(e){if(null==e)return!1;var t=e.id;return s.default.getId()!=t}t.__esModule=!0;var o=n(4),s=r(n(24)),c=r(n(203)),l=r(n(74)),u=r(n(213)),f=50;t.default={canReportUser:i,canReportInChannel:a,canReportMessage:function(e){return null!=e&&i(e.author)&&a(e.getChannelId())}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getLoginPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?"":"//web.archive.org/web/20171224234543/https://discordapp.com")+"/login?redirect_to="+encodeURIComponent(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){0===Object.keys(f).length?s.default.remove(u):s.default.set(u,f)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(7)),s=r(n(40)),c=r(n(74)),l=r(n(5)),u=(n(4),"collapsedChannels"),f={},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default),f=s.default.get(u)||f},t.prototype.getCollapsed=function(){return f},t.prototype.isCollapsed=function(e){return f[e]||!1},t}(o.default.Store);t.default=new d(l.default,{CONNECTION_OPEN:function(){Object.keys(f).forEach(function(e){null==c.default.getChannel(e)&&delete f[e]}),a()},CHANNEL_COLLAPSE:function(e){var t=e.channelId;f[t]?delete f[t]:f[t]=!0,f=i({},f),a()},LOGOUT:function(){s.default.remove(u)}}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(n(5));t.default={setEnabled:function(e){this.update({enabled:e})},update:function(e){var t=Object.keys(e),n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var s=o;a.default.dispatch({type:r.ActionTypes.STREAMER_MODE_UPDATE,key:s,value:e[s]})}}},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e){var t=this.constructor;return this.callbacks={},this.directMap={},this.sequenceLevels={},this.resetTimer,this.ignoreNextKeyup=!1,this.ignoreNextKeypress=!1,this.nextExpectedAction=!1,this.element=e,this.addEvents(),t.instances.push(this),this},e.exports.prototype.bind=n(4942),e.exports.prototype.bindMultiple=n(4943),e.exports.prototype.unbind=n(4944),e.exports.prototype.trigger=n(4945),e.exports.prototype.reset=n(4946),e.exports.prototype.stopCallback=n(4947),e.exports.prototype.handleKey=n(4948),e.exports.prototype.addEvents=n(4949),e.exports.prototype.bindSingle=n(4953),e.exports.prototype.getKeyInfo=n(4954),e.exports.prototype.pickBestAction=n(4958),e.exports.prototype.getReverseMap=n(4959),e.exports.prototype.getMatches=n(4960),e.exports.prototype.resetSequences=n(4962),e.exports.prototype.fireCallback=n(4963),e.exports.prototype.bindSequence=n(4966),e.exports.prototype.resetSequenceTimer=n(4967),e.exports.prototype.detach=n(4968),e.exports.instances=[],e.exports.reset=n(4969),e.exports.REVERSE_MAP=null},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=r(n(3)),l=r(n(15)),u=r(n(83)),f=r(n(588)),d=r(n(587)),p=r(n(4984)),g=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.collapsed,r=e.className;return s(u.default,{className:(0,l.default)(r,n?p.default.listCollapse:p.default.listDefault),direction:n?u.default.Direction.HORIZONTAL:u.default.Direction.VERTICAL,justify:u.default.Justify.START,wrap:n?u.default.Wrap.WRAP:u.default.Wrap.NO_WRAP,align:n?u.default.Align.START:u.default.Align.STRETCH},void 0,t)},t}(c.default.PureComponent),h=s(f.default,{}),m=s(d.default,{}),b=function(e){function t(n){a(this,t);var r=i(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleMouseLeave=r.handleMouseLeave.bind(r),r.handleContextMenu=r.handleContextMenu.bind(r),r.state={hovered:!1},r}return o(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.onClick,r=t.user,a=t.channel;n&&n(e,r,a)},t.prototype.handleMouseEnter=function(e){this.setState({hovered:!0});var t=this.props,n=t.onMouseEnter,r=t.user,a=t.channel;n&&n(e,r,a)},t.prototype.handleMouseLeave=function(e){this.setState({hovered:!1});var t=this.props,n=t.onMouseLeave,r=t.user,a=t.channel;n&&n(e,r,a)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,r=t.user,a=t.channel;n&&n(e,r,a)},t.prototype.renderAvatar=function(){var e=this.props,t=e.speaking,n=e.user,r=void 0;return r=t?p.default.avatarSpeaking:p.default.avatarDefault,s(u.default.Child,{wrap:!0,className:(0,l.default)(p.default.avatarContainer,"margin-reset"),grow:0,shrink:0},void 0,s("div",{className:r,style:{backgroundImage:"url("+(n.avatarURL||n.getAvatarURL&&n.getAvatarURL("jpg")||"")+")"}}))},t.prototype.renderName=function(){var e=this.props,t=e.nick,n=e.user,r=e.collapsed,a=e.speaking,i=this.state.hovered;if(r)return null;var o=void 0;return o=a?p.default.nameSpeaking:i?p.default.nameHovered:p.default.nameDefault,s(u.default.Child,{className:(0,l.default)(o,"margin-reset")},void 0,t||n.username)},t.prototype.renderIcons=function(){var e=this.props,t=e.mute,n=e.deaf;if(e.collapsed)return null;var r=void 0,a=void 0;return t&&(r=s("div",{className:p.default.iconSpacing},void 0,h)),n&&(a=s("div",{className:p.default.iconSpacing},void 0,m)),null==r&&null==a?null:s(u.default,{wrap:!0,className:"margin-reset",grow:0,shrink:0,align:u.default.Align.CENTER},void 0,r,a)},t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.onContextMenu,r=this.state.hovered;return s("div",{className:r?p.default.userHovered:p.default.userDefault,onClick:t&&this.handleClick,onMouseEnter:t&&this.handleMouseEnter,onMouseLeave:t&&this.handleMouseLeave,onContextMenu:n&&this.handleContextMenu},void 0,this.renderAvatar(),this.renderName(),this.renderIcons())},t}(c.default.PureComponent);b.List=g,t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.__esModule=!0;var i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),o=(r(n(547)),r(n(3))),s=r(n(54)),c=n(564),l=r(n(205)),u=r(n(550)),f=r(n(4990)),d=r(n(1557)),p=r(n(21)),g=function(e){function t(){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=Array(o),f=0;f<o;f++)c[f]=arguments[f];return n=r=a(this,e.call.apply(e,[this].concat(c))),r.handleCopy=function(){s.default.track("Copy Instant Invite",{Server:l.default.getGuildId(),Channel:u.default.getChannelId(),location:r.props.location})},i=n,a(r,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.hidden,n=e.code,r=e.copyText,a=e.isVertical,o=e.inputClassName;return a?i(d.default,{className:"instant-invite",isVertical:!0,inputClassName:o,text:p.default.Messages.COPY_LINK,value:(0,c.getInviteURL)(n),hideMessage:t?p.default.Messages.INSTANT_INVITE_HIDDEN:"",onCopy:this.handleCopy}):i(f.default,{className:"instant-invite",visibleValue:t?p.default.Messages.INSTANT_INVITE_HIDDEN:"",copyValue:(0,c.getInviteURL)(n),onCopy:this.handleCopy,copyText:r})},t}(o.default.Component);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var i=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===o)n.children=a;else if(o>1){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=(r(n(547)),r(n(3))),o=r(n(14)),s=r(n(15)),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._interval=setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)},t.prototype.render=function(){var e=void 0;if(this.props.deadline===1/0)e="";else{var t=Math.max(0,this.props.deadline-Date.now())/1e3,n=[Math.floor(t/86400),Math.floor((t%=86400)/3600),Math.floor((t%=3600)/60),Math.floor(t%60)];0===n[0]&&n.shift(),e=(0,o.default)(n).map(function(e){return e<10?"0"+e:e}).map(function(e,t){return[t>0?":":null,a("span",{className:"countdown-number"},t,e)]}).flatten().value()}var r=(0,s.default)("countdown",{"countdown-never":this.props.deadline===1/0});return a("span",{className:r},void 0,e)},t}(i.default.Component);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(7)),i=r(n(5)),o=(n(4),r(n(1558))),s=r(n(2)),c={},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInvite=function(e){return c[e]},t}(a.default.Store);t.default=new l(i.default,{CONNECTION_OPEN:function(){c={}},CHANNEL_DELETE:function(e){var t=e.channel;delete c[t.id]},INSTANT_INVITE_CREATE:function(){},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t=e.channelId,n=e.invite;c[t]=new o.default({code:n.code,temporary:n.temporary,revoked:n.revoked,maxUses:n.max_uses,maxAge:n.max_age,createdAt:(0,s.default)(n.created_at),channel:n.channel})}}),e.exports=t.default},function(e,t){},,,,,,,,,,,,,,function(e,t){},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),o=n(14),s=n(19),c=n(16),l=n(32),u=n(15),f={alternatives:n(28),array:n(33),boolean:n(27),binary:n(34),date:n(20),number:n(26),object:n(29),string:n(21)};f.root=function(){var e=new o,t=e.clone();return t.any=function(){return i.assert(0===arguments.length,"Joi.any() does not allow arguments."),e},t.alternatives=t.alt=function(){return arguments.length?f.alternatives.try.apply(f.alternatives,arguments):f.alternatives},t.array=function(){return i.assert(0===arguments.length,"Joi.array() does not allow arguments."),f.array},t.boolean=t.bool=function(){return i.assert(0===arguments.length,"Joi.boolean() does not allow arguments."),f.boolean},t.binary=function(){return i.assert(0===arguments.length,"Joi.binary() does not allow arguments."),f.binary},t.date=function(){return i.assert(0===arguments.length,"Joi.date() does not allow arguments."),f.date},t.func=function(){return i.assert(0===arguments.length,"Joi.func() does not allow arguments."),f.object._func()},t.number=function(){return i.assert(0===arguments.length,"Joi.number() does not allow arguments."),f.number},t.object=function(){return arguments.length?f.object.keys.apply(f.object,arguments):f.object},t.string=function(){return i.assert(0===arguments.length,"Joi.string() does not allow arguments."),f.string},t.ref=function(){return u.create.apply(null,arguments)},t.isRef=function(e){return u.isRef(e)},t.validate=function(n){var r=arguments[arguments.length-1],a="function"==typeof r?r:null,i=arguments.length-(a?1:0);if(1===i)return e.validate(n,a);var o=3===i?arguments[2]:{};return t.compile(arguments[1])._validateWithOptions(n,o,a)},t.describe=function(){return(arguments.length?t.compile(arguments[0]):e).describe()},t.compile=function(e){try{return s.schema(e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},t.assert=function(e,n,r){t.attempt(e,n,r)},t.attempt=function(e,n,r){var a=t.validate(e,n),i=a.error;if(i){if(!r)throw i.message=i.annotate(),i;if(!(r instanceof Error))throw i.message=r+" "+i.annotate(),i;throw r}return a.value},t.reach=function(e,t){if(i.assert(e&&e instanceof o,"you must provide a joi schema"),i.assert("string"==typeof t,"path must be a string"),""===t)return e;var n=t.split("."),r=e._inner.children;if(r)for(var a=n[0],s=0;s<r.length;++s){var c=r[s];if(c.key===a)return this.reach(c.schema,t.substr(a.length+1))}},t.lazy=function(e){return l.set(e)},t.extend=function(){var e=this,n=i.flatten(Array.prototype.slice.call(arguments));i.assert(n.length>0,"You need to provide at least one extension"),this.assert(n,t.extensionsSchema);for(var l=Object.create(this),f=function(t){var f=n[t],d=(f.base||e.any()).clone(),p=d.constructor,g=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return f.base&&a(n,d),n._type=f.name,f.language&&(n._settings=n._settings||{language:{}},n._settings.language=i.applyToDefaults(n._settings.language,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},f.name,f.language))),n}return r(t,e),t}(p);if(f.coerce&&(g.prototype._coerce=function(e,t,n){if(p.prototype._coerce){var r=p.prototype._coerce.call(this,e,t,n);if(r.errors)return r;e=r.value}var a=f.coerce.call(this,e,t,n);return a instanceof c.Err?{value:e,errors:a}:{value:a}}),f.pre&&(g.prototype._base=function(e,t,n){if(p.prototype._base){var r=p.prototype._base.call(this,e,t,n);if(r.errors)return r;e=r.value}var a=f.pre.call(this,e,t,n);return a instanceof c.Err?{value:e,errors:a}:{value:a}}),f.rules)for(var h=function(e){var t=f.rules[e],n=t.params?t.params instanceof o?t.params._inner.children.map(function(e){return e.key}):Object.keys(t.params):[],r=t.params?s.schema(t.params):null;g.prototype[t.name]=function(){if(arguments.length>n.length)throw new Error("Unexpected number of arguments");for(var e=Array.prototype.slice.call(arguments),a=!1,i={},o=0;o<n.length;++o)i[n[o]]=e[o],!a&&u.isRef(e[o])&&(a=!0);r&&l.assert(i,r);var s=void 0;if(t.validate){var c=function(e,n,r){return t.validate.call(this,i,e,n,r)};s=this._test(t.name,i,c,{description:t.description,hasRef:a})}else s=this.clone();return t.setup&&t.setup.call(s,i),s}},m=0;m<f.rules.length;++m)h(m);f.describe&&(g.prototype.describe=function(){var e=p.prototype.describe.call(this);return f.describe.call(this,e)});var b=new g;l[f.name]=function(){return b}},d=0;d<n.length;++d)f(d);return l},t.extensionsSchema=f.array.items(f.object.keys({base:f.object.type(o,"Joi object"),name:f.string.required(),coerce:f.object._func().arity(3),pre:f.object._func().arity(3),language:f.object,describe:f.object._func().arity(1),rules:f.array.items(f.object.keys({name:f.string.required(),setup:f.object._func().arity(1),validate:f.object._func().arity(4),params:[f.object.pattern(/.*/,f.object.type(o,"Joi object")),f.object.type(f.object.constructor,"Joi object")],description:[f.string,f.object._func().arity(1)]}).or("setup","validate"))})).strict(),t.version=n(35).version,t},e.exports=f.root()},function(e,t,n){(function(e,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(8),o=n(9),s=n(10),c=n(13),l={};t.clone=function(n,r){if("object"!==(void 0===n?"undefined":a(n))||null===n)return n;var i=(r=r||new Map).get(n);if(i)return i;var o=void 0,s=!1;if(Array.isArray(n))o=[],s=!0;else if(e.isBuffer(n))o=new e(n);else if(n instanceof Date)o=new Date(n.getTime());else if(n instanceof RegExp)o=new RegExp(n);else{var c=Object.getPrototypeOf(n);c&&c.isImmutable?o=n:(o=Object.create(c),s=!0)}if(r.set(n,o),s)for(var l=Object.getOwnPropertyNames(n),u=0;u<l.length;++u){var f=l[u],d=Object.getOwnPropertyDescriptor(n,f);d&&(d.get||d.set)?Object.defineProperty(o,f,d):o[f]=t.clone(n[f],r)}return o},t.merge=function(n,r,i,o){if(t.assert(n&&"object"===(void 0===n?"undefined":a(n)),"Invalid target value: must be an object"),t.assert(null===r||void 0===r||"object"===(void 0===r?"undefined":a(r)),"Invalid source value: must be null, undefined, or an object"),!r)return n;if(Array.isArray(r)){t.assert(Array.isArray(n),"Cannot merge array onto an object"),!1===o&&(n.length=0);for(var s=0;s<r.length;++s)n.push(t.clone(r[s]));return n}for(var c=Object.keys(r),l=0;l<c.length;++l){var u=c[l],f=r[u];f&&"object"===(void 0===f?"undefined":a(f))?!n[u]||"object"!==a(n[u])||Array.isArray(n[u])!==Array.isArray(f)||f instanceof Date||e.isBuffer(f)||f instanceof RegExp?n[u]=t.clone(f):t.merge(n[u],f,i,o):null!==f&&void 0!==f?n[u]=f:!1!==i&&(n[u]=f)}return n},t.applyToDefaults=function(e,n,r){if(t.assert(e&&"object"===(void 0===e?"undefined":a(e)),"Invalid defaults value: must be an object"),t.assert(!n||!0===n||"object"===(void 0===n?"undefined":a(n)),"Invalid options value: must be true, falsy or an object"),!n)return null;var i=t.clone(e);return!0===n?i:t.merge(i,n,!0===r,!1)},t.cloneWithShallow=function(e,n){if(!e||"object"!==(void 0===e?"undefined":a(e)))return e;var r=l.store(e,n),i=t.clone(e);return l.restore(i,e,r),i},l.store=function(e,n){for(var r={},a=0;a<n.length;++a){var i=n[a],o=t.reach(e,i);void 0!==o&&(r[i]=o,l.reachSet(e,i,void 0))}return r},l.restore=function(e,t,n){for(var r=Object.keys(n),a=0;a<r.length;++a){var i=r[a];l.reachSet(e,i,n[i]),l.reachSet(t,i,n[i])}},l.reachSet=function(e,t,n){for(var r=t.split("."),a=e,i=0;i<r.length;++i){var o=r[i];i+1===r.length&&(a[o]=n),a=a[o]}},t.applyToDefaultsWithShallow=function(e,n,r){if(t.assert(e&&"object"===(void 0===e?"undefined":a(e)),"Invalid defaults value: must be an object"),t.assert(!n||!0===n||"object"===(void 0===n?"undefined":a(n)),"Invalid options value: must be true, falsy or an object"),t.assert(r&&Array.isArray(r),"Invalid keys"),!n)return null;var i=t.cloneWithShallow(e,r);if(!0===n)return i;var o=l.store(n,r);return t.merge(i,n,!1,!1),l.restore(i,n,o),i},t.deepEqual=function(n,r,i,o){i=i||{prototype:!0};var s=void 0===n?"undefined":a(n);if(s!==(void 0===r?"undefined":a(r)))return!1;if("object"!==s||null===n||null===r)return n===r?0!==n||1/n==1/r:n!=n&&r!=r;if(-1!==(o=o||[]).indexOf(n))return!0;if(o.push(n),Array.isArray(n)){if(!Array.isArray(r))return!1;if(!i.part&&n.length!==r.length)return!1;for(var c=0;c<n.length;++c){if(i.part){for(var l=!1,u=0;u<r.length;++u)if(t.deepEqual(n[c],r[u],i)){l=!0;break}return l}if(!t.deepEqual(n[c],r[c],i))return!1}return!0}if(e.isBuffer(n)){if(!e.isBuffer(r))return!1;if(n.length!==r.length)return!1;for(var f=0;f<n.length;++f)if(n[f]!==r[f])return!1;return!0}if(n instanceof Date)return r instanceof Date&&n.getTime()===r.getTime();if(n instanceof RegExp)return r instanceof RegExp&&n.toString()===r.toString();if(i.prototype&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(r))return!1;var d=Object.getOwnPropertyNames(n);if(!i.part&&d.length!==Object.getOwnPropertyNames(r).length)return!1;for(var p=0;p<d.length;++p){var g=d[p],h=Object.getOwnPropertyDescriptor(n,g);if(h.get){if(!t.deepEqual(h,Object.getOwnPropertyDescriptor(r,g),i,o))return!1}else if(!t.deepEqual(n[g],r[g],i,o))return!1}return!0},t.unique=function(e,t){var n=void 0;return t?function(){n=[];var r=new Set;e.forEach(function(e){var a=e[t];r.has(a)||(r.add(a),n.push(e))})}():n=Array.from(new Set(e)),n},t.mapToObject=function(e,t){if(!e)return null;for(var n={},r=0;r<e.length;++r)t?e[r][t]&&(n[e[r][t]]=!0):n[e[r]]=!0;return n},t.intersect=function(e,n,r){if(!e||!n)return[];for(var a=[],i=Array.isArray(e)?t.mapToObject(e):e,o={},s=0;s<n.length;++s)if(i[n[s]]&&!o[n[s]]){if(r)return n[s];a.push(n[s]),o[n[s]]=!0}return r?null:a},t.contain=function(e,n,r){var i=null;"object"!==(void 0===e?"undefined":a(e))||"object"!==(void 0===n?"undefined":a(n))||Array.isArray(e)||Array.isArray(n)?n=[].concat(n):(i=n,n=Object.keys(n)),r=r||{},t.assert(arguments.length>=2,"Insufficient arguments"),t.assert("string"==typeof e||"object"===(void 0===e?"undefined":a(e)),"Reference must be string or an object"),t.assert(n.length,"Values array cannot be empty");var o=void 0,s=void 0;if(r.deep){o=t.deepEqual;var c=r.hasOwnProperty("only"),l=r.hasOwnProperty("part");s={prototype:c?r.only:!!l&&!r.part,part:c?!r.only:!l||r.part}}else o=function(e,t){return e===t};for(var u=!1,f=new Array(n.length),d=0;d<f.length;++d)f[d]=0;if("string"==typeof e){for(var p="(",g=0;g<n.length;++g){var h=n[g];t.assert("string"==typeof h,"Cannot compare string reference to non-string value"),p+=(g?"|":"")+t.escapeRegex(h)}var m=new RegExp(p+")","g");u=!!e.replace(m,function(e,t){var r=n.indexOf(t);return++f[r],""})}else if(Array.isArray(e))for(var b=0;b<e.length;++b){for(var v=!1,_=0;_<n.length&&!1===v;++_)v=o(n[_],e[b],s)&&_;!1!==v?++f[v]:u=!0}else for(var y=Object.getOwnPropertyNames(e),E=0;E<y.length;++E){var S=y[E],x=n.indexOf(S);if(-1!==x){if(i&&!o(i[S],e[S],s))return!1;++f[x]}else u=!0}for(var w=!1,T=0;T<f.length;++T)if(w=w||!!f[T],r.once&&f[T]>1||!r.part&&!f[T])return!1;return(!r.only||!u)&&w},t.flatten=function(e,n){for(var r=n||[],a=0;a<e.length;++a)Array.isArray(e[a])?t.flatten(e[a],r):r.push(e[a]);return r},t.reach=function(e,n,r){if(!1===n||null===n||void 0===n)return e;"string"==typeof(r=r||{})&&(r={separator:r});for(var i=n.split(r.separator||"."),o=e,s=0;s<i.length;++s){var c=i[s];if("-"===c[0]&&Array.isArray(o)&&(c=c.slice(1,c.length),c=o.length-c),!o||"object"!==(void 0===o?"undefined":a(o))&&"function"!=typeof o||!(c in o)||"object"!==(void 0===o?"undefined":a(o))&&!1===r.functions){t.assert(!r.strict||s+1===i.length,"Missing segment",c,"in reach path ",n),t.assert("object"===(void 0===o?"undefined":a(o))||!0===r.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=r.default;break}o=o[c]}return o},t.reachTemplate=function(e,n,r){return n.replace(/{([^}]+)}/g,function(n,a){var i=t.reach(e,a,r);return void 0===i||null===i?"":i})},t.formatStack=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push([r.getFileName(),r.getLineNumber(),r.getColumnNumber(),r.getFunctionName(),r.isConstructor()])}return t},t.formatTrace=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push((r[4]?"new ":"")+r[3]+" ("+r[0]+":"+r[1]+":"+r[2]+")")}return t},t.callStack=function(e){var n=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var r={};Error.captureStackTrace(r,this);var a=r.stack;Error.prepareStackTrace=n;return t.formatStack(a).slice(1+e)},t.displayStack=function(e){var n=t.callStack(void 0===e?1:e+1);return t.formatTrace(n)},t.abortThrow=!1,t.abort=function(e,n){if("test"===r.env.NODE_ENV||!0===t.abortThrow)throw new Error(e||"Unknown error");var a="";n||(a=t.displayStack(1).join("\n\t")),console.log("ABORT: "+e+"\n\t"+a),r.exit(1)},t.assert=function(e){if(!e){if(2===arguments.length&&arguments[1]instanceof Error)throw arguments[1];for(var n=[],r=1;r<arguments.length;++r)""!==arguments[r]&&n.push(arguments[r]);throw n=n.map(function(e){return"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)}),new Error(n.join(" ")||"Unknown error")}},t.Timer=function(){this.ts=0,this.reset()},t.Timer.prototype.reset=function(){this.ts=Date.now()},t.Timer.prototype.elapsed=function(){return Date.now()-this.ts},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(n,r){t.assert("string"==typeof n||e.isBuffer(n),"value must be string or buffer");return(e.isBuffer(n)?n:new e(n,r||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(t,n){if("string"!=typeof t)return new Error("Value not a string");if(!/^[\w\-]*$/.test(t))return new Error("Invalid character");var r=new e(t,"base64");return"buffer"===n?r:r.toString(n||"binary")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return c.escapeHtml(e)},t.escapeJavaScript=function(e){return c.escapeJavaScript(e)},t.nextTick=function(e){return function(){var t=arguments;r.nextTick(function(){e.apply(null,t)})}},t.once=function(e){if(e._hoekOnce)return e;var t=!1,n=function(){t||(t=!0,e.apply(null,arguments))};return n._hoekOnce=!0,n},t.isInteger=function(e){return"number"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},t.ignore=function(){},t.inherits=s.inherits,t.format=s.format,t.transform=function(e,n,r){t.assert(null===e||void 0===e||"object"===(void 0===e?"undefined":a(e))||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array");var i="object"===(void 0===r?"undefined":a(r))&&null!==r?r.separator||".":".";if(Array.isArray(e)){for(var o=[],s=0;s<e.length;++s)o.push(t.transform(e[s],n,r));return o}for(var c={},l=Object.keys(n),u=0;u<l.length;++u){var f=l[u],d=f.split(i),p=n[f];t.assert("string"==typeof p,'All mappings must be "." delineated strings');for(var g=void 0,h=c;d.length>1;)h[g=d.shift()]||(h[g]={}),h=h[g];h[g=d.shift()]=t.reach(e,p,r)}return c},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=o.resolve(e);var n=[Date.now(),r.pid,i.randomBytes(8).toString("hex")].join("-")+t;return o.join(e,n)},t.stringify=function(){try{return JSON.stringify.apply(null,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;++r){var a=n[r];t[a]=e[a]}return t}}).call(t,n(3).Buffer,n(7))},function(e,t,n){(function(e){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return o(this,e,t,n)}function o(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=l(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),o=(e=a(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(i.isBuffer(t)){var n=0|u(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?a(e,0):l(e,t);if("Buffer"===t.type&&k(t.data))return l(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(s(t),e=a(e,t<0?0:0|u(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|u(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function u(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(e).length;default:if(r)return N(e).length;t=(""+t).toLowerCase(),r=!0}}function d(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0);(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[i]);return a}(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}(this,t,n);case"base64":return function(e,t,n){return 0===t&&n===e.length?D.fromByteArray(e):D.fromByteArray(e.slice(t,n))}(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:h(e,t,n,r,a);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):h(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function h(e,t,n,r,a){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}var l;if(a){var u=-1;for(l=n;l<s;l++)if(i(e,l)===i(t,-1===u?0:l-u)){if(-1===u&&(u=l),l-u+1===c)return u*o}else-1!==u&&(l-=l-u),u=-1}else for(n+c>s&&(n=s-c),l=n;l>=0;l--){for(var f=!0,d=0;d<c;d++)if(i(e,l+d)!==i(t,d)){f=!1;break}if(f)return l}return-1}function m(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,r){return R(N(t,e.length-n),e,n,r)}function v(e,t,n,r){return R(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return v(e,t,n,r)}function y(e,t,n,r){return R(M(t),e,n,r)}function E(e,t,n,r){return R(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i=e[a],o=null,s=i>239?4:i>223?3:i>191?2:1;if(a+s<=n){var c,l,u,f;switch(s){case 1:i<128&&(o=i);break;case 2:128==(192&(c=e[a+1]))&&(f=(31&i)<<6|63&c)>127&&(o=f);break;case 3:c=e[a+1],l=e[a+2],128==(192&c)&&128==(192&l)&&(f=(15&i)<<12|(63&c)<<6|63&l)>2047&&(f<55296||f>57343)&&(o=f);break;case 4:c=e[a+1],l=e[a+2],u=e[a+3],128==(192&c)&&128==(192&l)&&128==(192&u)&&(f=(15&i)<<18|(63&c)<<12|(63&l)<<6|63&u)>65535&&f<1114112&&(o=f)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),a+=s}return function(e){var t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=L));return n}(r)}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function w(e,t,n,r,a,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function T(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function C(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function A(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,r,a){return a||A(e,0,n,4),P.write(e,t,n,r,23,4),n+4}function O(e,t,n,r,a){return a||A(e,0,n,8),P.write(e,t,n,r,52,8),n+8}function N(e,t){t=t||1/0;for(var n,r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function M(e){return D.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}var D=n(4),P=n(5),k=n(6);t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return o(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return function(e,t,n,r){return s(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},i.allocUnsafe=function(e){return c(null,e)},i.allocUnsafeSlow=function(e){return c(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!k(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):d.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,a){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,a>>>=0,this===e)return 0;for(var o=a-r,s=n-t,c=Math.min(o,s),l=this.slice(r,a),u=e.slice(t,n),f=0;f<c;++f)if(l[f]!==u[f]){o=l[f],s=u[f];break}return o<s?-1:s<o?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return y(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=i.prototype;else{var a=t-e;r=new i(a,void 0);for(var o=0;o<a;++o)r[o]=this[o+e]}return r},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},i.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),P.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),P.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),P.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),P.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){w(this,e,t,n,Math.pow(2,8*n)-1,0)}var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){w(this,e,t,n,Math.pow(2,8*n)-1,0)}var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);w(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);w(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,o=r-n;if(this===e&&n<t&&t<r)for(a=o-1;a>=0;--a)e[a+t]=this[a+n];else if(o<1e3||!i.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=i.isBuffer(e)?e:N(new i(e,r).toString()),c=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%c]}return this};var U=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function a(e,t,n){for(var a,i=[],o=t;o<n;o+=3)a=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(r(a));return i.join("")}t.byteLength=function(e){return 3*e.length/4-n(e)},t.toByteArray=function(e){var t,r,a,i,c,l,u=e.length;c=n(e),l=new s(3*u/4-c),a=c>0?u-4:u;var f=0;for(t=0,r=0;t<a;t+=4,r+=3)i=o[e.charCodeAt(t)]<<18|o[e.charCodeAt(t+1)]<<12|o[e.charCodeAt(t+2)]<<6|o[e.charCodeAt(t+3)],l[f++]=i>>16&255,l[f++]=i>>8&255,l[f++]=255&i;return 2===c?(i=o[e.charCodeAt(t)]<<2|o[e.charCodeAt(t+1)]>>4,l[f++]=255&i):1===c&&(i=o[e.charCodeAt(t)]<<10|o[e.charCodeAt(t+1)]<<4|o[e.charCodeAt(t+2)]>>2,l[f++]=i>>8&255,l[f++]=255&i),l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o="",s=[],c=0,l=n-r;c<l;c+=16383)s.push(a(e,c,c+16383>l?l:c+16383));return 1===r?(t=e[n-1],o+=i[t>>2],o+=i[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=i[t>>10],o+=i[t>>4&63],o+=i[t<<2&63],o+="="),s.push(o),s.join("")};for(var i=[],o=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=c.length;l<u;++l)i[l]=c[l],o[c.charCodeAt(l)]=l;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,c=(1<<s)-1,l=c>>1,u=-7,f=n?a-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+f],f+=d,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=256*o+e[t+f],f+=d,u-=8);if(0===i)i=1-l;else{if(i===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),i-=l}return(p?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,c,l=8*i-a-1,u=(1<<l)-1,f=u>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,g=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(o++,c/=2),o+f>=u?(s=0,o=u):o+f>=1?(s=(t*c-1)*Math.pow(2,a),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;e[n+p]=255&s,p+=g,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[n+p]=255&o,p+=g,o/=256,l-=8);e[n+p-g]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(){g&&d&&(g=!1,d.length?p=d.concat(p):h=-1,p.length&&o())}function o(){if(!g){var e=a(i);g=!0;for(var t=p.length;t;){for(d=p,p=[];++h<t;)d&&d[h].run();h=-1,t=p.length}d=null,g=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,u,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(e){u=r}}();var d,p=[],g=!1,h=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||g||a(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,a="/"===o.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),i="/"===o(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!a).join("/"))||a||(e="."),e&&i&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),i=r(n.split("/")),o=Math.min(a.length,i.length),s=o,c=0;c<o;c++)if(a[c]!==i[c]){s=c;break}var l=[];for(c=s;c<a.length;c++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(7))},function(e,t,n){(function(e,r){function a(e,n){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),h(r.showHidden)&&(r.showHidden=!1),h(r.depth)&&(r.depth=2),h(r.colors)&&(r.colors=!1),h(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,e,r.depth)}function i(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function o(e,t){return e}function s(e,n,r){if(e.customInspect&&n&&y(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(r,e);return g(a)||(a=s(e,a,r)),a}var i=function(e,t){if(h(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(p(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(d(t))return e.stylize("null","null")}(e,n);if(i)return i;var o=Object.keys(n),b=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),_(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(n);if(0===o.length){if(y(n)){var E=n.name?": "+n.name:"";return e.stylize("[Function"+E+"]","special")}if(m(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(v(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return c(n)}var S="",w=!1,T=["{","}"];if(u(n)&&(w=!0,T=["[","]"]),y(n)){S=" [Function"+(n.name?": "+n.name:"")+"]"}if(m(n)&&(S=" "+RegExp.prototype.toString.call(n)),v(n)&&(S=" "+Date.prototype.toUTCString.call(n)),_(n)&&(S=" "+c(n)),0===o.length&&(!w||0==n.length))return T[0]+S+T[1];if(r<0)return m(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var C;return C=w?function(e,t,n,r,a){for(var i=[],o=0,s=t.length;o<s;++o)x(t,String(o))?i.push(l(e,t,n,r,String(o),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(l(e,t,n,r,a,!0))}),i}(e,n,r,b,o):o.map(function(t){return l(e,n,r,b,t,w)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(C,S,T)}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,a,i){var o,c,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?c=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(c=e.stylize("[Setter]","special")),x(r,a)||(o="["+a+"]"),c||(e.seen.indexOf(l.value)<0?(c=d(n)?s(e,l.value,null):s(e,l.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),h(o)){if(i&&a.match(/^\d+$/))return c;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+c}function u(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function d(e){return null===e}function p(e){return"number"==typeof e}function g(e){return"string"==typeof e}function h(e){return void 0===e}function m(e){return b(e)&&"[object RegExp]"===E(e)}function b(e){return"object"==typeof e&&null!==e}function v(e){return b(e)&&"[object Date]"===E(e)}function _(e){return b(e)&&("[object Error]"===E(e)||e instanceof Error)}function y(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var w=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(w,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<i;s=r[++n])d(s)||!b(s)?o+=" "+s:o+=" "+a(s);return o},t.deprecate=function(n,a){if(h(e.process))return function(){return t.deprecate(n,a).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(a);r.traceDeprecation?console.trace(a):console.error(a),i=!0}return n.apply(this,arguments)}};var T,C={};t.debuglog=function(e){if(h(T)&&(T=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!C[e])if(new RegExp("\\b"+e+"\\b","i").test(T)){var n=r.pid;C[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else C[e]=function(){};return C[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=u,t.isBoolean=f,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=p,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=h,t.isRegExp=m,t.isObject=b,t.isDate=v,t.isError=_,t.isFunction=y,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(11);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(12),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(7))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(e){"use strict";var n={};t.escapeJavaScript=function(e){if(!e)return"";for(var t="",r=0;r<e.length;++r){var a=e.charCodeAt(r);n.isSafe(a)?t+=e[r]:t+=n.escapeJavaScriptChar(a)}return t},t.escapeHtml=function(e){if(!e)return"";for(var t="",r=0;r<e.length;++r){var a=e.charCodeAt(r);n.isSafe(a)?t+=e[r]:t+=n.escapeHtmlChar(a)}return t},n.escapeJavaScriptChar=function(t){if(t>=256)return"\\u"+n.padLeft(""+t,4);var r=new e(String.fromCharCode(t),"ascii").toString("hex");return"\\x"+n.padLeft(r,2)},n.escapeHtmlChar=function(t){var r=n.namedHtml[t];if(void 0!==r)return r;if(t>=256)return"&#"+t+";";var a=new e(String.fromCharCode(t),"ascii").toString("hex");return"&#x"+n.padLeft(a,2)+";"},n.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},n.isSafe=function(e){return void 0!==n.safeCharCodes[e]},n.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},n.safeCharCodes=function(){for(var e={},t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()}).call(t,n(3).Buffer)},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(2),o=n(15),s=n(16),c=null,l=null,u={Set:n(18)};u.defaults={abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1},e.exports=u.Any=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l=l||n(19),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new u.Set,this._invalids=new u.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return e.prototype.createError=function(e,t,n,r){return s.create(e,t,n,r,this._flags)},e.prototype.checkOptions=function(e){var t=n(31).options.validate(e);if(t.error)throw new Error(t.error.details[0].message)},e.prototype.clone=function(){var e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._type=this._type,e._settings=u.concatSettings(this._settings),e._valids=i.clone(this._valids),e._invalids=i.clone(this._invalids),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=i.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};for(var t=Object.keys(this._inner),n=0;n<t.length;++n){var r=t[n];e._inner[r]=this._inner[r]?this._inner[r].slice():null}return e},e.prototype.concat=function(e){i.assert(e instanceof u.Any,"Invalid schema object"),i.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);var t=this.clone();if("any"===this._type&&"any"!==e._type){for(var n=e.clone(),r=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],a=0;a<r.length;++a)n[r[a]]=t[r[a]];t=n}t._settings=t._settings?u.concatSettings(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),i.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);for(var o=Object.keys(e._inner),s="object"===t._type,c=0;c<o.length;++c){var l=o[c],f=e._inner[l];if(f){var d=t._inner[l];if(d)if(s&&"children"===l){for(var p={},g=0;g<d.length;++g)p[d[g].key]=g;for(var h=0;h<f.length;++h){var m=f[h].key;p[m]>=0?d[p[m]]={key:m,schema:d[p[m]].schema.concat(f[h].schema)}:d.push(f[h])}}else t._inner[l]=t._inner[l].concat(f);else t._inner[l]=f.slice()}}return t},e.prototype._test=function(e,t,n,r){var a=this.clone();return a._tests.push({func:n,name:e,arg:t,options:r}),a},e.prototype.options=function(e){i.assert(!e.context,"Cannot override context"),this.checkOptions(e);var t=this.clone();return t._settings=u.concatSettings(t._settings,e),t},e.prototype.strict=function(e){var t=this.clone();return t._settings=t._settings||{},t._settings.convert=void 0!==e&&!e,t},e.prototype.raw=function(e){var t=this.clone();return t._flags.raw=void 0===e||e,t},e.prototype.error=function(e){i.assert(e&&e instanceof Error,"Must provide a valid Error object");var t=this.clone();return t._flags.error=e,t},e.prototype.allow=function(){for(var e=this.clone(),t=i.flatten(Array.prototype.slice.call(arguments)),n=0;n<t.length;++n){var r=t[n];i.assert(void 0!==r,"Cannot call allow/valid/invalid with undefined"),e._invalids.remove(r),e._valids.add(r,e._refs)}return e},e.prototype.valid=function(){var e=this.allow.apply(this,arguments);return e._flags.allowOnly=!0,e},e.prototype.invalid=function(e){for(var t=this.clone(),n=i.flatten(Array.prototype.slice.call(arguments)),r=0;r<n.length;++r)e=n[r],i.assert(void 0!==e,"Cannot call allow/valid/invalid with undefined"),t._valids.remove(e),t._invalids.add(e,this._refs);return t},e.prototype.required=function(){var e=this.clone();return e._flags.presence="required",e},e.prototype.optional=function(){var e=this.clone();return e._flags.presence="optional",e},e.prototype.forbidden=function(){var e=this.clone();return e._flags.presence="forbidden",e},e.prototype.strip=function(){var e=this.clone();return e._flags.strip=!0,e},e.prototype.applyFunctionToChildren=function(e,t,n,r){if(1!==(e=[].concat(e)).length||""!==e[0]){r=r?r+".":"";var a=(""===e[0]?e.slice(1):e).map(function(e){return r+e});throw new Error("unknown key(s) "+a.join(", "))}return this[t].apply(this,n)},e.prototype.default=function(e,t){"function"!=typeof e||o.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||i.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));var n=this.clone();return n._flags.default=e,o.push(n._refs,e),n},e.prototype.empty=function(e){var t=this.clone();return t._flags.empty=void 0===e?void 0:l.schema(e),t},e.prototype.when=function(e,t){i.assert(t&&"object"===(void 0===t?"undefined":a(t)),"Invalid options"),i.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var r=t.hasOwnProperty("then")?this.concat(l.schema(t.then)):void 0,o=t.hasOwnProperty("otherwise")?this.concat(l.schema(t.otherwise)):void 0,s=(c=c||n(28)).when(e,{is:t.is,then:r,otherwise:o});return s._flags.presence="ignore",s._settings=u.concatSettings(s._settings,{baseType:this}),s},e.prototype.description=function(e){i.assert(e&&"string"==typeof e,"Description must be a non-empty string");var t=this.clone();return t._description=e,t},e.prototype.notes=function(e){i.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");var t=this.clone();return t._notes=t._notes.concat(e),t},e.prototype.tags=function(e){i.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");var t=this.clone();return t._tags=t._tags.concat(e),t},e.prototype.meta=function(e){i.assert(void 0!==e,"Meta cannot be undefined");var t=this.clone();return t._meta=t._meta.concat(e),t},e.prototype.example=function(e){i.assert(arguments.length,"Missing example");var t=this._validate(e,null,u.defaults);i.assert(!t.errors,"Bad example:",t.errors&&s.process(t.errors,e));var n=this.clone();return n._examples.push(e),n},e.prototype.unit=function(e){i.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");var t=this.clone();return t._unit=e,t},e.prototype._prepareEmptyValue=function(e){return"string"==typeof e&&this._flags.trim?e.trim():e},e.prototype._validate=function(e,t,n,r){var a=this,c=e;t=t||{key:"",path:"",parent:null,reference:r},this._settings&&(n=u.concatSettings(n,this._settings));var l=[],f=function(){var r=void 0;if(!a._flags.strip)if(void 0!==e)r=a._flags.raw?c:e;else if(n.noDefaults)r=c;else if(o.isRef(a._flags.default))r=a._flags.default(t.parent,n);else if("function"!=typeof a._flags.default||a._flags.func&&!a._flags.default.description)r=i.clone(a._flags.default);else{var s=void 0;null!==t.parent&&a._flags.default.length>0&&(s=[i.clone(t.parent),n]);var f=u._try(a._flags.default,s);r=f.value,f.error&&l.push(a.createError("any.default",f.error,t,n))}return{value:r,errors:l.length?l:null}};if(this._coerce){var d=this._coerce.call(this,e,t,n);if(d.errors)return e=d.value,l=l.concat(d.errors),f();e=d.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,u.defaults).errors&&(e=void 0);var p=this._flags.presence||n.presence;if("optional"===p){if(void 0===e){if(!(this._flags.hasOwnProperty("default")&&void 0===this._flags.default)||"object"!==this._type)return f();e={}}}else{if("required"===p&&void 0===e)return l.push(this.createError("any.required",null,t,n)),f();if("forbidden"===p)return void 0===e?f():(l.push(this.createError("any.unknown",null,t,n)),f())}if(this._valids.has(e,t,n,this._flags.insensitive))return f();if(this._invalids.has(e,t,n,this._flags.insensitive)&&(l.push(this.createError(""===e?"any.empty":"any.invalid",null,t,n)),n.abortEarly||void 0===e))return f();if(this._base){var g=this._base.call(this,e,t,n);if(g.errors)return e=g.value,l=l.concat(g.errors),f();if(g.value!==e){if(e=g.value,this._valids.has(e,t,n,this._flags.insensitive))return f();if(this._invalids.has(e,t,n,this._flags.insensitive)&&(l.push(this.createError(""===e?"any.empty":"any.invalid",null,t,n)),n.abortEarly))return f()}}if(this._flags.allowOnly&&(l.push(this.createError("any.allowOnly",{valids:this._valids.values({stripUndefined:!0})},t,n)),n.abortEarly))return f();for(var h=0;h<this._tests.length;++h){var m=this._tests[h].func.call(this,e,t,n);if(m instanceof s.Err){if(l.push(m),n.abortEarly)return f()}else e=m}return f()},e.prototype._validateWithOptions=function(e,t,n){t&&this.checkOptions(t);var r=u.concatSettings(u.defaults,t),a=this._validate(e,null,r),i=s.process(a.errors,e);return n?n(i,a.value):{error:i,value:a.value}},e.prototype.validate=function(e,t,n){return"function"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,n)},e.prototype.describe=function(){var e=this,t={type:this._type},n=Object.keys(this._flags);if(n.length)if(["empty","default","lazy","label"].some(function(t){return e._flags.hasOwnProperty(t)})){t.flags={};for(var r=0;r<n.length;++r){var a=n[r];"empty"===a?t.flags[a]=this._flags[a].describe():"default"===a?o.isRef(this._flags[a])?t.flags[a]=this._flags[a].toString():"function"==typeof this._flags[a]?t.flags[a]=this._flags[a].description:t.flags[a]=this._flags[a]:"lazy"===a||"label"===a||(t.flags[a]=this._flags[a])}}else t.flags=this._flags;this._description&&(t.description=this._description),this._notes.length&&(t.notes=this._notes),this._tags.length&&(t.tags=this._tags),this._meta.length&&(t.meta=this._meta),this._examples.length&&(t.examples=this._examples),this._unit&&(t.unit=this._unit);var i=this._valids.values();i.length&&(t.valids=i.map(function(e){return o.isRef(e)?e.toString():e}));var s=this._invalids.values();s.length&&(t.invalids=s.map(function(e){return o.isRef(e)?e.toString():e})),t.rules=[];for(var c=0;c<this._tests.length;++c){var l=this._tests[c],u={name:l.name};void 0!==l.arg&&(u.arg=o.isRef(l.arg)?l.arg.toString():l.arg);var f=l.options;if(f){if(f.hasRef){u.arg={};for(var d=Object.keys(l.arg),p=0;p<d.length;++p){var g=d[p],h=l.arg[g];u.arg[g]=o.isRef(h)?h.toString():h}}"string"==typeof f.description?u.description=f.description:"function"==typeof f.description&&(u.description=f.description(u.arg))}t.rules.push(u)}t.rules.length||delete t.rules;var m=this._getLabel();return m&&(t.label=m),t},e.prototype.label=function(e){i.assert(e&&"string"==typeof e,"Label name must be a non-empty string");var t=this.clone();return t._flags.label=e,t},e.prototype._getLabel=function(e){return this._flags.label||e},e}(),u.Any.prototype.isImmutable=!0,u.Any.prototype.only=u.Any.prototype.equal=u.Any.prototype.valid,u.Any.prototype.disallow=u.Any.prototype.not=u.Any.prototype.invalid,u.Any.prototype.exist=u.Any.prototype.required,u._try=function(e,t){var n=void 0,r=void 0;try{r=e.apply(null,t)}catch(e){n=e}return{value:r,error:n}},u.concatSettings=function(e,t){if(!e&&!t)return null;var n={};if(e&&r(n,e),t)for(var a=Object.keys(t),o=0;o<a.length;++o){var s=a[o];"language"===s&&n.hasOwnProperty(s)?n[s]=i.applyToDefaults(n[s],t[s]):n[s]=t[s]}return n}},function(e,t,n){"use strict";var r=n(2);t.create=function(e,t){r.assert("string"==typeof e,"Invalid reference key:",e);var n=r.clone(t),a=function e(t,a){return r.reach(e.isContext?a.context:t,e.key,n)};return a.isContext=e[0]===(n&&n.contextPrefix||"$"),a.key=a.isContext?e.slice(1):e,a.path=a.key.split(n&&n.separator||"."),a.depth=a.path.length,a.root=a.path[0],a.isJoi=!0,a.toString=function(){return(a.isContext?"context:":"ref:")+a.key},a},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,n){t.isRef(n)&&!n.isContext&&e.push(n.root)}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(2),i=n(17),o={};o.stringify=function(e,n){var a=void 0===e?"undefined":r(e);if(null===e)return"null";if("string"===a)return e;if(e instanceof t.Err||"function"===a)return e.toString();if("object"===a){if(Array.isArray(e)){for(var i="",s=0;s<e.length;++s)i=i+(i.length?", ":"")+o.stringify(e[s],n);return n?"["+i+"]":i}return e.toString()}return JSON.stringify(e)},t.Err=function(){function e(t,n,r,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isJoi=!0,this.type=t,this.context=n||{},this.context.key=r.key,this.path=r.path,this.options=a,this.flags=i}return e.prototype.toString=function(){var e=this,t=this.options.language;this.flags.label?this.context.key=this.flags.label:""!==this.context.key&&null!==this.context.key||(this.context.key=t.root||i.errors.root);var n=a.reach(t,this.type)||a.reach(i.errors,this.type),r=/\{\{\!?key\}\}/.test(n),s=n.length>2&&"!"===n[0]&&"!"===n[1];s&&(n=n.slice(2)),r||s||(n=(a.reach(t,"key")||a.reach(i.errors,"key"))+n);var c=a.reach(t,"messages.wrapArrays");return"boolean"!=typeof c&&(c=i.errors.messages.wrapArrays),n.replace(/\{\{(\!?)([^}]+)\}\}/g,function(t,n,r){var i=a.reach(e.context,r),s=o.stringify(i,c);return n?a.escapeHtml(s):s})},e}(),t.create=function(e,n,r,a,i){return new t.Err(e,n,r,a,i)},t.process=function(e,t){if(!e||!e.length)return null;var n="",r=[],a=function e(t,a){for(var i=0;i<t.length;++i){var s=t[i];if(s.flags.error)return s.flags.error;var c=void 0;if(void 0===a&&(c=s.toString(),n=n+(n?". ":"")+c),s.context.reason&&s.context.reason.length){var l=e(s.context.reason,s.path);if(l)return l}else r.push({message:c||s.toString(),path:o.getPath(s),type:s.type,context:s.context})}}(e);if(a)return a;var i=new Error(n);return i.isJoi=!0,i.name="ValidationError",i.details=r,i._object=t,i.annotate=o.annotate,i},o.getPath=function(e){return e.path||e.context.key},o.safeStringify=function(e,t){return JSON.stringify(e,o.serializer(),t)},o.serializer=function(){var e=[],t=[];return function(n,a){if(t.length>0){var i=t.indexOf(this);~i?(t.length=i+1,e.length=i+1,e[i]=n):(t.push(this),e.push(n)),~t.indexOf(a)&&(a=function(n,r){return t[0]===r?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(r)).join(".")+"]"}.call(this,n,a))}else t.push(a);if(Array.isArray(a)&&a.placeholders){for(var o=a.placeholders,s=[],c=0;c<a.length;++c)o[c]&&s.push(o[c]),s.push(a[c]);a=s}return a===1/0||a===-1/0||Number.isNaN(a)||"function"==typeof a||"symbol"===(void 0===a?"undefined":r(a))?"["+a.toString()+"]":a}},o.annotate=function(e){var t=e?"":"[31m",n=e?"":"[41m",i=e?"":"[0m";if("object"!==r(this._object))return this.details[0].message;for(var s=a.clone(this._object||{}),c={},l=this.details.length-1;l>=0;--l)for(var u=l+1,f=this.details[l],d=f.path.split("."),p=s,g=0;g<d.length&&p;++g){var h=d[g];if(g+1<d.length)p=p[h];else{var m=p[h];if(Array.isArray(p)){var b="_$idx$_"+u+"_$end$_";p.placeholders||(p.placeholders={}),p.placeholders[h]?p.placeholders[h]=p.placeholders[h].replace("_$end$_",", "+u+"_$end$_"):p.placeholders[h]=b}else if(void 0!==m){delete p[h];var v=h+"_$key$_"+u+"_$end$_";p[v]=m,c[f.path]=v}else if(c[f.path]){var _=c[f.path],y=_.replace("_$end$_",", "+u+"_$end$_");p[y]=p[_],c[f.path]=y,delete p[_]}else p["_$miss$_"+h+"|"+u+"_$end$_"]="__missing__"}}var E=/_\$key\$_([, \d]+)_\$end\$_\"/g,S=/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,x=/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,w=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g,T=o.safeStringify(s,2).replace(E,function(e,n){return'" '+t+"["+n+"]"+i}).replace(S,function(e,r,a){return n+'"'+r+'"'+i+t+" ["+a+"]: -- missing --"+i}).replace(x,function(e,n,r){return"\n"+r+" "+t+"["+n+"]"+i}).replace(w,function(e,t){return t});T=T+"\n"+t;for(var C=0;C<this.details.length;++C){T=T+"\n["+(C+1)+"] "+this.details[C].message}return T+=i}},function(e,t){"use strict";t.errors={root:"value",key:'"{{!key}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives"},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!key}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!key}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!key}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'missing required peer "{{peer}}"',without:'conflict with forbidden peer "{{peer}}"',missing:"must contain at least one of {{peers}}",xor:"contains a conflict between exclusive peers {{peers}}",or:"must contain at least one of {{peers}}",and:"contains {{present}} without its required peers {{missing}}",nand:'!!"{{main}}" must not exist simultaneously with {{peers}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists'},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",base64:"must be a valid base64 string",hostname:"must be a valid hostname",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(e,t,n){(function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(15);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._set=[]}return e.prototype.add=function(e,t){if(a.isRef(e)||!this.has(e,null,null,!1))return void 0!==t&&a.push(t,e),this._set.push(e),this},e.prototype.merge=function(e,t){for(var n=0;n<e._set.length;++n)this.add(e._set[n]);for(var r=0;r<t._set.length;++r)this.remove(t._set[r]);return this},e.prototype.remove=function(e){return this._set=this._set.filter(function(t){return e!==t}),this},e.prototype.has=function(e,n,i,o){for(var s=0;s<this._set.length;++s){var c=this._set[s];n&&a.isRef(c)&&(c=c(n.reference||n.parent,i)),Array.isArray(c)||(c=[c]);for(var l=0;l<c.length;++l){var u=c[l];if((void 0===e?"undefined":r(e))===(void 0===u?"undefined":r(u))&&(e===u||e instanceof Date&&u instanceof Date&&e.getTime()===u.getTime()||o&&"string"==typeof e&&e.toLowerCase()===u.toLowerCase()||t.isBuffer(e)&&t.isBuffer(u)&&e.length===u.length&&e.toString("binary")===u.toString("binary")))return!0}}return!1},e.prototype.values=function(e){if(e&&e.stripUndefined){for(var t=[],n=0;n<this._set.length;++n){var r=this._set[n];void 0!==r&&t.push(r)}return t}return this._set.slice()},e.prototype.slice=function(){var t=new e;return t._set=this._set.slice(),t},e.prototype.concat=function(t){var n=new e;return n._set=this._set.concat(t._set),n},e}()}).call(t,n(3).Buffer)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(2),i=n(15),o={any:null,date:n(20),string:n(21),number:n(26),boolean:n(27),alt:null,object:null};t.schema=function(e){return o.any=o.any||new(n(14)),o.alt=o.alt||n(28),o.object=o.object||n(29),void 0!==e&&null!==e&&"object"===(void 0===e?"undefined":r(e))?e.isJoi?e:Array.isArray(e)?o.alt.try(e):e instanceof RegExp?o.string.regex(e):e instanceof Date?o.date.valid(e):o.object.keys(e):"string"==typeof e?o.string.valid(e):"number"==typeof e?o.number.valid(e):"boolean"==typeof e?o.boolean.valid(e):i.isRef(e)?o.any.valid(e):(a.assert(null===e,"Invalid schema content:",e),o.any.valid(null))},t.ref=function(e){return i.isRef(e)?e:i.create(e)}},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a=n(14),i=n(15),o=n(2),s={};s.isoDate=/^(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,s.invalidDate=new Date(""),s.isIsoDate=function(){var e=s.isoDate.toString();return function(t){return t&&t.toString()===e}}(),s.Date=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="date",n}return r(t,e),t.prototype._base=function(e,t,n){var r={value:n.convert&&s.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(r.value instanceof Date&&!isNaN(r.value.getTime()))r.errors=null;else if(n.convert){var a=void 0;a=s.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?"timestamp."+this._flags.timestamp:"base",r.errors=this.createError("date."+a,null,t,n)}else r.errors=this.createError("date.strict",null,t,n);return r},t.toDate=function(e,t,n,r){if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e&&!isNaN(e)&&isFinite(e)){"string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e));var a=void 0;if(a=t&&s.isIsoDate(t)?t.test(e)?new Date(e):s.invalidDate:n&&r?new Date(e*r):new Date(e),!isNaN(a.getTime()))return a}return null},t.prototype.iso=function(){var e=this.clone();return e._flags.format=s.isoDate,e},t.prototype.timestamp=function(e){e=e||"javascript";var t=["javascript","unix"];o.assert(-1!==t.indexOf(e),'"type" must be one of "'+t.join('", "')+'"');var n=this.clone();return n._flags.timestamp=e,n._flags.multiplier="unix"===e?1e3:1,n},t.prototype._isIsoDate=function(e){return s.isoDate.test(e)},t}(a),s.compare=function(e,t){return function(n){var r="now"===n,a=i.isRef(n);return r||a||(n=s.Date.toDate(n)),o.assert(n,"Invalid date format"),this._test(e,n,function(i,o,c){var l=void 0;if(r)l=Date.now();else if(a){if(!(l=s.Date.toDate(n(o.reference||o.parent,c))))return this.createError("date.ref",{ref:n.key},o,c);l=l.getTime()}else l=n.getTime();return t(i.getTime(),l)?i:this.createError("date."+e,{limit:new Date(l)},o,c)})}},s.Date.prototype.min=s.compare("min",function(e,t){return e>=t}),s.Date.prototype.max=s.compare("max",function(e,t){return e<=t}),e.exports=new s.Date},function(e,t,n){(function(t){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(8),o=n(2),s=n(22),c=n(14),l=n(15),u=n(20),f=n(23),d=n(25),p={uriRegex:f.createUriRegex(),ipRegex:d.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional")};p.String=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="string",n._invalids.add(""),n}return r(t,e),t.prototype._base=function(e,t,n){if("string"==typeof e&&n.convert){if(this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(var r=0;r<this._inner.replacements.length;++r){var a=this._inner.replacements[r];e=e.replace(a.pattern,a.replacement)}if(this._flags.truncate)for(var i=0;i<this._tests.length;++i){var o=this._tests[i];if("max"===o.name){e=e.slice(0,o.arg);break}}}return{value:e,errors:"string"==typeof e?null:this.createError("string.base",{value:e},t,n)}},t.prototype.insensitive=function(){var e=this.clone();return e._flags.insensitive=!0,e},t.prototype.creditCard=function(){return this._test("creditCard",void 0,function(e,t,n){for(var r=e.length,a=0,i=1;r--;){var o=e.charAt(r)*i;a+=o-9*(o>9),i^=3}return a%10==0&&a>0?e:this.createError("string.creditCard",{value:e},t,n)})},t.prototype.regex=function(e,t){o.assert(e instanceof RegExp,"pattern must be a RegExp");var n={pattern:new RegExp(e.source,e.ignoreCase?"i":void 0)};"string"==typeof t?n.name=t:"object"===(void 0===t?"undefined":a(t))&&(n.invert=!!t.invert,t.name&&(n.name=t.name));var r=["string.regex",n.invert?".invert":"",n.name?".name":".base"].join("");return this._test("regex",n,function(e,t,a){return n.pattern.test(e)^n.invert?e:this.createError(r,{name:n.name,pattern:n.pattern,value:e},t,a)})},t.prototype.alphanum=function(){return this._test("alphanum",void 0,function(e,t,n){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError("string.alphanum",{value:e},t,n)})},t.prototype.token=function(){return this._test("token",void 0,function(e,t,n){return/^\w+$/.test(e)?e:this.createError("string.token",{value:e},t,n)})},t.prototype.email=function(e){return e&&(o.assert("object"===(void 0===e?"undefined":a(e)),"email options must be an object"),o.assert(void 0===e.checkDNS,"checkDNS option is not supported"),o.assert(void 0===e.tldWhitelist||"object"===a(e.tldWhitelist),"tldWhitelist must be an array or object"),o.assert(void 0===e.minDomainAtoms||o.isInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),o.assert(void 0===e.errorLevel||"boolean"==typeof e.errorLevel||o.isInteger(e.errorLevel)&&e.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",e,function(t,n,r){try{var a=s.validate(t,e);if(!0===a||0===a)return t}catch(e){}return this.createError("string.email",{value:t},n,r)})},t.prototype.ip=function(e){var t=p.ipRegex;e=e||{},o.assert("object"===(void 0===e?"undefined":a(e)),"options must be an object"),e.cidr?(o.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),o.assert(e.cidr in d.cidrs,"cidr must be one of "+Object.keys(d.cidrs).join(", ")),e.version||"optional"===e.cidr||(t=d.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional";var n=void 0;if(e.version){Array.isArray(e.version)||(e.version=[e.version]),o.assert(e.version.length>=1,"version must have at least 1 version specified"),n=[];for(var r=0;r<e.version.length;++r){var i=e.version[r];o.assert("string"==typeof i,"version at position "+r+" must be a string"),i=i.toLowerCase(),o.assert(d.versions[i],"version at position "+r+" must be one of "+Object.keys(d.versions).join(", ")),n.push(i)}n=o.unique(n),t=d.createIpRegex(n,e.cidr)}return this._test("ip",e,function(r,a,i){return t.test(r)?r:n?this.createError("string.ipVersion",{value:r,cidr:e.cidr,version:n},a,i):this.createError("string.ip",{value:r,cidr:e.cidr},a,i)})},t.prototype.uri=function(e){var t="",n=!1,r=!1,i=p.uriRegex;if(e){if(o.assert("object"===(void 0===e?"undefined":a(e)),"options must be an object"),e.scheme){o.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),o.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var s=0;s<e.scheme.length;++s){var c=e.scheme[s];o.assert(c instanceof RegExp||"string"==typeof c,"scheme at position "+s+" must be a RegExp or String"),t+=t?"|":"",c instanceof RegExp?t+=c.source:(o.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(c),"scheme at position "+s+" must be a valid scheme"),t+=o.escapeRegex(c))}}e.allowRelative&&(n=!0),e.relativeOnly&&(r=!0)}return(t||n||r)&&(i=f.createUriRegex(t,n,r)),this._test("uri",e,function(e,n,a){return i.test(e)?e:r?this.createError("string.uriRelativeOnly",{value:e},n,a):t?this.createError("string.uriCustomScheme",{scheme:t,value:e},n,a):this.createError("string.uri",{value:e},n,a)})},t.prototype.isoDate=function(){return this._test("isoDate",void 0,function(e,t,n){return u._isIsoDate(e)?e:this.createError("string.isoDate",{value:e},t,n)})},t.prototype.guid=function(e){var t={"{":"}","[":"]","(":")","":""},n={uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},r=[];if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),o.assert(e.version.length>=1,"version must have at least 1 valid version specified");for(var a=0;a<e.version.length;++a){var i=e.version[a];o.assert("string"==typeof i,"version at position "+a+" must be a string"),i=i.toLowerCase(),o.assert(n[i],"version at position "+a+" must be one of "+Object.keys(n).join(", ")),o.assert(-1===r.indexOf(i),"version at position "+a+" must not be a duplicate."),r.push(i)}}var s=/^([\[{\(]?)([0-9A-F]{8})([:-]?)([0-9A-F]{4})([:-]?)([0-9A-F]{4})([:-]?)([0-9A-F]{4})([:-]?)([0-9A-F]{12})([\]}\)]?)$/i;return this._test("guid",e,function(e,a,i){var o=s.exec(e);if(!o)return this.createError("string.guid",{value:e},a,i);if(t[o[1]]!==o[11])return this.createError("string.guid",{value:e},a,i);if(o[3]!==o[5]||o[3]!==o[7]||o[3]!==o[9])return this.createError("string.guid",{value:e},a,i);if(r.length){if(!r.some(function(e){return o[6][0]===n[e]})||!/[89AB]/i.test(o[8][0]))return this.createError("string.guid",{value:e},a,i)}return e})},t.prototype.hex=function(){var e=/^[a-f0-9]+$/i;return this._test("hex",e,function(t,n,r){return e.test(t)?t:this.createError("string.hex",{value:t},n,r)})},t.prototype.base64=function(){var e=/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/;return this._test("base64",e,function(t,n,r){return e.test(t)?t:this.createError("string.base64",{value:t},n,r)})},t.prototype.hostname=function(){var e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(t,n,r){return t.length<=255&&e.test(t)||i.isIPv6(t)?t:this.createError("string.hostname",{value:t},n,r)})},t.prototype.lowercase=function(){var e=this._test("lowercase",void 0,function(e,t,n){return n.convert||e===e.toLocaleLowerCase()?e:this.createError("string.lowercase",{value:e},t,n)});return e._flags.case="lower",e},t.prototype.uppercase=function(){var e=this._test("uppercase",void 0,function(e,t,n){return n.convert||e===e.toLocaleUpperCase()?e:this.createError("string.uppercase",{value:e},t,n)});return e._flags.case="upper",e},t.prototype.trim=function(){var e=this._test("trim",void 0,function(e,t,n){return n.convert||e===e.trim()?e:this.createError("string.trim",{value:e},t,n)});return e._flags.trim=!0,e},t.prototype.replace=function(e,t){"string"==typeof e&&(e=new RegExp(o.escapeRegex(e),"g")),o.assert(e instanceof RegExp,"pattern must be a RegExp"),o.assert("string"==typeof t,"replacement must be a String");var n=this.clone();return n._inner.replacements||(n._inner.replacements=[]),n._inner.replacements.push({pattern:e,replacement:t}),n},t.prototype.truncate=function(e){var t=this.clone();return t._flags.truncate=void 0===e||!!e,t},t}(c),p.compare=function(e,n){return function(r,a){var i=l.isRef(r);return o.assert(o.isInteger(r)&&r>=0||i,"limit must be a positive integer or reference"),o.assert(!a||t.isEncoding(a),"Invalid encoding:",a),this._test(e,r,function(t,s,c){var l=void 0;if(i){if(l=r(s.reference||s.parent,c),!o.isInteger(l))return this.createError("string.ref",{ref:r.key},s,c)}else l=r;return n(t,l,a)?t:this.createError("string."+e,{limit:l,value:t,encoding:a},s,c)})}},p.String.prototype.min=p.compare("min",function(e,n,r){return(r?t.byteLength(e,r):e.length)>=n}),p.String.prototype.max=p.compare("max",function(e,n,r){return(r?t.byteLength(e,r):e.length)<=n}),p.String.prototype.length=p.compare("length",function(e,n,r){return(r?t.byteLength(e,r):e.length)===n}),p.String.prototype.uuid=p.String.prototype.guid,e.exports=new p.String}).call(t,n(3).Buffer)},function(e,t,n){(function(e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(8),i={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,dnsWarnNoMXRecord:5,dnsWarnNoRecord:6,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};i.defer=void 0!==e&&e&&"function"==typeof e.nextTick?e.nextTick.bind(e):function(e){return setTimeout(e,0)},i.specials=function(){for(var e=new Array(256),t=255;t>=0;--t)e[t]=!1;for(var n=0;n<'()<>[]:;@\\,."'.length;++n)e['()<>[]:;@\\,."'.charCodeAt(n)]=!0;return function(t){return e[t]}}(),i.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},i.checkIpV6=function(e){return e.every(function(e){return i.regex.ipV6.test(e)})},i.validDomain=function(e,t){return t.tldBlacklist?Array.isArray(t.tldBlacklist)?-1===i.indexOf.call(t.tldBlacklist,e):!i.hasOwn.call(t.tldBlacklist,e):Array.isArray(t.tldWhitelist)?-1!==i.indexOf.call(t.tldWhitelist,e):i.hasOwn.call(t.tldWhitelist,e)},t.validate=i.validate=function(e,t,n){if("function"==typeof(t=t||{})&&(n=t,t={}),"function"!=typeof n){if(t.checkDNS)throw new TypeError("expected callback function for checkDNS option");n=null}var o=void 0,s=void 0;if("number"==typeof t.errorLevel?(o=!0,s=t.errorLevel):(o=!!t.errorLevel,s=i.diagnoses.valid),t.tldWhitelist)if("string"==typeof t.tldWhitelist)t.tldWhitelist=[t.tldWhitelist];else if("object"!==r(t.tldWhitelist))throw new TypeError("expected array or object tldWhitelist");if(t.tldBlacklist)if("string"==typeof t.tldBlacklist)t.tldBlacklist=[t.tldBlacklist];else if("object"!==r(t.tldBlacklist))throw new TypeError("expected array or object tldBlacklist");if(t.minDomainAtoms&&(t.minDomainAtoms!==(0|+t.minDomainAtoms)||t.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");for(var c=i.diagnoses.valid,l=function(e){e>c&&(c=e)},u={now:i.components.localpart,prev:i.components.localpart,stack:[i.components.localpart]},f="",d={local:"",domain:""},p={locals:[""],domains:[""]},g=0,h=0,m=0,b=void 0,v=!1,_=!1,y=e.length,E=void 0,S=0;S<y;++S){switch(E=e[S],u.now){case i.components.localpart:switch(E){case"(":0===h?l(0===g?i.diagnoses.cfwsComment:i.diagnoses.deprecatedComment):(l(i.diagnoses.cfwsComment),_=!0),u.stack.push(u.now),u.now=i.components.contextComment;break;case".":0===h?l(0===g?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):(_&&l(i.diagnoses.deprecatedLocalPart),_=!1,h=0,++g,d.local+=E,p.locals[g]="");break;case'"':0===h?(l(0===g?i.diagnoses.rfc5321QuotedString:i.diagnoses.deprecatedLocalPart),d.local+=E,p.locals[g]+=E,++h,_=!0,u.stack.push(u.now),u.now=i.components.contextQuotedString):l(i.diagnoses.errExpectingATEXT);break;case"\r":if(y===++S||"\n"!==e[S]){l(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===h?l(0===g?i.diagnoses.cfwsFWS:i.diagnoses.deprecatedFWS):_=!0,u.stack.push(u.now),u.now=i.components.contextFWS,f=E;break;case"@":if(1!==u.stack.length)throw new Error("unexpected item on context stack");0===d.local.length?l(i.diagnoses.errNoLocalPart):0===h?l(i.diagnoses.errDotEnd):d.local.length>64?l(i.diagnoses.rfc5322LocalTooLong):u.prev!==i.components.contextComment&&u.prev!==i.components.contextFWS||l(i.diagnoses.deprecatedCFWSNearAt),u.now=i.components.domain,u.stack[0]=i.components.domain,g=0,h=0,_=!1;break;default:if(_)switch(u.prev){case i.components.contextComment:case i.components.contextFWS:l(i.diagnoses.errATEXTAfterCFWS);break;case i.components.contextQuotedString:l(i.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+u.prev)}else u.prev=u.now,((b=E.charCodeAt(0))<33||b>126||i.specials(b))&&l(i.diagnoses.errExpectingATEXT),d.local+=E,p.locals[g]+=E,++h}break;case i.components.domain:switch(E){case"(":0===h?l(0===g?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedComment):(_=!0,l(i.diagnoses.cfwsComment)),u.stack.push(u.now),u.now=i.components.contextComment;break;case".":0===h?l(0===g?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):v?l(i.diagnoses.errDomainHyphenEnd):h>63&&l(i.diagnoses.rfc5322LabelTooLong),_=!1,h=0,++g,p.domains[g]="",d.domain+=E;break;case"[":0===d.domain.length?(_=!0,++h,u.stack.push(u.now),u.now=i.components.literal,d.domain+=E,p.domains[g]+=E,d.literal=""):l(i.diagnoses.errExpectingATEXT);break;case"\r":if(y===++S||"\n"!==e[S]){l(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===h?l(0===g?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedFWS):(l(i.diagnoses.cfwsFWS),_=!0),u.stack.push(u.now),u.now=i.components.contextFWS,f=E;break;default:if(_)switch(u.prev){case i.components.contextComment:case i.components.contextFWS:l(i.diagnoses.errATEXTAfterCFWS);break;case i.components.literal:l(i.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+u.prev)}v=!1,(b=E.charCodeAt(0))<33||b>126||i.specials(b)?l(i.diagnoses.errExpectingATEXT):"-"===E?(0===h&&l(i.diagnoses.errDomainHyphenStart),v=!0):(b<48||b>122||b>57&&b<65||b>90&&b<97)&&l(i.diagnoses.rfc5322Domain),d.domain+=E,p.domains[g]+=E,++h}break;case i.components.literal:switch(E){case"]":if(c<i.categories.deprecated){var x=-1,w=d.literal,T=i.regex.ipV4.exec(w);if(T&&0!==(x=T.index)&&(w=w.slice(0,x)+"0:0"),0===x)l(i.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==w.slice(0,5).toLowerCase())l(i.diagnoses.rfc5322DomainLiteral);else{var C=w.slice(5),A=i.maxIPv6Groups,I=C.split(":");~(x=C.indexOf("::"))?x!==C.lastIndexOf("::")?l(i.diagnoses.rfc5322IPv62x2xColon):(0!==x&&x!==C.length-2||++A,I.length>A?l(i.diagnoses.rfc5322IPv6MaxGroups):I.length===A&&l(i.diagnoses.deprecatedIPv6)):I.length!==A&&l(i.diagnoses.rfc5322IPv6GroupCount),":"===C[0]&&":"!==C[1]?l(i.diagnoses.rfc5322IPv6ColonStart):":"===C[C.length-1]&&":"!==C[C.length-2]?l(i.diagnoses.rfc5322IPv6ColonEnd):i.checkIpV6(I)?l(i.diagnoses.rfc5321AddressLiteral):l(i.diagnoses.rfc5322IPv6BadCharacter)}}else l(i.diagnoses.rfc5322DomainLiteral);d.domain+=E,p.domains[g]+=E,++h,u.prev=u.now,u.now=u.stack.pop();break;case"\\":l(i.diagnoses.rfc5322DomainLiteralOBSDText),u.stack.push(u.now),u.now=i.components.contextQuotedPair;break;case"\r":if(y===++S||"\n"!==e[S]){l(i.diagnoses.errCRNoLF);break}case" ":case"\t":l(i.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=i.components.contextFWS,f=E;break;default:if((b=E.charCodeAt(0))>127||0===b||"["===E){l(i.diagnoses.errExpectingDTEXT);break}(b<33||127===b)&&l(i.diagnoses.rfc5322DomainLiteralOBSDText),d.literal+=E,d.domain+=E,p.domains[g]+=E,++h}break;case i.components.contextQuotedString:switch(E){case"\\":u.stack.push(u.now),u.now=i.components.contextQuotedPair;break;case"\r":if(y===++S||"\n"!==e[S]){l(i.diagnoses.errCRNoLF);break}case"\t":d.local+=" ",p.locals[g]+=" ",++h,l(i.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=i.components.contextFWS,f=E;break;case'"':d.local+=E,p.locals[g]+=E,++h,u.prev=u.now,u.now=u.stack.pop();break;default:(b=E.charCodeAt(0))>127||0===b||10===b?l(i.diagnoses.errExpectingQTEXT):(b<32||127===b)&&l(i.diagnoses.deprecatedQTEXT),d.local+=E,p.locals[g]+=E,++h}break;case i.components.contextQuotedPair:switch((b=E.charCodeAt(0))>127?l(i.diagnoses.errExpectingQPair):(b<31&&9!==b||127===b)&&l(i.diagnoses.deprecatedQP),u.prev=u.now,u.now=u.stack.pop(),E="\\"+E,u.now){case i.components.contextComment:break;case i.components.contextQuotedString:d.local+=E,p.locals[g]+=E,h+=2;break;case i.components.literal:d.domain+=E,p.domains[g]+=E,h+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+u.now)}break;case i.components.contextComment:switch(E){case"(":u.stack.push(u.now),u.now=i.components.contextComment;break;case")":u.prev=u.now,u.now=u.stack.pop();break;case"\\":u.stack.push(u.now),u.now=i.components.contextQuotedPair;break;case"\r":if(y===++S||"\n"!==e[S]){l(i.diagnoses.errCRNoLF);break}case" ":case"\t":l(i.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=i.components.contextFWS,f=E;break;default:if((b=E.charCodeAt(0))>127||0===b||10===b){l(i.diagnoses.errExpectingCTEXT);break}(b<32||127===b)&&l(i.diagnoses.deprecatedCTEXT)}break;case i.components.contextFWS:if("\r"===f){if("\r"===E){l(i.diagnoses.errFWSCRLFx2);break}++m>1?l(i.diagnoses.deprecatedFWS):m=1}switch(E){case"\r":y!==++S&&"\n"===e[S]||l(i.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===f&&l(i.diagnoses.errFWSCRLFEnd),m=0,u.prev=u.now,u.now=u.stack.pop(),--S}f=E;break;default:throw new Error("unknown context: "+u.now)}if(c>i.categories.rfc5322)break}if(c<i.categories.rfc5322)if(u.now===i.components.contextQuotedString)l(i.diagnoses.errUnclosedQuotedString);else if(u.now===i.components.contextQuotedPair)l(i.diagnoses.errBackslashEnd);else if(u.now===i.components.contextComment)l(i.diagnoses.errUnclosedComment);else if(u.now===i.components.literal)l(i.diagnoses.errUnclosedDomainLiteral);else if("\r"===E)l(i.diagnoses.errFWSCRLFEnd);else if(0===d.domain.length)l(i.diagnoses.errNoDomain);else if(0===h)l(i.diagnoses.errDotEnd);else if(v)l(i.diagnoses.errDomainHyphenEnd);else if(d.domain.length>255)l(i.diagnoses.rfc5322DomainTooLong);else if(d.local.length+d.domain.length+1>254)l(i.diagnoses.rfc5322TooLong);else if(h>63)l(i.diagnoses.rfc5322LabelTooLong);else if(t.minDomainAtoms&&p.domains.length<t.minDomainAtoms)l(i.diagnoses.errDomainTooShort);else if(t.tldWhitelist||t.tldBlacklist){var O=p.domains[g];i.validDomain(O,t)||l(i.diagnoses.errUnknownTLD)}var N=!1,M=!1,R=function(){if(!N&&c<i.categories.dnsWarn){p.domains[g].charCodeAt(0)<=57?l(i.diagnoses.rfc5321TLDNumeric):0===g&&l(i.diagnoses.rfc5321TLD)}c<s&&(c=i.diagnoses.valid);var e=o?c:c<i.defaultThreshold;return n&&(M?n(e):i.defer(n.bind(null,e))),e};if(!(t.checkDNS&&c<i.categories.dnsWarn)){var D=R();return M=!0,D}!function(){0===g&&(d.domain+=".");var e=d.domain;a.resolveMx(e,function(t,n){if(t&&t.code!==a.NODATA)return l(i.diagnoses.dnsWarnNoRecord),R();if(n&&n.length)return N=!0,R();var r=3,o=!1;l(i.diagnoses.dnsWarnNoMXRecord);var s=function(e,t){if(!o){if(--r,t&&t.length)return o=!0,R();0===r&&(l(i.diagnoses.dnsWarnNoRecord),o=!0,R())}};a.resolveCname(e,s),a.resolve4(e,s),a.resolve6(e,s)}),M=!0}()},t.diagnoses=i.validate.diagnoses=function(){for(var e={},t=Object.keys(i.diagnoses),n=0;n<t.length;++n){var r=t[n];e[r]=i.diagnoses[r]}return e}()}).call(t,n(7))},function(e,t,n){"use strict";var r=n(24),a={Uri:{createUriRegex:function(e,t,n){var a=r.scheme,i=void 0;if(n)i="(?:"+r.relativeRef+")";else{e&&(a="(?:"+e+")");var o="(?:"+a+":"+r.hierPart+")";i=t?"(?:"+o+"|"+r.relativeRef+")":o}return new RegExp("^"+i+"(?:\\?"+r.query+")?(?:#"+r.fragment+")?$")}}};e.exports=a.Uri},function(e,t){"use strict";var n={rfc3986:{}};n.generate=function(){n.rfc3986.cidr="[0-9]|[1-2][0-9]|3[0-2]";var e="a-zA-Z0-9-\\._~",t="!\\$&'\\(\\)\\*\\+,;=",r="%0-9A-Fa-f",a=e+r+t+":@",i="["+a+"]",o="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";n.rfc3986.IPv4address="(?:"+o+"\\.){3}"+o;var s="[0-9A-Fa-f]{1,4}",c="(?:"+s+":"+s+"|"+n.rfc3986.IPv4address+")",l="(?:"+s+":){6}"+c,u="::(?:"+s+":){5}"+c,f="(?:"+s+")?::(?:"+s+":){4}"+c,d="(?:(?:"+s+":){0,1}"+s+")?::(?:"+s+":){3}"+c,p="(?:(?:"+s+":){0,2}"+s+")?::(?:"+s+":){2}"+c,g="(?:(?:"+s+":){0,3}"+s+")?::"+s+":"+c,h="(?:(?:"+s+":){0,4}"+s+")?::"+c;n.rfc3986.IPv6address="(?:"+l+"|"+u+"|"+f+"|"+d+"|"+p+"|"+g+"|"+h+"|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",n.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+e+t+":]+",n.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";var m="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+("(?:"+("\\[(?:"+n.rfc3986.IPv6address+"|"+n.rfc3986.IPvFuture+")\\]")+"|"+n.rfc3986.IPv4address+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})")+"(?::[0-9]*)?",b=i+"+",v="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",_="\\/(?:"+b+v+")?";n.rfc3986.hierPart="(?:(?:\\/\\/"+m+v+")|"+_+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",n.rfc3986.relativeRef="(?:(?:\\/\\/"+m+v+")|"+_+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*|)",n.rfc3986.query="["+a+"\\/\\?]*(?=#|$)",n.rfc3986.fragment="["+a+"\\/\\?]*"},n.generate(),e.exports=n.rfc3986},function(e,t,n){"use strict";var r=n(24),a={Ip:{cidrs:{required:"\\/(?:"+r.cidr+")",optional:"(?:\\/(?:"+r.cidr+"))?",forbidden:""},versions:{ipv4:r.IPv4address,ipv6:r.IPv6address,ipvfuture:r.IPvFuture}}};a.Ip.createIpRegex=function(e,t){for(var n=void 0,r=0;r<e.length;++r){var i=e[r];n||(n="^(?:"+a.Ip.versions[i]),n=n+"|"+a.Ip.versions[i]}return new RegExp(n+")"+a.Ip.cidrs[t]+"$")},e.exports=a.Ip},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a=n(14),i=n(15),o=n(2),s={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};s.Number=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="number",n._invalids.add(1/0),n._invalids.add(-1/0),n}return r(t,e),t.prototype._base=function(e,t,n){var r={errors:null,value:e};if("string"==typeof e&&n.convert){var a=parseFloat(e);r.value=isNaN(a)||!isFinite(e)?NaN:a}var i="number"==typeof r.value&&!isNaN(r.value);if(n.convert&&"precision"in this._flags&&i){var o=Math.pow(10,this._flags.precision);r.value=Math.round(r.value*o)/o}return r.errors=i?null:this.createError("number.base",null,t,n),r},t.prototype.multiple=function(e){var t=i.isRef(e);return t||(o.assert("number"==typeof e&&isFinite(e),"multiple must be a number"),o.assert(e>0,"multiple must be greater than 0")),this._test("multiple",e,function(n,r,a){var i=t?e(r.reference||r.parent,a):e;return!t||"number"==typeof i&&isFinite(i)?n%i==0?n:this.createError("number.multiple",{multiple:e,value:n},r,a):this.createError("number.ref",{ref:e.key},r,a)})},t.prototype.integer=function(){return this._test("integer",void 0,function(e,t,n){return o.isInteger(e)?e:this.createError("number.integer",{value:e},t,n)})},t.prototype.negative=function(){return this._test("negative",void 0,function(e,t,n){return e<0?e:this.createError("number.negative",{value:e},t,n)})},t.prototype.positive=function(){return this._test("positive",void 0,function(e,t,n){return e>0?e:this.createError("number.positive",{value:e},t,n)})},t.prototype.precision=function(e){o.assert(o.isInteger(e),"limit must be an integer"),o.assert(!("precision"in this._flags),"precision already set");var t=this._test("precision",e,function(t,n,r){var a=t.toString().match(s.precisionRx);return Math.max((a[1]?a[1].length:0)-(a[2]?parseInt(a[2],10):0),0)<=e?t:this.createError("number.precision",{limit:e,value:t},n,r)});return t._flags.precision=e,t},t}(a),s.compare=function(e,t){return function(n){var r=i.isRef(n),a="number"==typeof n&&!isNaN(n);return o.assert(a||r,"limit must be a number or reference"),this._test(e,n,function(a,i,o){var s=void 0;if(r){if("number"!=typeof(s=n(i.reference||i.parent,o))||isNaN(s))return this.createError("number.ref",{ref:n.key},i,o)}else s=n;return t(a,s)?a:this.createError("number."+e,{limit:s,value:a},i,o)})}},s.Number.prototype.min=s.compare("min",function(e,t){return e>=t}),s.Number.prototype.max=s.compare("max",function(e,t){return e<=t}),s.Number.prototype.greater=s.compare("greater",function(e,t){return e>t}),s.Number.prototype.less=s.compare("less",function(e,t){return e<t}),e.exports=new s.Number},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a=n(14),i=n(2),o={Set:n(18)};o.Boolean=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="boolean",n._flags.insensitive=!0,n._inner.truthySet=new o.Set,n._inner.falsySet=new o.Set,n}return r(t,e),t.prototype._base=function(e,t,n){var r={value:e};return r.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e,r.errors="boolean"==typeof r.value?null:this.createError("boolean.base",null,t,n),r},t.prototype.truthy=function(){for(var e=this.clone(),t=i.flatten(Array.prototype.slice.call(arguments)),n=0;n<t.length;++n){var r=t[n];i.assert(void 0!==r,"Cannot call truthy with undefined"),e._inner.truthySet.add(r)}return e},t.prototype.falsy=function(){for(var e=this.clone(),t=i.flatten(Array.prototype.slice.call(arguments)),n=0;n<t.length;++n){var r=t[n];i.assert(void 0!==r,"Cannot call falsy with undefined"),e._inner.falsySet.add(r)}return e},t.prototype.insensitive=function(e){var t=void 0===e||!!e;if(t!==this._flags.insensitive){var n=this.clone();return n._flags.insensitive=t,n}return this},t.prototype.describe=function(){var e=a.prototype.describe.call(this);return e.truthy=[!0].concat(this._inner.truthySet.values()),e.falsy=[!1].concat(this._inner.falsySet.values()),e},t}(a),e.exports=new o.Boolean},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(2),o=n(14),s=n(19),c=n(15),l={};l.Alternatives=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="alternatives",n._invalids.remove(null),n._inner.matches=[],n}return r(t,e),t.prototype._base=function(e,t,n){for(var r=[],a=this._inner.matches.length,i=this._settings&&this._settings.baseType,o=0;o<a;++o){var s=this._inner.matches[o],c=s.schema;if(c){var l=c._validate(e,t,n);if(!l.errors)return l;r=r.concat(l.errors)}else{if(s.is._validate(s.ref(t.reference||t.parent,n),null,n,t.parent).errors){if(s.otherwise)return s.otherwise._validate(e,t,n);if(i&&o===a-1)return i._validate(e,t,n)}else if(s.then||i)return(s.then||i)._validate(e,t,n)}}return{errors:r.length?r:this.createError("alternatives.base",null,t,n)}},t.prototype.try=function(){var e=i.flatten(Array.prototype.slice.call(arguments));i.assert(e.length,"Cannot add other alternatives without at least one schema");for(var t=this.clone(),n=0;n<e.length;++n){var r=s.schema(e[n]);r._refs.length&&(t._refs=t._refs.concat(r._refs)),t._inner.matches.push({schema:r})}return t},t.prototype.when=function(e,t){i.assert(c.isRef(e)||"string"==typeof e,"Invalid reference:",e),i.assert(t,"Missing options"),i.assert("object"===(void 0===t?"undefined":a(t)),"Invalid options"),i.assert(t.hasOwnProperty("is"),'Missing "is" directive'),i.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var n=this.clone(),r=s.schema(t.is);null!==t.is&&(c.isRef(t.is)||t.is instanceof o)||(r=r.required());var l={ref:s.ref(e),is:r,then:void 0!==t.then?s.schema(t.then):void 0,otherwise:void 0!==t.otherwise?s.schema(t.otherwise):void 0};return n._settings&&n._settings.baseType&&(l.then=l.then&&n._settings.baseType.concat(l.then),l.otherwise=l.otherwise&&n._settings.baseType.concat(l.otherwise)),c.push(n._refs,l.ref),n._refs=n._refs.concat(l.is._refs),l.then&&l.then._refs&&(n._refs=n._refs.concat(l.then._refs)),l.otherwise&&l.otherwise._refs&&(n._refs=n._refs.concat(l.otherwise._refs)),n._inner.matches.push(l),n},t.prototype.describe=function(){for(var e=o.prototype.describe.call(this),t=[],n=0;n<this._inner.matches.length;++n){var r=this._inner.matches[n];if(r.schema)t.push(r.schema.describe());else{var a={ref:r.ref.toString(),is:r.is.describe()};r.then&&(a.then=r.then.describe()),r.otherwise&&(a.otherwise=r.otherwise.describe()),t.push(a)}}return e.alternatives=t,e},t}(o),e.exports=new l.Alternatives},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(2),o=n(30),s=n(14),c=n(16),l=n(19),u=n(15),f={};f.Object=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="object",n._inner.children=null,n._inner.renames=[],n._inner.dependencies=[],n._inner.patterns=[],n}return r(t,e),t.prototype._base=function(e,t,n){var r=e,o=[],s=function(){return{value:r,errors:o.length?o:null}};"string"==typeof e&&n.convert&&(e=f.safeParse(e));var l=this._flags.func?"function":"object";if(!e||(void 0===e?"undefined":a(e))!==l||Array.isArray(e))return o.push(this.createError(l+".base",null,t,n)),s();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return r=e,s();if(r===e){"object"===l?r=Object.create(Object.getPrototypeOf(e)):(r=function(){return e.apply(this,arguments)}).prototype=i.clone(e.prototype);for(var u=Object.keys(e),d=0;d<u.length;++d)r[u[d]]=e[u[d]]}else r=e;for(var p={},g=0;g<this._inner.renames.length;++g){var h=this._inner.renames[g];if(!h.options.ignoreUndefined||void 0!==r[h.from]){if(!h.options.multiple&&p[h.to]&&(o.push(this.createError("object.rename.multiple",{from:h.from,to:h.to},t,n)),n.abortEarly))return s();if(Object.prototype.hasOwnProperty.call(r,h.to)&&!h.options.override&&!p[h.to]&&(o.push(this.createError("object.rename.override",{from:h.from,to:h.to},t,n)),n.abortEarly))return s();void 0===r[h.from]?delete r[h.to]:r[h.to]=r[h.from],p[h.to]=!0,h.options.alias||delete r[h.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return s();var m=i.mapToObject(Object.keys(r));if(this._inner.children)for(var b=0;b<this._inner.children.length;++b){var v=this._inner.children[b],_=v.key,y=r[_];delete m[_];var E={key:_,path:(t.path||"")+(t.path&&_?".":"")+_,parent:r,reference:t.reference},S=v.schema._validate(y,E,n);if(S.errors&&(o.push(this.createError("object.child",{key:_,child:v.schema._getLabel(_),reason:S.errors},E,n)),n.abortEarly))return s();v.schema._flags.strip||void 0===S.value&&S.value!==y?delete r[_]:void 0!==S.value&&(r[_]=S.value)}var x=Object.keys(m);if(x.length&&this._inner.patterns.length){for(var w=0;w<x.length;++w)for(var T=x[w],C={key:T,path:(t.path?t.path+".":"")+T,parent:r,reference:t.reference},A=r[T],I=0;I<this._inner.patterns.length;++I){var O=this._inner.patterns[I];if(O.regex.test(T)){delete m[T];var N=O.rule._validate(A,C,n);if(N.errors&&(o.push(this.createError("object.child",{key:T,child:O.rule._getLabel(T),reason:N.errors},C,n)),n.abortEarly))return s();void 0!==N.value&&(r[T]=N.value)}}x=Object.keys(m)}if((this._inner.children||this._inner.patterns.length)&&x.length){if(n.stripUnknown||n.skipFunctions){for(var M=!!n.stripUnknown&&(!0===n.stripUnknown||!!n.stripUnknown.objects),R=0;R<x.length;++R){var D=x[R];M?(delete r[D],delete m[D]):"function"==typeof r[D]&&delete m[D]}x=Object.keys(m)}if(x.length&&(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!n.allowUnknown))for(var P=0;P<x.length;++P){var k=x[P];o.push(this.createError("object.allowUnknown",{child:k},{key:k,path:t.path+(t.path?".":"")+k},n))}}for(var L=0;L<this._inner.dependencies.length;++L){var U=this._inner.dependencies[L],F=f[U.type].call(this,null!==U.key&&r[U.key],U.peers,r,{key:U.key,path:(t.path||"")+(U.key?"."+U.key:"")},n);if(F instanceof c.Err&&(o.push(F),n.abortEarly))return s()}return s()},t.prototype._func=function(){var e=this.clone();return e._flags.func=!0,e},t.prototype.keys=function(e){i.assert(null===e||void 0===e||"object"===(void 0===e?"undefined":a(e)),"Object schema must be a valid object"),i.assert(!(e&&e instanceof s),"Object schema cannot be a joi schema");var t=this.clone();if(!e)return t._inner.children=null,t;var n=Object.keys(e);if(!n.length)return t._inner.children=[],t;var r=new o;if(t._inner.children)for(var c=0;c<t._inner.children.length;++c){var u=t._inner.children[c];-1===n.indexOf(u.key)&&r.add(u,{after:u._refs,group:u.key})}for(var f=0;f<n.length;++f){var d=n[f],p=e[d];try{var g=l.schema(p);r.add({key:d,schema:g},{after:g._refs,group:d})}catch(e){throw e.hasOwnProperty("path")?e.path=d+"."+e.path:e.path=d,e}}return t._inner.children=r.nodes,t},t.prototype.unknown=function(e){var t=this.clone();return t._flags.allowUnknown=!1!==e,t},t.prototype.length=function(e){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,n,r){return Object.keys(t).length===e?t:this.createError("object.length",{limit:e},n,r)})},t.prototype.arity=function(e){return i.assert(i.isInteger(e)&&e>=0,"n must be a positive integer"),this._test("arity",e,function(t,n,r){return t.length===e?t:this.createError("function.arity",{n:e},n,r)})},t.prototype.minArity=function(e){return i.assert(i.isInteger(e)&&e>0,"n must be a strict positive integer"),this._test("minArity",e,function(t,n,r){return t.length>=e?t:this.createError("function.minArity",{n:e},n,r)})},t.prototype.maxArity=function(e){return i.assert(i.isInteger(e)&&e>=0,"n must be a positive integer"),this._test("maxArity",e,function(t,n,r){return t.length<=e?t:this.createError("function.maxArity",{n:e},n,r)})},t.prototype.min=function(e){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,n,r){return Object.keys(t).length>=e?t:this.createError("object.min",{limit:e},n,r)})},t.prototype.max=function(e){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,n,r){return Object.keys(t).length<=e?t:this.createError("object.max",{limit:e},n,r)})},t.prototype.pattern=function(e,t){i.assert(e instanceof RegExp,"Invalid regular expression"),i.assert(void 0!==t,"Invalid rule"),e=new RegExp(e.source,e.ignoreCase?"i":void 0);try{t=l.schema(t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}var n=this.clone();return n._inner.patterns.push({regex:e,rule:t}),n},t.prototype.schema=function(){return this._test("schema",null,function(e,t,n){return e instanceof s?e:this.createError("object.schema",null,t,n)})},t.prototype.with=function(e,t){return this._dependency("with",e,t)},t.prototype.without=function(e,t){return this._dependency("without",e,t)},t.prototype.xor=function(){var e=i.flatten(Array.prototype.slice.call(arguments));return this._dependency("xor",null,e)},t.prototype.or=function(){var e=i.flatten(Array.prototype.slice.call(arguments));return this._dependency("or",null,e)},t.prototype.and=function(){var e=i.flatten(Array.prototype.slice.call(arguments));return this._dependency("and",null,e)},t.prototype.nand=function(){var e=i.flatten(Array.prototype.slice.call(arguments));return this._dependency("nand",null,e)},t.prototype.requiredKeys=function(e){return e=i.flatten(Array.prototype.slice.call(arguments)),this.applyFunctionToChildren(e,"required")},t.prototype.optionalKeys=function(e){return e=i.flatten(Array.prototype.slice.call(arguments)),this.applyFunctionToChildren(e,"optional")},t.prototype.rename=function(e,t,n){i.assert("string"==typeof e,"Rename missing the from argument"),i.assert("string"==typeof t,"Rename missing the to argument"),i.assert(t!==e,"Cannot rename key to same name:",e);for(var r=0;r<this._inner.renames.length;++r)i.assert(this._inner.renames[r].from!==e,"Cannot rename the same key multiple times");var a=this.clone();return a._inner.renames.push({from:e,to:t,options:i.applyToDefaults(f.renameDefaults,n||{})}),a},t.prototype.applyFunctionToChildren=function(e,t,n,r){e=[].concat(e),i.assert(e.length>0,"expected at least one children");var a=f.groupChildren(e),o=void 0;if(""in a?(o=this[t].apply(this,n),delete a[""]):o=this.clone(),o._inner.children){r=r?r+".":"";for(var s=0;s<o._inner.children.length;++s){var c=o._inner.children[s],l=a[c.key];l&&(o._inner.children[s]={key:c.key,_refs:c._refs,schema:c.schema.applyFunctionToChildren(l,t,n,r+c.key)},delete a[c.key])}}var u=Object.keys(a);return i.assert(0===u.length,"unknown key(s)",u.join(", ")),o},t.prototype._dependency=function(e,t,n){n=[].concat(n);for(var r=0;r<n.length;++r)i.assert("string"==typeof n[r],e,"peers must be a string or array of strings");var a=this.clone();return a._inner.dependencies.push({type:e,key:t,peers:n}),a},t.prototype.describe=function(e){var t=s.prototype.describe.call(this);if(t.rules)for(var n=0;n<t.rules.length;++n){var r=t.rules[n];r.arg&&"object"===a(r.arg)&&r.arg.schema&&r.arg.ref&&(r.arg={schema:r.arg.schema.describe(),ref:r.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(var o=0;o<this._inner.children.length;++o){var c=this._inner.children[o];t.children[c.key]=c.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=i.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(var l=0;l<this._inner.patterns.length;++l){var u=this._inner.patterns[l];t.patterns.push({regex:u.regex.toString(),rule:u.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=i.clone(this._inner.renames)),t},t.prototype.assert=function(e,t,n){e=l.ref(e),i.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),n=n||"pass the assertion test";try{t=l.schema(t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}var r=e.path[e.path.length-1],a=e.path.join(".");return this._test("assert",{schema:t,ref:e},function(o,s,c){if(!t._validate(e(o),null,c,o).errors)return o;var l=i.merge({},s);return l.key=r,l.path=a,this.createError("object.assert",{ref:l.path,message:n},l,c)})},t.prototype.type=function(e,t){i.assert("function"==typeof e,"type must be a constructor function");var n={name:t||e.name,ctor:e};return this._test("type",n,function(t,r,a){return t instanceof e?t:this.createError("object.type",{type:n.name},r,a)})},t.prototype.ref=function(){return this._test("ref",null,function(e,t,n){return u.isRef(e)?e:this.createError("function.ref",null,t,n)})},t}(s),f.safeParse=function(e){try{return JSON.parse(e)}catch(e){}return e},f.renameDefaults={alias:!1,multiple:!1,override:!1},f.groupChildren=function(e){e.sort();for(var t={},n=0;n<e.length;++n){var r=e[n];i.assert("string"==typeof r,"children must be strings");var a=r.split(".")[0];(t[a]=t[a]||[]).push(r.substring(a.length+1))}return t},f.with=function(e,t,n,r,a){if(void 0===e)return e;for(var i=0;i<t.length;++i){var o=t[i];if(!Object.prototype.hasOwnProperty.call(n,o)||void 0===n[o])return this.createError("object.with",{peer:o},r,a)}return e},f.without=function(e,t,n,r,a){if(void 0===e)return e;for(var i=0;i<t.length;++i){var o=t[i];if(Object.prototype.hasOwnProperty.call(n,o)&&void 0!==n[o])return this.createError("object.without",{peer:o},r,a)}return e},f.xor=function(e,t,n,r,a){for(var i=[],o=0;o<t.length;++o){var s=t[o];Object.prototype.hasOwnProperty.call(n,s)&&void 0!==n[s]&&i.push(s)}return 1===i.length?e:0===i.length?this.createError("object.missing",{peers:t},r,a):this.createError("object.xor",{peers:t},r,a)},f.or=function(e,t,n,r,a){for(var i=0;i<t.length;++i){var o=t[i];if(Object.prototype.hasOwnProperty.call(n,o)&&void 0!==n[o])return e}return this.createError("object.missing",{peers:t},r,a)},f.and=function(e,t,n,r,a){for(var i=[],o=[],s=t.length,c=0;c<s;++c){var l=t[c];Object.prototype.hasOwnProperty.call(n,l)&&void 0!==n[l]?o.push(l):i.push(l)}return i.length===s||o.length===s?null:this.createError("object.and",{present:o,missing:i},r,a)},f.nand=function(e,t,n,r,a){for(var o=[],s=0;s<t.length;++s){var c=t[s];Object.prototype.hasOwnProperty.call(n,c)&&void 0!==n[c]&&o.push(c)}var l=i.clone(t),u=l.splice(0,1)[0];return o.length===t.length?this.createError("object.nand",{main:u,peers:l},r,a):null},e.exports=new f.Object},function(e,t,n){"use strict";var r=n(2),a={};e.exports=a.Topo=function(){this._items=[],this.nodes=[]},a.Topo.prototype.add=function(e,t){var n=this,a=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),o=t.group||"?",s=t.sort||0;r.assert(-1===a.indexOf(o),"Item cannot come before itself:",o),r.assert(-1===a.indexOf("?"),"Item cannot come before unassociated items"),r.assert(-1===i.indexOf(o),"Item cannot come after itself:",o),r.assert(-1===i.indexOf("?"),"Item cannot come after unassociated items"),[].concat(e).forEach(function(e,t){var r={seq:n._items.length,sort:s,before:a,after:i,group:o,node:e};n._items.push(r)});var c=this._sort();return r.assert(!c,"item","?"!==o?"added into group "+o:"","created a dependencies error"),this.nodes},a.Topo.prototype.merge=function(e){e=[].concat(e);for(var t=0;t<e.length;++t){var n=e[t];if(n)for(var i=0;i<n._items.length;++i){var o=r.shallow(n._items[i]);this._items.push(o)}}this._items.sort(a.mergeSort);for(var s=0;s<this._items.length;++s)this._items[s].seq=s;var c=this._sort();return r.assert(!c,"merge created a dependencies error"),this.nodes},a.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1},a.Topo.prototype._sort=function(){for(var e={},t=Object.create(null),n=Object.create(null),r=0;r<this._items.length;++r){var a=this._items[r],i=a.seq,o=a.group;n[o]=n[o]||[],n[o].push(i),e[i]=a.before;for(var s=a.after,c=0;c<s.length;++c)t[s[c]]=(t[s[c]]||[]).concat(i)}for(var l=Object.keys(e),u=0;u<l.length;++u){for(var f=l[u],d=[],p=Object.keys(e[f]),g=0;g<p.length;++g){var h=e[f][p[g]];n[h]=n[h]||[];for(var m=0;m<n[h].length;++m)d.push(n[h][m])}e[f]=d}for(var b=Object.keys(t),v=0;v<b.length;++v){var _=b[v];if(n[_])for(var y=0;y<n[_].length;++y){var E=n[_][y];e[E]=e[E].concat(t[_])}}var S=void 0,x={};l=Object.keys(e);for(var w=0;w<l.length;++w){var T=l[w];S=e[T];for(var C=0;C<S.length;++C)x[S[C]]=(x[S[C]]||[]).concat(T)}for(var A={},I=[],O=0;O<this._items.length;++O){var N=O;if(x[O]){N=null;for(var M=0;M<this._items.length;++M)if(!0!==A[M]){x[M]||(x[M]=[]);for(var R=x[M].length,D=0,P=0;P<R;++P)I.indexOf(x[M][P])>=0&&++D;if(D===R){N=M;break}}}null!==N&&(A[N=N.toString()]=!0,I.push(N))}if(I.length!==this._items.length)return new Error("Invalid dependencies");for(var k={},L=0;L<this._items.length;++L){var U=this._items[L];k[U.seq]=U}var F=[];this._items=I.map(function(e){var t=k[e];return F.push(t.node),t}),this.nodes=F}},function(e,t,n){"use strict";var r=n(1);t.options=r.object({abortEarly:r.boolean(),convert:r.boolean(),allowUnknown:r.boolean(),skipFunctions:r.boolean(),stripUnknown:[r.boolean(),r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects")],language:r.object(),presence:r.string().only("required","optional","forbidden","ignore"),raw:r.boolean(),context:r.object(),strip:r.boolean(),noDefaults:r.boolean()}).strict()},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a=n(14),i=n(2),o={};o.Lazy=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="lazy",n}return r(t,e),t.prototype._base=function(e,t,n){var r={value:e},i=this._flags.lazy;if(!i)return r.errors=this.createError("lazy.base",null,t,n),r;var o=i();return o instanceof a?o._validate(e,t,n):(r.errors=this.createError("lazy.schema",null,t,n),r)},t.prototype.set=function(e){i.assert("function"==typeof e,"You must provide a function as first argument");var t=this.clone();return t._flags.lazy=e,t},t}(a),e.exports=new o.Lazy},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(14),o=n(19),s=n(2),c={};c.fastSplice=function(e,t){for(var n=t;n<e.length;)e[n++]=e[n];--e.length},c.Array=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="array",n._inner.items=[],n._inner.ordereds=[],n._inner.inclusions=[],n._inner.exclusions=[],n._inner.requireds=[],n._flags.sparse=!1,n}return r(t,e),t.prototype._base=function(e,t,n){var r={value:e};"string"==typeof e&&n.convert&&c.safeParse(e,r);var a=Array.isArray(r.value),i=a;if(n.convert&&this._flags.single&&!a&&(r.value=[r.value],a=!0),!a)return r.errors=this.createError("array.base",null,t,n),r;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(i&&(r.value=r.value.slice(0)),r.errors=this._checkItems.call(this,r.value,i,t,n),r.errors&&i&&n.convert&&this._flags.single)){var o=r.errors;r.value=[r.value],r.errors=this._checkItems.call(this,r.value,i,t,n),r.errors&&(r.errors=o,r.value=r.value[0])}return r},t.prototype._checkItems=function(e,t,n,r){for(var a=[],i=void 0,o=this._inner.requireds.slice(),s=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(o),u=e.length,f=0;f<u;++f){i=!1;var d=e[f],p=!1,g={key:t?f:n.key,path:t?(n.path?n.path+".":"")+f:n.path,parent:n.parent,reference:n.reference},h=void 0;if(this._flags.sparse||void 0!==d){for(var m=0;m<this._inner.exclusions.length;++m)if(!(h=this._inner.exclusions[m]._validate(d,g,{})).errors){if(a.push(this.createError(t?"array.excludes":"array.excludesSingle",{pos:f,value:d},{key:n.key,path:g.path},r)),i=!0,r.abortEarly)return a;break}if(!i){if(this._inner.ordereds.length){if(s.length>0){var b=s.shift();if((h=b._validate(d,g,r)).errors){if(a.push(this.createError("array.ordered",{pos:f,reason:h.errors,value:d},{key:n.key,path:g.path},r)),r.abortEarly)return a}else if(b._flags.strip)c.fastSplice(e,f),--f,--u;else{if(!this._flags.sparse&&void 0===h.value){if(a.push(this.createError("array.sparse",null,{key:n.key,path:g.path,pos:f},r)),r.abortEarly)return a;continue}e[f]=h.value}continue}if(!this._inner.items.length){if(a.push(this.createError("array.orderedLength",{pos:f,limit:this._inner.ordereds.length},{key:n.key,path:g.path},r)),r.abortEarly)return a;continue}}for(var v=[],_=o.length,y=0;y<_;++y)if(!(h=v[y]=o[y]._validate(d,g,r)).errors){if(e[f]=h.value,p=!0,c.fastSplice(o,y),--y,--_,!this._flags.sparse&&void 0===h.value&&(a.push(this.createError("array.sparse",null,{key:n.key,path:g.path,pos:f},r)),r.abortEarly))return a;break}if(!p){var E=!!r.stripUnknown&&(!0===r.stripUnknown||!!r.stripUnknown.arrays);_=l.length;for(var S=0;S<_;++S){var x=l[S],w=o.indexOf(x);if(-1!==w)h=v[w];else if(!(h=x._validate(d,g,r)).errors){x._flags.strip?(c.fastSplice(e,f),--f,--u):this._flags.sparse||void 0!==h.value?e[f]=h.value:(a.push(this.createError("array.sparse",null,{key:n.key,path:g.path,pos:f},r)),i=!0),p=!0;break}if(1===_){if(E){c.fastSplice(e,f),--f,--u,p=!0;break}if(a.push(this.createError(t?"array.includesOne":"array.includesOneSingle",{pos:f,reason:h.errors,value:d},{key:n.key,path:g.path},r)),i=!0,r.abortEarly)return a;break}}if(!i&&this._inner.inclusions.length&&!p){if(E){c.fastSplice(e,f),--f,--u;continue}if(a.push(this.createError(t?"array.includes":"array.includesSingle",{pos:f,value:d},{key:n.key,path:g.path},r)),r.abortEarly)return a}}}}else if(a.push(this.createError("array.sparse",null,{key:n.key,path:g.path,pos:f},r)),r.abortEarly)return a}return o.length&&this._fillMissedErrors.call(this,a,o,n,r),s.length&&this._fillOrderedErrors.call(this,a,s,n,r),a.length?a:null},t.prototype.describe=function(){var e=i.prototype.describe.call(this);if(this._inner.ordereds.length){e.orderedItems=[];for(var t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(var n=0;n<this._inner.items.length;++n)e.items.push(this._inner.items[n].describe())}return e},t.prototype.items=function(){var e=this.clone();return s.flatten(Array.prototype.slice.call(arguments)).forEach(function(t,n){try{t=o.schema(t)}catch(e){throw e.hasOwnProperty("path")?e.path=n+"."+e.path:e.path=n,e.message=e.message+"("+e.path+")",e}e._inner.items.push(t),"required"===t._flags.presence?e._inner.requireds.push(t):"forbidden"===t._flags.presence?e._inner.exclusions.push(t.optional()):e._inner.inclusions.push(t)}),e},t.prototype.ordered=function(){var e=this.clone();return s.flatten(Array.prototype.slice.call(arguments)).forEach(function(t,n){try{t=o.schema(t)}catch(e){throw e.hasOwnProperty("path")?e.path=n+"."+e.path:e.path=n,e.message=e.message+"("+e.path+")",e}e._inner.ordereds.push(t)}),e},t.prototype.min=function(e){return s.assert(s.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,n,r){return t.length>=e?t:this.createError("array.min",{limit:e,value:t},n,r)})},t.prototype.max=function(e){return s.assert(s.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,n,r){return t.length<=e?t:this.createError("array.max",{limit:e,value:t},n,r)})},t.prototype.length=function(e){return s.assert(s.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,n,r){return t.length===e?t:this.createError("array.length",{limit:e,value:t},n,r)})},t.prototype.unique=function(e){var t=!!e;return e=e||s.deepEqual,s.assert("function"==typeof e,"comparator must be a function"),this._test("unique",void 0,function(n,r,i){for(var o={string:{},number:{},undefined:{},boolean:{},object:[],function:[],custom:[]},s=0;s<n.length;++s){var c=n[s],l=void 0===c?"undefined":a(c),u=t?o.custom:o[l];if(u)if(Array.isArray(u)){for(var f=0;f<u.length;++f)if(e(u[f],c))return this.createError("array.unique",{pos:s,value:c},r,i);u.push(c)}else{if(u[c])return this.createError("array.unique",{pos:s,value:c},r,i);u[c]=!0}}return n})},t.prototype.sparse=function(e){var t=this.clone();return t._flags.sparse=void 0===e||!!e,t},t.prototype.single=function(e){var t=this.clone();return t._flags.single=void 0===e||!!e,t},t.prototype._fillMissedErrors=function(e,t,n,r){for(var a=[],i=0,o=0;o<t.length;++o){var s=t[o]._getLabel();s?a.push(s):++i}a.length?i?e.push(this.createError("array.includesRequiredBoth",{knownMisses:a,unknownMisses:i},{key:n.key,path:n.path},r)):e.push(this.createError("array.includesRequiredKnowns",{knownMisses:a},{key:n.key,path:n.path},r)):e.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:i},{key:n.key,path:n.path},r))},t.prototype._fillOrderedErrors=function(e,t,n,r){for(var a=[],i=0;i<t.length;++i){"required"===s.reach(t[i],"_flags.presence")&&a.push(t[i])}a.length&&this._fillMissedErrors.call(this,e,a,n,r)},t}(i),c.safeParse=function(e,t){try{var n=JSON.parse(e);Array.isArray(n)&&(t.value=n)}catch(e){}},e.exports=new c.Array},function(e,t,n){(function(t){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}}(e,t))}var a=n(14),i=n(2),o={};o.Binary=function(e){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return t._type="binary",t}return r(n,e),n.prototype._base=function(e,n,r){var a={value:e};if("string"==typeof e&&r.convert)try{a.value=new t(e,this._flags.encoding)}catch(e){}return a.errors=t.isBuffer(a.value)?null:this.createError("binary.base",null,n,r),a},n.prototype.encoding=function(e){i.assert(t.isEncoding(e),"Invalid encoding:",e);var n=this.clone();return n._flags.encoding=e,n},n.prototype.min=function(e){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,n,r){return t.length>=e?t:this.createError("binary.min",{limit:e,value:t},n,r)})},n.prototype.max=function(e){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,n,r){return t.length<=e?t:this.createError("binary.max",{limit:e,value:t},n,r)})},n.prototype.length=function(e){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,n,r){return t.length===e?t:this.createError("binary.length",{limit:e,value:t},n,r)})},n}(a),e.exports=new o.Binary}).call(t,n(3).Buffer)},function(e,t){e.exports={_args:[[{raw:"joi@10.0.5",scope:null,escapedName:"joi",name:"joi",rawSpec:"10.0.5",spec:"10.0.5",type:"version"},"/Users/jeff/projects/joi-browser"]],_from:"joi@10.0.5",_id:"joi@10.0.5",_inCache:!0,_location:"/joi",_nodeVersion:"6.9.1",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/joi-10.0.5.tgz_1480956525182_0.0934728232678026"},_npmUser:{name:"marsup",email:"nicolas@morel.io"},_npmVersion:"3.10.10",_phantomChildren:{},_requested:{raw:"joi@10.0.5",scope:null,escapedName:"joi",name:"joi",rawSpec:"10.0.5",spec:"10.0.5",type:"version"},_requiredBy:["#DEV:/"],_resolved:"https://127.0.0.1:1337/api",environment:"production"}})},t.prototype.handleDisconnect=function(e){this.removeSubscriptions(e),o.default.remove(S,function(t){return t===e}),c.default.dispatch({type:b.ActionTypes.RPC_APP_DISCONNECTED,application:e.application})},t.prototype.handleRequest=function(e,t){var n=this;new Promise(function(r){if(!t.nonce)throw new E.default(b.RPCErrors.INVALID_PAYLOAD,"Payload requires a nonce");var a=n.commands[t.cmd];if(!a)throw new E.default(b.RPCErrors.INVALID_COMMAND,"Invalid command: "+t.cmd);if(!(0,y.validateScope)(e.authorization.scopes,a.scope))throw new E.default(b.RPCErrors.INVALID_PERMISSIONS,"Not authenticated or invalid scope");(0,y.checkControlling)(e,a.scope),r(a)}).then(function(e){return new Promise(function(n){e.validation?i.default.validate(t.args,e.validation(),{convert:!1},function(t){if(t)throw new E.default(b.RPCErrors.INVALID_PAYLOAD,t.message);n(e)}):n(e)})}).then(function(r){return r.handler({socket:e,server:n,cmd:t.cmd,evt:t.evt,nonce:t.nonce,args:t.args||{}})}).then(function(r){return n.dispatch(e,t.nonce,t.cmd,null,r)}).catch(function(r){var a=r.code,i=r.message;return n.error(e,t.nonce,t.cmd,a,i)})},t.prototype.dispatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.RPCCommands.DISPATCH,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e.send({cmd:n,data:a,evt:r,nonce:t})},t.prototype.error=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.RPCCommands.DISPATCH,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.RPCErrors.UNKNOWN_ERROR,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Unknown Error";this.dispatch(e,t,n,b.RPCEvents.ERROR,{code:r,message:a})},t.prototype.isSubscribed=function(e,t){return void 0!==this.subscriptions.find(function(n){return n.socket.application.id===e&&n.evt===t})},t.prototype.getSubscription=function(e,t,n){return this.subscriptions.find(function(r){return r.socket===e&&r.evt===t&&o.default.isEqual(r.args,n)})},t.prototype.addSubscription=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.dispatch.bind(this,e,null,b.RPCCommands.DISPATCH,t);this.getSubscription(e,t,n)||this.subscriptions.push({update:r,dispatch:a,prevState:r?r({prevState:null,dispatch:a}):null,socket:e,evt:t,args:n})},t.prototype.removeSubscription=function(e,t,n){o.default.remove(this.subscriptions,function(r){return r.socket===e&&r.evt===t&&o.default.isEqual(r.args,n)})},t.prototype.removeSubscriptions=function(e){o.default.remove(this.subscriptions,function(t){return t.socket===e})},t.prototype.dispatchToSubscriptions=function(e,t,n,r){var i=this;r&&(0,y.deduplicate)(r)||this.subscriptions.forEach(function(r){r.evt===e&&("function"==typeof t&&!t(r)||"object"===(void 0===t?"undefined":a(t))&&!(0,y.containsSameValues)(t,r.args||{})||i.dispatch(r.socket,null,b.RPCCommands.DISPATCH,r.evt,n))})},t.prototype.storesDidChange=function(){return this.subscriptions.forEach(function(e){e.update&&(e.prevState=e.update(e))}),!1},t.prototype.storeWait=function(e,t,n){var r=this,a=t();if(a||!n)return Promise.resolve(a);var i=o.default.uniqueId(),s=function(){return r.removeSubscription(e,"RPC_STORE_WAIT",{uniqueId:i})};return new Promise(function(a,o){var c=setTimeout(function(){s(),o()},1e3*n);r.addSubscription(e,"RPC_STORE_WAIT",{uniqueId:i},function(){var e=t();e&&(clearTimeout(c),a(e))})}).then(function(e){return s(),e})},t.prototype.onMessageEvent=function(e){var t=null;switch(e.type){case b.ActionTypes.MESSAGE_CREATE:if("SENDING"===e.message.state)return!1;t=b.RPCEvents.MESSAGE_CREATE;break;case b.ActionTypes.MESSAGE_UPDATE:t=b.RPCEvents.MESSAGE_UPDATE;break;case b.ActionTypes.MESSAGE_DELETE:t=b.RPCEvents.MESSAGE_DELETE;break;default:return!1}var n=e.channelId||e.message&&e.message.channel_id;if(!n)return!1;var r=t!==b.RPCEvents.MESSAGE_UPDATE?t+":"+(e.id||e.message.id):null;return this.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,y.transformInternalTextMessage)(e.message||{id:e.id})},r),!1},t.prototype.onSpeakingEvent=function(e){var t=e.speaking?b.RPCEvents.SPEAKING_START:b.RPCEvents.SPEAKING_STOP,n=d.default.getVoiceChannelId();if(null==n)return!1;var r=s.default.getChannel(n);if(!r)return!1;var a=g.default.getVoiceState(r.getGuildId(),e.userId);return!!a&&(this.dispatchToSubscriptions(t,{channel_id:a.channelId},{channel_id:a.channelId,user_id:e.userId}),!1)},t.prototype.onVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;return this.dispatchToSubscriptions(b.RPCEvents.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t}),!1},t.prototype.onNotificationCreate=function(e){var t=e.channelId,n=e.message,r=e.icon,a=e.title,i=e.body;return this.dispatchToSubscriptions(b.RPCEvents.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,y.transformInternalTextMessage)(n),icon_url:null!=r?(0,y.getRemoteIconURL)(r):null,title:a,body:i}),!1},t.prototype.onActivitySpectate=function(e){var t=e.applicationId,n=e.secret;return this.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_SPECTATE,function(e){return e.socket.application.id===t},{secret:n}),this.dispatchToSubscriptions(b.RPCEvents.GAME_SPECTATE,function(e){return e.socket.application.id===t},{secret:n}),!1},t.prototype.onActivityJoin=function(e){var t=e.applicationId,n=e.secret;return this.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN,function(e){return e.socket.application.id===t},{secret:n}),this.dispatchToSubscriptions(b.RPCEvents.GAME_JOIN,function(e){return e.socket.application.id===t},{secret:n}),!1},t.prototype.onActivityJoinRequest=function(e){var t=e.applicationId,n=e.user;return this.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN_REQUEST,function(e){return e.socket.application.id===t},{user:n}),!1},t.prototype.onTokenRevoke=function(e){var t=e.accessToken;return S.forEach(function(e){e.authorization.accessToken===t&&e.close(b.RPCCloseCodes.TOKEN_REVOKED,"Token revoked")}),!1},t.prototype.onGuildCreate=function(e){var t=e.guild,n=t.id,r=t.name;return this.dispatchToSubscriptions(b.RPCEvents.GUILD_CREATE,{},{id:n,name:r}),!1},t.prototype.onChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,a=t.type;return this.dispatchToSubscriptions(b.RPCEvents.CHANNEL_CREATE,{},{id:n,name:r,type:a}),!1},t.prototype.onLogout=function(){return S.forEach(function(e){return e.close(b.RPCCloseCodes.CLOSE_NORMAL,"User logout")}),!1},t}(l.default.Store))(c.default,{MESSAGE_CREATE:function(e){return x.onMessageEvent(e)},MESSAGE_UPDATE:function(e){return x.onMessageEvent(e)},MESSAGE_DELETE:function(e){return x.onMessageEvent(e)},SPEAKING:function(e){return x.onSpeakingEvent(e)},OAUTH2_TOKEN_REVOKE:function(e){return x.onTokenRevoke(e)},GUILD_CREATE:function(e){return x.onGuildCreate(e)},CHANNEL_CREATE:function(e){return x.onChannelCreate(e)},LOGOUT:function(e){return x.onLogout()},VOICE_CHANNEL_SELECT:function(e){return x.onVoiceChannelSelect(e)},RPC_NOTIFICATION_CREATE:function(e){return x.onNotificationCreate(e)},ACTIVITY_JOIN:function(e){return x.onActivityJoin(e)},ACTIVITY_SPECTATE:function(e){return x.onActivitySpectate(e)},ACTIVITY_JOIN_REQUEST:function(e){return x.onActivityJoinRequest(e)}});t.default=x,e.exports=t.default},function(e,t,n){e.exports=n.p+"edbbf6107b2cd4334d582b26e1ac786d.png"},function(e,t,n){e.exports=n.p+"4c1bab3f945269a5c1be0b3a2c177141.png"},function(e,t,n){e.exports=n.p+"402008166e5ef53b0045b10930b263b0.png"},function(e,t,n){e.exports=n.p+"ff3516ac66b71ef616b1df63e20fee65.png"},function(e,t,n){e.exports=n.p+"a3c76ddb0887ed7be96e1b7ca203dce2.png"},function(e,t,n){e.exports=n.p+"7fbdc7ec5f62c4d020c588d8d56cd242.png"},function(e,t,n){e.exports=n.p+"8c289d499232cd8e9582b4a5639d9d1d.png"},function(e,t,n){e.exports=n.p+"3a257c4cab129e956b05bd50047eb0f9.png"},function(e,t,n){e.exports=n.p+"cf74f0c780cba6ae11728b8ca740b30c.png"},function(e,t,n){e.exports=n.p+"5be6cc17e596c02e7506f2776cfb1622.png"},function(e,t,n){e.exports=n.p+"de5fb9e860729912c65048c1c657e1a3.png"},function(e,t,n){e.exports=n.p+"1c419ecaf6e5406addbae729c7fa2e75.png"},function(e,t,n){e.exports=n.p+"806953fe1cc616477175cbcdf90d5cd3.png"},function(e,t,n){e.exports=n.p+"fbbd224a0d94747c102515090682bbe1.png"},function(e,t,n){e.exports=n.p+"f87228c98e49168b6cf7ad38651b4e87.png"},function(e,t,n){e.exports=n.p+"f09c1c70a67ceaaeb455d163f3f9cbb8.png"},function(e,t,n){e.exports=n.p+"baf4bdd36b7ef74e8f34b402e66f81f4.png"},function(e,t,n){e.exports=n.p+"6ca4a49418715a16e226be1280494f46.png"},function(e,t,n){e.exports=n.p+"3abe9ce5a00cc24bd8aae04bf5968f4c.png"},function(e,t,n){e.exports=n.p+"bcc7bc0c0b27f9cbadaa1a47ea79db22.png"},function(e,t,n){e.exports=n.p+"51edbb92b1904c19197eb16be97bc6fb.png"},function(e,t,n){e.exports=n.p+"8d8f815f3d81a33b1e70ec7c22e1b6fe.png"},function(e,t,n){e.exports=n.p+"c926e69c482dac25b8e940db74496813.png"},function(e,t,n){e.exports=n.p+"27fb89c30127405c6a5370b477590da6.png"},function(e,t,n){e.exports=n.p+"4662875160dc4c56954003ebda995414.png"},function(e,t,n){e.exports=n.p+"2ac50d286a1c883f28b5149239a8ad36.png"},function(e,t,n){e.exports=n.p+"c38327e52d3a859d550af398edb8d8e0.png"},function(e,t,n){e.exports=n.p+"f0655521c19c08c4ea4e508044ec7d8c.png"},function(e,t,n){e.exports=n.p+"fe3770614c2658a07dea3ecb286ce745.png"},function(e,t,n){e.exports=n.p+"739cb09703de9dcfe68d0200a163d9fc.png"},function(e,t){e.exports=[{executables:{win32:["pyrogenesis.exe"]},name:"0 A.D."},{executables:{win32:["100orange.exe"]},name:"100% Orange Juice"},{executables:{win32:["20xx.exe"]},name:"20XX"},{compatibilityHook:!0,executables:{win32:["7daystodie.exe"]},name:"7 Days To Die"},{executables:{win32:["/9dragons awaken/ninedragons.exe"]},name:"9Dragons Awaken"},{executables:{win32:["hatintimegame.exe"]},name:"A Hat in Time"},{executables:{win32:["rememberinghowwemet.exe"]},name:"A Kiss For The Petals - Remembering How We Met"},{executables:{win32:["/a sky full of stars/advhd.exe"]},name:"A Sky Full Of Stars"},{executables:{darwin:["a study in steampunk choice by gaslight.app"]},name:"A Study In Steampunk: Choice By Gaslight"},{executables:{win32:["actionhenk.exe"]},name:"Action Henk"},{executables:{win32:["adventure-capitalist.exe"]},name:"AdVenture Capitalist"},{executables:{win32:["aeon rivals.exe"]},name:"Aeon Rivals"},{executables:{win32:["ageofconan.exe"]},name:"Age of Conan"},{executables:{win32:["aok hd.exe","empires2.exe"]},name:"Age of Empires II"},{executables:{win32:["age2_x1.exe"]},name:"Age of Empires II: The Conquerors"},{executables:{win32:["age3y.exe"]},name:"Age of Empires III"},{executables:{win32:["tps.exe"]},name:"Age of Gunslingers Online"},{executables:{win32:["/age of wushu/bin/fxgame.exe"]},name:"Age of Wushu"},{executables:{win32:["aiwar.exe"]},name:"AI War: Fleet Command"},{executables:{win32:["aion.bin"]},name:"Aion"},{executables:{win32:["alanwake.exe"]},name:"Alan Wake"},{executables:{win32:["alan_wakes_american_nightmare.exe"]},name:"Alan Wake's American Nightmare"},{executables:{darwin:["albion-online.app"],win32:["albion-online.exe"]},name:"Albion Online"},{executables:{win32:["/alicesoft/rance vi/system40.exe"]},name:"Alice Soft"},{executables:{win32:["alienbreed2assault.exe"]},name:"Alien Breed 2: Assault"},{executables:{win32:["avp3.exe","avp_launcher.exe"]},name:"Alien Vs Predator"},{executables:{win32:["ai.exe"]},name:"Alien: Isolation"},{executables:{win32:["allegiance.exe"]},name:"Allegiance"},{executables:{win32:["ava.exe"]},name:"Alliance of Valiant Arms"},{executables:{win32:["altitude.exe"]},name:"Altitude"},{executables:{win32:["anarchy.exe"]},name:"Anarchy Online"},{executables:{win32:["anno4.exe"]},name:"Anno 1404"},{executables:{win32:["anno5.exe"]},name:"Anno 2070"},{executables:{win32:["anno2205.exe"]},name:"Anno 2205"},{executables:{win32:["/antichamber/binaries/win32/udk.exe"]},name:"Antichamber"},{executables:{win32:[".exe"]},name:"Ao no Kanata no Four Rhythm"},{executables:{win32:["apb.exe"]},name:"APB Reloaded"},{executables:{win32:["archeage.exe"]},name:"ArcheAge"},{executables:{win32:["argentum.exe"]},name:"Argentum"},{compatibilityHook:!0,executables:{win32:["arma3.exe"]},name:"Arma 3"},{executables:{win32:["armello.exe"]},name:"Armello"},{compatibilityHook:!0,executables:{win32:["armoredwarfare.exe"]},name:"Armored Warfare"},{executables:{win32:["arpiel.exe"]},name:"Arpiel"},{executables:{win32:["thespacegame.exe"]},name:"Ascent - The Space Game"},{executables:{win32:["aclauncher.exe","acclient.exe"]},name:"Asheron's Call"},{executables:{win32:["ac3sp.exe","ac3mp.exe"]},name:"Assassin's Creed III"},{executables:{win32:["ac4bfsp.exe","ac4bfmp.exe"]},name:"Assassin's Creed IV: Black Flag"},{executables:{win32:["acc.exe"]},name:"Assassin's Creed Rogue"},{executables:{win32:["acu.exe"]},name:"Assassin's Creed Unity"},{executables:{win32:["acbsp.exe","acbmp.exe"]},name:"Assassin's Creed: Brotherhood"},{executables:{win32:["acorigins.exe"]},name:"Assassin's Creed: Origins"},{executables:{win32:["acrsp.exe"]},name:"Assassin's Creed: Revelations"},{executables:{win32:["cactus.exe"]},name:"Assault Android Cactus"},{executables:{win32:["assettocorsa.exe"]},name:"Assetto Corsa"},{executables:{win32:["astebreed.exe"]},name:"Astebreed"},{executables:{win32:["/astroneer early access/astro.exe"]},name:"Astroneer"},{executables:{win32:["audiosurf.exe","questviewer.exe"]},name:"Audiosurf"},{executables:{win32:["audiosurf2.exe"]},name:"Audiosurf 2"},{executables:{darwin:["avalonlords.app"],win32:["avalonlords.exe"]},name:"Avalon Lords"},{executables:{win32:["awesomenauts.exe"]},name:"Awesomenauts"},{executables:{win32:["axiomverge.exe"]},name:"Axiom Verge"},{executables:{win32:["/azure striker gunvolt/exe/gv_win.exe"]},name:"Azure Striker"},{executables:{win32:["rats.exe"]},name:"Bad Rats"},{executables:{win32:["baremetal.exe"]},name:"Bare Metal"},{executables:{win32:["bastion.exe"]},name:"Bastion"},{executables:{win32:["batmanak.exe"]},name:"Batman Arkham Knight"},{executables:{win32:["batmanac.exe"]},name:"Batman: Arkham City"},{executables:{win32:["wesnoth.exe"]},name:"Battle for Wesnoth"},{executables:{win32:["/battle squares/battlesquares.exe"]},name:"Battle Squares"},{executables:{win32:["battleblocktheater.exe"]},name:"BattleBlock Theater"},{compatibilityHook:!0,executables:{win32:["bf1.exe"]},name:"Battlefield 1",overlay:!0},{executables:{win32:["bf2.exe"]},name:"Battlefield 2"},{executables:{win32:["bf2142.exe"]},name:"Battlefield 2142"},{executables:{win32:["bf3.exe"]},name:"Battlefield 3"},{executables:{win32:["vu.exe"]},name:"Battlefield 3: Venice Unleashed"},{executables:{win32:["bf4.exe"]},name:"Battlefield 4"},{executables:{win32:["bfh.exe"]},name:"Battlefield Hardline"},{executables:{win32:["bfbc2game.exe"]},name:"Battlefield: Bad Company 2"},{executables:{win32:["bf4cte.exe"]},name:"Battlefiled 4 CTE"},{executables:{},name:"Battlerite "},{executables:{win32:["bugs.exe"]},name:"BBLiT"},{executables:{win32:["beathazard.exe"]},name:"Beat Hazard"},{executables:{win32:["bejeweled3.exe"]},name:"Bejeweled 3"},{executables:{win32:["bejblitz.exe"]},name:"Bejeweled Blitz"},{executables:{win32:["besiege.exe"]},name:"Besiege"},{executables:{win32:["bge.exe"]},name:"Beyond Good & Evil"},{executables:{win32:["bioshock.exe"]},name:"Bioshock"},{executables:{win32:["bioshock2.exe"]},name:"BioShock II"},{executables:{win32:["bioshockinfinite.exe"]},name:"BioShock Infinite"},{executables:{win32:["bitwig studio.exe"]},name:"Bitwig Studio"},{compatibilityHook:!0,executables:{win32:["blackdesert32.exe","blackdesert64.exe"]},name:"Black Desert Online"},{executables:{win32:["blackshot.exe"]},name:"Blackshot SEA"},{compatibilityHook:!0,executables:{win32:["/bns/bin64/client.exe","playbns.exe"]},name:"Blade & Soul",overlay:!1},{executables:{win32:["berimbau.exe"]},name:"Blade Symphony"},{executables:{win32:["/blake stone - planet strike/dosbox/dosbox.exe"]},name:"Blake Stone - Planet Strike"},{executables:{win32:["bbcse.exe"]},name:"BlazBlue Continuum Shift Extend"},{executables:{win32:["blobby.exe"]},name:"Blobby Volley 2"},{executables:{win32:["blocknload.exe"]},name:"Block n Load"},{executables:{win32:["blockland.exe"]},name:"Blockland"},{executables:{win32:["bloodlinechampions.exe"]},name:"Bloodline Champions"},{executables:{win32:["boid.exe"]},name:"Boid"},{executables:{win32:["r2g_launcher.exe"]},name:"Book of Demons"},{executables:{win32:["/borderlands/borderlands.exe"]},name:"Borderlands"},{executables:{win32:["borderlands2.exe"]},name:"Borderlands 2"},{executables:{win32:["borderlandspresequel.exe"]},name:"Borderlands: the Pre-Sequel"},{executables:{win32:["braid.exe"]},name:"Braid"},{executables:{darwin:["brawlhalla.app"],win32:["brawlhalla.exe"]},name:"Brawlhalla"},{executables:{win32:["shippingpc-stormgame.exe"]},name:"Bulletstorm"},{executables:{win32:["c9.exe"]},name:"C9"},{executables:{win32:["cabal2main.exe"]},name:"Cabal 2"},{executables:{win32:["cabalmain.exe"]},name:"Cabal Online"},{executables:{win32:["cod2mp_s.exe","cod2sp_s.exe"]},name:"Call of Duty 2"},{executables:{win32:["iw3mp.exe","iw3sp.exe"]},name:"Call of Duty 4: Modern Warfare"},{executables:{win32:["t6sp.exe"]},name:"Call of Duty: Black Ops"},{executables:{win32:["blackops3.exe"]},name:"Call of Duty: Black Ops III"},{executables:{win32:["iw4mp.exe","iw4sp.exe"]},name:"Call of Duty: Modern Warfare 2"},{executables:{win32:["iw5mp.exe"]},name:"Call of Duty: Modern Warfare 3"},{executables:{win32:["codwawmp.exe","codwaw.exe"]},name:"Call of Duty: World at War"},{executables:{win32:["coj.exe"]},name:"Call of Juarez"},{executables:{win32:["cojgunslinger.exe"]},name:"Call of Juarez: Gunslinger"},{executables:{darwin:["cardhunter.app"],win32:["cardhunter.exe"]},name:"Card Hunter"},{executables:{darwin:["cargocommander.app"],win32:["cargocommander.exe"]},name:"Cargo Commander"},{executables:{win32:["carrier.exe"]},name:"Carrier Command Gaea Mission"},{executables:{win32:["/castlecrashers/castle.exe"]},name:"Castle Crashers"},{executables:{win32:["cataclysm-tiles.exe"]},name:"Cataclysm: Dark Days Ahead"},{executables:{win32:["cavestory+.exe"]},name:"Cave Story+"},{executables:{win32:["center city.exe"]},name:"Center City"},{executables:{win32:["/chaoscode_nsoc/chaoscode.exe"]},name:"Chaos Code: New Sign of Catastrophe"},{executables:{win32:["barkleyv120.exe"]},name:"Charles Barkley: Shut Up and Jam Gaiden"},{executables:{win32:["childoflight.exe"]},name:"Child of Light"},{executables:{win32:["cmw.exe"]},name:"Chivalry: Medieval"},{executables:{win32:["chronicle.exe"]},name:"Chronicle - Runescape Legends"},{executables:{win32:["chronicon.exe"]},name:"Chronicon"},{executables:{win32:["cities.exe"]},name:"Cities: Skylines"},{executables:{win32:["citra-qt.exe","/file:///127.0.0.1:1337/nitro). Nitro te da avatares animados, te permite subir ficheros ms grandes, tener una insignia de nitro en el perfil, y puedes utilizar emojis personalizados en cualquier parte.\n\nSois tan increbles y nos habis mostrado tanto apoyo que hemos decidido aadir dos nuevas caractersticas a los suscriptores de Nitro sin coste adicional.\n\n* **Emoji animado!** Con los poderes del tiempo (y algo de cdigo) tus emotes ahora pueden menear el esqueleto.\n* **Opcin de 1080p y 60fps** para que la pantalla compartida fluya. 1080p is algo duro para los cacharros antiguos, as que ten cuidado!\n* Adems, **Ahora soportamos Paypal!**  [Esta nos la habais pedido vosotros.](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\nEL CUENTO DE LOS DOS BUFOS {progress}\n=====================\n\n* **El propietario de un grupo de MDs ahora est etiquetado** y tratado como un rey en la lista de miembros. Arrodillaos ante vuestros creadores de grupos.\n* **Estamos en vivo en Japn!**  .\n\nANDROID TIENE TRES BUFOS {progress}\n=====================\n\n* **Se ha aumentado la estabilidad para llamadas de voz y vdeo** con conexiones pobres. El ms puro de los bufos.\n* **Cambiar de mensajes fijados a la bsqueda ahora funciona.** Ampla desde el chat a los puntos de interes! Es como teleportarse.\n* **Los temas claros y oscuros ahora recben respeto en muchas ms pantallas.** Era hora de conseguir algo de respeto.\n\n2017 SE VAAAAA {improved}\n=====================\n\n* Por si te lo perdiste, hablamos sobre [nuestros planes para 2018 aqu.](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n* Hemos [reabierto la tienda de merchandising!](https://merch.discordapp.com/) Hay algunas cosas molonas.\n* Lo ms seguro es que esta sea el ltimo registro de cambios del ao. Espero que metafricamente todas vuestras tiradas sean crticos en lo que queda de ao. Nos vemos en el otro lado!\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "fr"\nvideo: "party-wump.mp4"\n---\nPIED AU PLANCHER {added marginTop}\n=====================\n\nPour ceux qui ne sont pas au courant, vous pouvez soutenir le dveloppement de Discord et obtenir des fonctionnalits cool grce  l\'abonnement [Nitro](https://discordapp.com/nitro). Avec Nitro, vous avez des avatars anims, la possibilit d\'uploader des fichiers plus gros, un badge de profil Nitro, et vous pouvez utilisez vos mojis personnaliss partout.\n\nVous tes vraiment incroyables, et vous nous avez normment soutenu. Par consquent, nous ajoutons deux fonctionnalits supplmentaires aux abonns Nitro pour le mme prix : \n\n* **Des mojis anims !** Grce au pouvoir du temps (et  un peu de code), vos moticnes pourront maintenant se dhancher.\n* **Options 60fps et 1080p** pour du partage d\'cran plus fluide que fluide. Les vieilles bcanes pourraient avoir du mal avec le 1080p, alors faites attention !\n* De plus, **PayPal est maintenant support !** [C\'est vous qui l\'aviez demand.](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\nL\'HISTOIRE DE DEUX BUFFS {progress}\n=====================\n\n* **Le propritaire d\'un groupe priv est maintenant indiqu** et trait comme un roi dans la liste des membres. Agenouillez\\-vous devant vos majestueux crateurs de groupes.\n* **Nous avons mis en ligne les serveurs Japonais !** .\n\nANDROID A EU TROIS BUFFS {progress}\n=====================\n\n* **Une meilleure stabilit pour les appels audio et vido** quand vous vous trouvez dans des conditions rseau dgrades. Une amlioration brute de dcoffrage.\n* **Le saut depuis la recherche ou les messages pingls fonctionne dsormais.** Vous pouvez vous balader dans le chat et vous rendre instantanment aux endroits de la conversation qui vous intressent. C\'est comme les dplacements rapides dans les jeux vido.\n* **Les couleurs des thmes Clair et Sombre sont maintenant respectes sur beaucoup plus d\'crans** qu\'avant. Il tait temps qu\'ils se fassent respecter.\n\n2017 EST FINIIIIIIIE {improved}\n=====================\n\n* Si vous l\'avez rat, nous avons parl de [nos plans pour 2018 ici.](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n* Nous venons juste de [relancer notre boutique !](https://merch.discordapp.com/) On a plein de choses qui respirent la classe.\n* Il est trs probable que ce soit le dernier journal des modifications de l\'anne. Pour cette fin d\'anne, on espre que vous ferez des russites critiques en lanant vos ds dans le jeu de la vie.  l\'anne prochaine !\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "pt-br"\nvideo: "party-wump.mp4"\n---\nP NA TBUA {added marginTop}\n=====================\n\nPara quem no sabe, voc pode apoiar o desenvolvimento do Discord e descolar funcionalidades bacanudas com uma assinatura [Nitro](https://discordapp.com/nitro). Ser um assinante Nitro desbloqueia avatares animados, envio de arquivos maiores, uma medalha especial no seu perfil e o poder de usar seus emojis personalizados em qualquer lugar.\n\nVocs tem sido incrveis e nos apoiado bastante. Ento, estamos adicionando duas novas funes para os assinantes Nitro sem nenhum custo extra:\n\n* **Emojis Animados!** Com o poder do tempo (e alguma programao), seus emoticons vo poder fazer o bum bum tam tam, digo, chacoalhar o traseiro.\n* **Opes de 60fps e 1080p** para aquele Compartilhamento de Tela lisinho e suaaaaave. Lembre\\-se que 1080p exige muito do seu maquinrio, ento... use este poder com sabedoria!\n* Alm do mais, **PayPal agora  uma opo de pagamento!** [Isto foi pedido por vocs, seus lindos!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\nERA UMA VEZ DUAS MELHORIAS {progress}\n=====================\n\n* **O Proprietrio de uma Mensagem em Grupo agora  rotulado** e tratado como um rei na lista de membros. Ajoelhem\\-se perante os poderosos criadores de seus grupos!\n* **Os servidores no Japo esto operantes!** .\n\nMAS PARA ANDROID SO TRS {progress}\n=====================\n\n* **Aumentamos a estabilidade de Chamadas de Voz e de Vdeo** durante condies precrias de rede. Uma melhoria bem crua (como um bife mal passado).\n* **Saltar agora funciona na pesquisa ou nas mensagens fixadas.** Procure pelo chat por pontos de interesse.  como entrar num cano verde e sair direto onde voc precisa.\n* **Os temas Claro e Escuro agora so respeitados em muito mais telas** do que antes. J era hora deles receberem respeito!\n\n2017 T ACABANDOOOO {improved}\n=====================\n\n* Se voc perdeu, ns falamos um pouco dos [nossos planos para 2018 aqui.](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n* Ns tambm acabamos de [relanar nossa loja!](https://merch.discordapp.com/) Tem algumas coisinhas muito delicinhas por l.\n* Esse  o ltimo changelog de 2017. Esperamos que seus dados rolem acertos crticos em todos os testes pelo resto do ano! Nos vemos do outro lado!\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "ru"\nvideo: "party-wump.mp4"\n---\n   {added marginTop}\n=====================\n\n ,   ,     Discord      [Nitro\\-](https://discordapp.com/nitro). Nitro    ,    ,        .\n\n,   ,      .         Nitro   :\n\n* ** !**      (  )      .\n* **60 FPS  1080p **     . 1080p      ,    !\n*  , **  PayPal  !** [   , .](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\n    {progress}\n=====================\n\n* **     **,       .     .\n* **   !** .\n\nANDROID    {progress}\n=====================\n\n* **      **      .    .\n* **      .**      .       .\n* **        **,  .     .\n\n2017   {improved}\n=====================\n\n*    ,    [   2018  .](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n*    [  !](https://merch.discordapp.com/).      .\n*        .            .    !\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "de"\nvideo: "party-wump.mp4"\n---\nTRITT AUFS GASPEDAL {added marginTop}\n=====================\n\nFalls ihr es noch nicht wusstet, ihr knnt die Entwicklung von Discord mit einem [Nitro\\-Abo](https://discordapp.com/nitro) untersttzen und bekommt auch noch coole Features dazu. Nitro erlaubt euch animierte Avatare, grere Datei\\-Uploads, ein Nitro\\-Profil\\-Abzeichen und ihr knnt eure eigenen Emojis berall nutzen.\n\nIhr seid so toll, und habt uns so viel Untersttzung zukommen lassen, dass wir fr unsere Nitro\\-Abonnenten zwei neue Features ohne Zusatzkosten hinzufgen:\n\n* **Animierte Emojis!** Mit der Macht der Zeit (und etwas Programmcode), kommt jetzt Bewegung in eure Emojis.\n* **60\\-FPS\\- und 1080p\\-Optionen** fr flssiges Screen\\-Sharing. 1080p bringt ltere Computer ziemlich ins Schwitzen, also Vorsicht!\n* Auerdem, **PayPal wird nun untersttzt!** [Darum habt ihr uns gebeten.](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\nDIE GESCHICHTE ZWEIER BUFFS {progress}\n=====================\n\n* **Der Eigentmer einer Gruppen\\-DM wird nun gekennzeichnet** und wie ein Knig auf der Mitgliederliste behandelt. Huldigt den mchtigen Gruppenerstellern.\n* **Die japanischen Server sind live!** .\n\nDREI BUFFS FR ANDROID {progress}\n=====================\n\n* **Erhhte Stabilitt fr Sprach\\- und Videoanrufe** bei schlechten Netzwerkverbindungen. Der grundlegendste aller Buffs.\n* **Von Suchen oder Pins in den Chat springen funktioniert jetzt.** Bewege dich direkt zu den interessanten Stellen im Chat. Das ist wie Schnellreise in Spielen.\n* **Die Farbschemen Hell oder Dunkel werden jetzt in noch mehr Anzeigen bercksichtigt,** als zuvor. Wurde auch Zeit, dass sie respektiert werden.\n\n2017 IST ZU ENDEEEEEE {improved}\n=====================\n\n* Falls ihr es verpasst habt, [wir haben hier ber unsere Plne fr 2018 geredet](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n* Wir haben gerade [unseren Merchandise\\-Shop wiedererffnet!](https://merch.discordapp.com/) Da gibt es jetzt Kuschelig\\-Warmes.\n* Dies ist voraussichtlich das letzte Change\\-Log fr dieses Jahr. Ich hoffe euer metaphorischer Wrfel krittet in eurem Sinne fr den Rest des Jahres. Wir sehen uns auf der anderen Seite!\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "it"\nvideo: "party-wump.mp4"\n---\nA TAVOLETTA {added marginTop}\n=====================\n\nPer coloro che non lo sapessero,  possibile sostenere lo sviluppo di Discord e ottenere delle funzionalit extra con l\'abbonamento a [Nitro](https://discordapp.com/nitro). Nitro permette di avere avatar animati, caricare file di dimensioni maggiori, la medaglia di Nitro sul profilo e di poter usare le emoji personalizzate dappertutto.\n\nSiete fenomenali, ci avete mostrato veramente tanto supporto. Per questo abbiamo deciso di aggiungere altre due funzionalit per gli abbonati di Nitro, senza costi aggiuntivi:\n\n* **Emoji animate!** Con il potere conferitoci dal tempo (e da un po\' di codice), le tue emoji sono pi vive che mai.\n* **Opzioni 1080p e 60fps** per una Condivisione schermo liscia come l\'olio. I computer pi datati faranno fatica a reggere il 1080p, perci maneggiare con cautela!\n* Inoltre, **ora PayPal  supportato!** [Ce lo avete chiesto proprio voi.](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\nC\'ERA UNA VOLTA, NELLA TERRA DEI BUFF {progress}\n=====================\n\n* **Il proprietario di una chat di Messaggi diretti di gruppo viene ora contrassegnato** e trattato come un Re nella lista dei membri. Inchinatevi davanti al vostro Sire, nonch creatore di gruppi.\n* **Sono anche arrivati i server in Giappone!** .\n\nTRE BUFF PER ANDROID {progress}\n=====================\n\n* **Aumentata la stabilit delle chiamate vocali e delle videochiamate** in caso di cattive condizioni di rete. Il pi grezzo dei buff possibili.\n* **Passare ad un messaggio ora funziona sia dalla ricerca che dai messaggi fissati.** Restringi il campo sui messaggi che pi ti interessano. Come un portale di teletrasporto nei giochi.\n* **I temi Chiaro e Scuro sono applicati in molte pi schermate** di prima. Era ora che ottenessero un po\' pi di rispetto.\n\nIL 2017 STA FINEEEENDO {improved}\n=====================\n\n* Se te lo sei perso, abbiamo parlato dei [nostri piani per il 2018 qui.](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n* Abbiamo appena [rilasciato una nuova versione del negozio di articoli!](https://merch.discordapp.com/) Tante buone cose vi aspettano.\n* Molto probabilmente questa sar l\'ultima nota di rilascio dell\'anno. Spero che i vostri dadi metaforici vi segnino tanti colpi critici per i prossimi giorni. Ci vediamo nel 2018!\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "ja"\nvideo: "party-wump.mp4"\n---\nNitro {added marginTop}\n=====================\n\n[Discord Nitro](https://discordapp.com/nitro)Discord\n\nNitro2\n\n* ****\n* **60fps1080p**1080p\n* **PayPal** [](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\n {progress}\n=====================\n\n* **DM**\n* **** ()\n\nAndroid3 {progress}\n=====================\n\n* ****\n* ****\n* ****\n\n2017 {improved}\n=====================\n\n* 2018[](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2) \n* [](https://merch.discordapp.com/) WumpusT()\n* SSR\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "ko"\nvideo: "party-wump.mp4"\n---\n  {added marginTop}\n=====================\n\n   , [Nitro](https://discordapp.com/nitro)   Discord        . Nitro  ,    , Nitro          .\n\n       . , Nitro      :\n\n* ** !**    (  ),    .\n* **60fps1080p **     . 1080p     ,  !\n* , ** PayPal !** [  .](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\n   {progress}\n=====================\n\n* **    **,    .   .\n* **  !** .\n\nAndroid  3 {progress}\n=====================\n\n* **    **      .   .\n* **      .**    .      .\n* **       **.      .\n\n2017  {improved}\n=====================\n\n*  ,   [2018     ](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n*  [  !](https://merch.discordapp.com/)     .\n*         .       .   !\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "nl"\nvideo: "party-wump.mp4"\n---\nTRAP HET GASPEDAAL IN {added marginTop}\n=====================\n\nVoor degenen die het nog niet weten, je kunt de ontwikkeling van Discord ondersteunen en leuke functies krijgen met een [Nitro\\-abonnement](https://discordapp.com/nitro). Nitro geeft je geanimeerde avatars, grotere bestandsuploads, een Nitro\\-profielbadge en je kunt overal je aangepaste emoji gebruiken.\n\nJullie zijn zo geweldig en hebben ons zoveel steun getoond. Dus we voegen nog twee extra functies toe voor Nitro\\-abonnees zonder extra kosten:\n\n* **Geanimeerde emoji!** Met de kracht van tijd (en wat code), kunnen je emotes nu hun \'booties shaken\'.\n* **60 fps en 1080p opties** voor vloeibare weergave van schermdeling. 1080p is behoorlijk zwaar voor oudere rigs, dus wees voorzichtig!\n* Verder **wordt PayPal nu ondersteund!** [Dit werd door jullie aangevraagd.](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\nHET VERHAAL VAN DE TWEE BUFFS {progress}\n=====================\n\n* **De eigenaar van een groepsgesprek heeft nu een label** en wordt behandeld als een koning op de ledenlijst. Buig voor je machtige groepcreerders!\n* **Japanse servers zijn live!** .\n\nDRIE BUFFS VOOR ANDROID {progress}\n=====================\n\n* **Verhoogde stabiliteit voor spraak\\- en videogesprekken** tijdens slechte netwerkverbindingen. De meest rauwe buffs.\n* **Springen van zoeken of pinnen werkt nu.** Zoom rond in chats naar interessante plekjes. Het lijkt op snelle warps in games.\n* **Licht en donker thema wordt nu gerespecteerd op veel meer schermen** dan voorheen. Werd eens tijd dat ze respect kregen.\n\n2017 GAAT WEGGGGGGG {improved}\n=====================\n\n* Als je het hebt gemist, we hebben het gehad over [onze plannen voor 2018 hier](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n* We hebben net [onze merch store opnieuw gelanceerd!](https://merch.discordapp.com/) Er is wat zoete, gezellige goedheid.\n* Dit is waarschijnlijk het laatste wijzigingslogboek van dit jaar. Ik hoop dat jullie metaforische dobbelstenen voor de rest van het jaar kritieke hits zullen opleveren. Tot ziens in 2018!\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nlocale: "sv-se"\nvideo: "party-wump.mp4"\n---\nGASEN I BOTTEN {added marginTop}\n=====================\n\nFr de som inte visste s kan du stdja Discords utveckling och f sjuka extrafunktioner med ett [Nitro\\-abonnemang](https://discordapp.com/nitro). Nitro ger dig animerade avatarer, strre filuppladningar, ett nitromrke p profilen och du kan skapa dina egna emojis vart som helst.\n\nNi r s fantastiska och har visat oss s mycket std. S vi lgger till tv nya funktioner fr Nitro\\-abbonenter utan extra kostnad.\n* **Animerad emoji!** Med hjlp av lite tid(och lite kodning) kan dina emotes nu skaka rumpan.\n* **60 fps och 1080p\\-alternativ** fr riktigt smidig skrmledning. 1080p r rtt tungt p ldre burkar, s var frsiktig!\n* Nu fortstter vi till lite mer coola grejer**, nu finns PayPal\\-std!** [Detta r ngot ni har bett om!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\nSAGAN OM TV BUFFAR {progress}\n=====================\n\n* **garen till en direktmeddelandesgrupp str nu utmrkt** och behandlas som kungen av medlemslistan. Buga infr era mktiga gruppskapare.\n* **De japanska serverarna r live!** .\n\nANDROID FICK TRE BUFFAR {progress}\n=====================\n\n* **Utkad stabilitet fr rst\\- och videosamtal** vid dlig ntverksanslutning. Den raste av alla buffar.\n* **Man kan nu hoppa frn skningar till pins.** Hoppa omkring i chatten mellan olika intressanta punkter. Det r som att snabb\\-warpa i spel.\n* **Ljust och mrkt tema hanteras nu p mnga fler skrmar** n innan. Hg tid att de fr litet respekt.\n\n2017 TAR SLUUUUT {improved}\n=====================\n\n* Ifall du missade det, s pratar vi om [vra planer fr 2018 hr.](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n* Vi har precis [nyppnat vr merch\\-butik!](https://merch.discordapp.com/) Det finns ngra riktigt mysiga prylar dr.\n* Detta r troligen den sista uppdateringsloggen innan nsta r. Jag hoppas dina metaforiska trningar ger perfekta rolls fr resten av ret. Vi ses p andra sidan!\n\n---changelog---\ndate: "2017-12-21"\nrevision: 1\nvideo: "party-wump.mp4"\n---\nPEDAL TO THE METAL {added marginTop}\n=====================\n\nFor those that dont know, you can support Discord\'s development and get sweet features with a [Nitro subscription](https://discordapp.com/nitro). Nitro gives you animated avatars, larger file uploads, nitro profile badge, and you can use your custom emoji anywhere.\n\nYou guys are so awesome and have shown us so much support. So, were adding two more features for Nitro subscribers at no extra cost:\n\n* **Animated emoji!** With the power of time (and some code), your emotes can now shake their booties.\n* **60fps and 1080p options** for liquid smoove Screen Share. 1080p is pretty hard on older rigs, so tread carefully!\n* Furthermore, **PayPal is now supported!** [This was requested by you guys.](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/17528410-nitro)\n\nTHE TALE OF TWO BUFFS {progress}\n=====================\n\n* **The owner of a Group DM is now labeled** and treated like a king on the member list. Bow before your mighty group creators.\n* **Japan servers are live!** .\n\nANDROID GOT THREE BUFFS {progress}\n=====================\n\n* **Increased stability for voice and video calls** during poor network connections. The rawest of buffs.\n* **Jumping from search or pins now works.** Zoom around chat to points of interest. Its like fast warps in games.\n* **Light and Dark theme is now respected on many more screens** than before. About time they got some respect.\n\n2017 IS GOING AWAAAAY {improved}\n=====================\n\n* If you missed it, we talked about [our plans for 2018 here.](https://blog.discordapp.com/discord-did-things-in-2017-5eb2087da4f2)\n* We just [relaunched our merch store!](https://merch.discordapp.com/) Theres some sweet cozy goodness.\n* This is likely the last change log until next year. I hope your metaphorical dice roll critical hits for the remainder of the year. See you on the other side!\n'}]));
//# sourceMappingURL=113.8bd5299905e6343f91db.js.map

}
/*
     FILE ARCHIVED ON 23:45:43 Dec 24, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 02:08:31 Dec 09, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 208.741
  exclusion.robots: 0.198
  exclusion.robots.policy: 0.188
  cdx.remote: 0.064
  esindex: 0.011
  LoadShardBlock: 51.943 (3)
  PetaboxLoader3.datanode: 78.71 (4)
  load_resource: 89.841
  PetaboxLoader3.resolve: 36.917
*/